/*! Copyright (c) 2022 WhatsApp Inc. All Rights Reserved. */
(self.webpackChunkwhatsapp_web_client = self.webpackChunkwhatsapp_web_client || []).push([
    [275], {
        1737: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                e.cartItemCollection.reset(), e.set("message", void 0), e.trigger("change:cartItemCollection"), (0, r.default)(e)
            };
            var r = a(n(9477))
        },
        16670: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e, t) {
                var n = r.CartCollection.findCart(e);
                return n.cartItemCollection.remove(t), n.trigger("change:cartItemCollection"), (0, i.default)(n), n.itemCount
            };
            var r = n(2133),
                i = a(n(9477))
        },
        12096: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.createProductFromRefreshCartItem = C, t.isPriceMatch = x, t.matchCartItemsToProducts = function(e, t) {
                var n = l.CatalogCollection.get((0, i.createWid)(e.id)),
                    a = [],
                    r = [],
                    c = !0;
                n && e.cartItemCollection.forEach((function(i) {
                    var o = n.productCollection.get(i.id),
                        l = t && t.products.find((function(e) {
                            return e.id === i.id
                        }));
                    if (l = function(e, t) {
                            if (e && "deleted" === e.status) return void t.productCollection.remove(e.id);
                            return e
                        }(l, n), !t && o) {
                        var u = function(e, t) {
                            var n = function(e, t) {
                                return e.priceAmount1000 === (0, p.getActivePrice)(t) && e.currency === t.currency && e.name === t.name && e.imageHash === t.imageHash
                            }(e, t);
                            n || e.set({
                                priceAmount1000: (0, p.getActivePrice)(t),
                                currency: t.currency,
                                name: t.name,
                                imageHash: t.imageHash
                            }, {
                                silent: !0
                            });
                            return n
                        }(i, o);
                        c = c && u, a.push({
                            product: o,
                            cartItem: i
                        })
                    } else if (l) {
                        var s = function(e, t) {
                            var n = !t || function(e, t) {
                                var n, a, r = (0, p.getActivePrice)(g(t));
                                return x(e.priceAmount1000, r) && (!(0, m.isString)(e.currency) && !(0, m.isString)(t.currency) || e.currency === t.currency) && e.name === t.name && e.imageHash === (null === (n = t.media) || void 0 === n || null === (a = n.image) || void 0 === a ? void 0 : a.id)
                            }(e, t);
                            if (!n && t) {
                                var a = g(t);
                                e.set({
                                    priceAmount1000: (0, p.getActivePrice)(a),
                                    currency: a.currency,
                                    name: a.name,
                                    imageHash: a.imageHash
                                }, {
                                    silent: !0
                                })
                            }
                            return n
                        }(i, l);
                        c = c && s, a.push({
                            product: C(l, e.id),
                            cartItem: i
                        })
                    } else c = !1, r.push(i.id)
                })), n || (0, u.default)(e);
                c || (r.length && e.cartItemCollection.remove(r), e.trigger("change:cartItemCollection"), s.Cmd.openModal((0, v.jsx)(d.default, {
                    onOK: function() {
                        s.Cmd.closeModal()
                    },
                    children: o.fbt._("One or more items in your cart have been updated", null, {
                        hk: "1jr9xE"
                    })
                })));
                return (0, h.default)(e), a
            }, t.parsePrice = _;
            var r = a(n(81109)),
                i = n(84460),
                o = n(48360),
                l = n(72743),
                u = a(n(1737)),
                s = n(65901),
                d = a(n(86777)),
                c = n(3544),
                f = n(8842),
                p = n(56712),
                h = a(n(9477)),
                m = n(82118),
                v = n(85893);

            function g(e) {
                var t, n, a, r, i, o, l, u;
                return {
                    id: e.id,
                    name: null !== (t = e.name) && void 0 !== t ? t : "",
                    imageCdnUrl: null === (n = e.media) || void 0 === n || null === (a = n.image) || void 0 === a ? void 0 : a.request_image_url,
                    imageHash: null === (r = e.media) || void 0 === r || null === (i = r.image) || void 0 === i ? void 0 : i.id,
                    currency: e.currency,
                    priceAmount1000: _(e.price),
                    salePriceAmount1000: _(null === (o = e.sale_price) || void 0 === o ? void 0 : o.price),
                    salePriceStartDate: (0, f.parseDateValue)(null === (l = e.sale_price) || void 0 === l ? void 0 : l.start_date),
                    salePriceEndDate: (0, f.parseDateValue)(null === (u = e.sale_price) || void 0 === u ? void 0 : u.end_date)
                }
            }

            function _(e) {
                return "string" == typeof e ? e.length > 0 ? parseInt(e, 10) : null : e
            }

            function x(e, t) {
                var n = _(e),
                    a = _(t);
                return (0, m.isNumber)(n) && (0, m.isNumber)(a) ? n === a : !(0, m.isNumber)(n) && !(0, m.isNumber)(a)
            }

            function C(e, t) {
                return new c.Product((0, r.default)((0, r.default)({}, g(e)), {}, {
                    catalogWid: (0, i.createWid)(t),
                    productMsgMediaData: null,
                    imageCount: 1,
                    fetchedFromServer: !0,
                    t: Date.now() / 1e3,
                    old: !1
                }))
            }
        },
        53205: (e, t, n) => {
            "use strict";
            var a = n(21314).default;
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e, t) {
                if (0 === e.cartItemCollection.length) return a.resolve({
                    products: [],
                    price: {}
                });
                var n = e.cartItemCollection.map((function(e) {
                    return e.id
                }));
                return (0, i.refreshCart)((0, r.createWid)(e.id), n, o.CartCollection.imageWidth, o.CartCollection.imageHeight, t)
            };
            var r = n(84460),
                i = n(86548),
                o = n(2133)
        },
        28217: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function() {
                return p.apply(this, arguments)
            };
            var r = a(n(87757)),
                i = a(n(48926)),
                o = n(84460),
                l = n(72743),
                u = a(n(57393)),
                s = n(62356),
                d = a(n(98576)),
                c = a(n(9477));

            function f(e) {
                var t, n, a = e.cartItemCollection.at(0);
                if (null == a) return "";
                var r = l.CatalogCollection.get((0, o.createWid)(e.id)),
                    i = null == r ? void 0 : r.productCollection.get(a.id),
                    s = null == i || null === (t = i.getProductImageCollectionHead()) || void 0 === t ? void 0 : t.mediaData;
                return null == s ? "" : s.preview instanceof u.default && null !== (n = s.preview.getBase64()) && void 0 !== n ? n : ""
            }

            function p() {
                return (p = (0, i.default)(r.default.mark((function e(t, n) {
                    var a;
                    return r.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2, (0, s.createOrder)(n.id, t.cartItemCollection.toArray());
                            case 2:
                                return a = e.sent, e.next = 5, (0, d.default)(n, a, t.itemCount, f(t), t.message);
                            case 5:
                                return (0, c.default)(t), e.abrupt("return", a.id);
                            case 7:
                            case "end":
                                return e.stop()
                        }
                    }), e)
                })))).apply(this, arguments)
            }
        },
        50882: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e, t) {
                e.set("message", t), (0, r.default)(e)
            };
            var r = a(n(9477))
        },
        78107: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e, t, n) {
                var a = r.CartCollection.findCart(e),
                    o = a.cartItemCollection.get(t.id);
                null == o || o.set("quantity", n), a.trigger("change:cartItemCollection"), (0, i.default)(a)
            };
            var r = n(2133),
                i = a(n(9477))
        },
        98576: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function() {
                return p.apply(this, arguments)
            };
            var r = a(n(87757)),
                i = a(n(48926)),
                o = n(14585),
                l = a(n(90797)),
                u = a(n(67082)),
                s = n(10399),
                d = n(1577),
                c = n(78383),
                f = n(26237);

            function p() {
                return (p = (0, i.default)(r.default.mark((function e(t, n, a, i, o) {
                    var l, s, p;
                    return r.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                if (l = (0, d.getMaybeMeUser)(), s = h(t, n, a, i, o), !u.default.equals(t.id, l)) {
                                    e.next = 4;
                                    break
                                }
                                return e.abrupt("return", (0, c.addAndSendMsgToChat)(t, s)[0].then((function() {})).catch((function(e) {
                                    throw __LOG__(3)`Order message send to chat failure: ${e}`, e
                                })));
                            case 4:
                                return e.prev = 4, e.next = 7, (0, c.addAndSendMsgToChat)(t, s)[1];
                            case 7:
                                if ((p = e.sent) && p === f.SendMsgResult.OK) {
                                    e.next = 10;
                                    break
                                }
                                throw new Error("Order message SendMsgResult failure status");
                            case 10:
                                e.next = 16;
                                break;
                            case 12:
                                throw e.prev = 12, e.t0 = e.catch(4), __LOG__(3)`Order message send to chat failure: ${e.t0}`, e.t0;
                            case 16:
                            case "end":
                                return e.stop()
                        }
                    }), e, null, [
                        [4, 12]
                    ])
                })))).apply(this, arguments)
            }

            function h(e, t, n, a, r) {
                var i = (0, d.getMaybeMeUser)(),
                    u = {
                        type: "order",
                        ack: o.ACK.CLOCK,
                        from: i,
                        id: new l.default({
                            from: i,
                            to: e.id,
                            id: l.default.newId(),
                            participant: void 0,
                            selfDir: "out"
                        }),
                        local: !0,
                        isNewMsg: !0,
                        self: "out",
                        t: s.Clock.globalUnixTime(),
                        to: e.id,
                        orderId: t.id,
                        token: t.token,
                        orderTitle: e.name || e.formattedTitle,
                        sellerJid: e.id.toString({
                            legacy: !0
                        }),
                        thumbnail: a,
                        itemCount: n,
                        message: r
                    },
                    c = t.price.total;
                return c && c.length > 0 && (u.totalAmount1000 = parseInt(c, 10)), t.price.currency && t.price.currency.length > 0 && (u.totalCurrencyCode = t.price.currency), u
            }
        },
        94751: (e, t, n) => {
            "use strict";
            var a = n(21314).default,
                r = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function() {
                return g.apply(this, arguments)
            };
            var i = r(n(87757)),
                o = r(n(48926)),
                l = n(15586),
                u = n(48360),
                s = n(24224),
                d = n(65901),
                c = n(4450),
                f = n(94520),
                p = n(43201),
                h = n(30194),
                m = n(59175),
                v = n(85893);

            function g() {
                return (g = (0, o.default)(i.default.mark((function e(t) {
                    var n, r, g, _, x, C, y, S, b, j, E, k;
                    return i.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                return n = t.name, r = t.desc, g = t.icon, _ = t.existingGroups, x = t.newGroups, C = (0, c.sendCreateCommunity)({
                                    name: n,
                                    desc: r
                                }), y = (0, o.default)(i.default.mark((function e() {
                                    return i.default.wrap((function(e) {
                                        for (;;) switch (e.prev = e.next) {
                                            case 0:
                                                return e.next = 2, C;
                                            case 2:
                                                return e.abrupt("return", new s.ActionType(u.fbt._("", null, {
                                                    hk: "2NkvWT"
                                                })));
                                            case 3:
                                            case "end":
                                                return e.stop()
                                        }
                                    }), e)
                                })))(), S = new s.ActionType(u.fbt._("", null, {
                                    hk: "YrkdK"
                                })), d.Cmd.openToast((0, v.jsx)(s.ActionToast, {
                                    id: (0, s.genId)(),
                                    initialAction: S,
                                    pendingAction: y
                                })), e.prev = 5, e.next = 8, C;
                            case 8:
                                if (b = e.sent, j = b.wid, null == g) {
                                    e.next = 14;
                                    break
                                }
                                return E = h.ProfilePicThumbCollection.gadd(j), e.next = 14, (0, p.setProfilePic)(E, g, g);
                            case 14:
                                return k = [], x.length > 0 && (k = x.map((function(e) {
                                    var t = e.subject,
                                        n = e.icon,
                                        a = e.ephemeralDuration;
                                    return (0, f.createGroup)(t, n, n, [], a, j)
                                }))), _.length && k.push((0, c.sendLinkSubgroups)({
                                    parentGroupWid: j,
                                    subgroups: _.map((function(e) {
                                        return e.id
                                    }))
                                })), e.next = 19, a.all(k);
                            case 19:
                                e.next = 24;
                                break;
                            case 21:
                                e.prev = 21, e.t0 = e.catch(5), (0, l.filteredCatch)(m.ServerStatusCodeError, (function() {}))(e.t0);
                            case 24:
                            case "end":
                                return e.stop()
                        }
                    }), e, null, [
                        [5, 21]
                    ])
                })))).apply(this, arguments)
            }
        },
        7080: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.setPushname = function(e) {
                return m(e)
            };
            var r = a(n(87757)),
                i = a(n(48926)),
                o = n(15586),
                l = n(24224),
                u = n(65901),
                s = n(73929),
                d = a(n(45159)),
                c = a(n(19472)),
                f = n(95521),
                p = n(59175),
                h = n(85893);

            function m() {
                return v.apply(this, arguments)
            }

            function v() {
                return (v = (0, i.default)(r.default.mark((function e(t) {
                    var n, a, i, v, g, _, x = arguments;
                    return r.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                return n = x.length > 1 && void 0 !== x[1] ? x[1] : (0, l.genId)(), a = x.length > 2 && void 0 !== x[2] && x[2], i = (0, c.default)(t), v = new l.ActionType(d.default.t(121)), g = s.Conn.pushname, _ = i.then((function() {
                                    var e = a ? void 0 : {
                                        actionText: d.default.t(133),
                                        actionHandler: function() {
                                            return m(g, n, !0)
                                        }
                                    };
                                    return new l.ActionType(d.default.t(119), e)
                                })).catch((0, o.filteredCatch)(p.ServerStatusCodeError, (function(e) {
                                    if (e.status >= 400) return new l.ActionType(d.default.t(120))
                                }))).catch((function() {
                                    throw __LOG__(3)`models:conn:setPushname dropped`, new l.ActionType(d.default.t(120), {
                                        actionText: d.default.t(129),
                                        actionHandler: function() {
                                            return m(status, n)
                                        }
                                    })
                                })), u.Cmd.openToast((0, h.jsx)(l.ActionToast, {
                                    id: n,
                                    initialAction: v,
                                    pendingAction: _
                                })), e.next = 9, i;
                            case 9:
                                e.sent._duplicate || (0, f.setPushnameLocally)(t);
                            case 11:
                            case "end":
                                return e.stop()
                        }
                    }), e)
                })))).apply(this, arguments)
            }
        },
        97469: (e, t, n) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function() {
                r.Cmd.openToast((0, o.jsx)(i.Toast, {
                    msg: a.fbt._("Something went wrong", null, {
                        hk: "2TMztB"
                    }),
                    duration: 6e3,
                    id: (0, i.genId)()
                }))
            };
            var a = n(48360),
                r = n(65901),
                i = n(92428),
                o = n(85893)
        },
        12036: (e, t, n) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.useGdprDelete = function() {
                return (0, i.useSendIq)((0, a.wap)("iq", {
                    xmlns: "urn:xmpp:whatsapp:account",
                    to: a.S_WHATSAPP_NET,
                    type: "get",
                    id: (0, a.generateId)()
                }, (0, a.wap)("gdpr", {
                    action: "delete"
                })), r.GdprStatusWapParser)
            };
            var a = n(78363),
                r = n(25678),
                i = n(27216)
        },
        90960: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.useGdprDownload = function() {
                var e = (0, l.useState)(!1),
                    t = (0, r.default)(e, 2),
                    n = t[0],
                    a = t[1];
                return [n, function(e) {
                    a(!0), (0, s.gdprDownloadMedia)(e).then((function(e) {
                        return u.FileSaver.downloadData((0, i.default)(e.mediaBlob, "mediaObject.mediaBlob").formData(), String(o.fbt._("My Account Info", null, {
                            hk: "IqRu3"
                        })), u.AllowedFileExtensions.ZIP)
                    })).finally((function() {
                        return a(!1)
                    }))
                }]
            };
            var r = a(n(63038)),
                i = a(n(272)),
                o = n(48360),
                l = n(67294),
                u = n(76151),
                s = n(35465)
        },
        6015: (e, t, n) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.useGdprRequest = function() {
                return (0, i.useSendIq)((0, a.wap)("iq", {
                    xmlns: "urn:xmpp:whatsapp:account",
                    to: a.S_WHATSAPP_NET,
                    type: "get",
                    id: (0, a.generateId)()
                }, (0, a.wap)("gdpr", {
                    action: "request"
                })), r.GdprStatusWapParser)
            };
            var a = n(78363),
                r = n(25678),
                i = n(27216)
        },
        25678: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.GdprStatusWapParser = void 0, t.useGdprStatus = function() {
                var e = function(e) {
                        (0, f.default)((function() {
                            h = (0, o.generateId)()
                        }));
                        var t = (0, s.useState)(h),
                            n = (0, r.default)(t, 2),
                            a = n[0],
                            i = n[1],
                            l = (0, s.useMemo)((function() {
                                return e(a)
                            }), [e, a]);
                        return [(0, c.sendSuspensefulIq)(l, p), function() {
                            return i((0, o.generateId)())
                        }]
                    }((function(e) {
                        return (0, o.wap)("iq", {
                            xmlns: "urn:xmpp:whatsapp:account",
                            to: o.S_WHATSAPP_NET,
                            type: "get",
                            id: e
                        }, (0, o.wap)("gdpr", {
                            action: "status"
                        }))
                    })),
                    t = (0, r.default)(e, 2),
                    n = t[0],
                    a = t[1];
                return [n.result, a]
            };
            var r = a(n(63038)),
                i = a(n(272)),
                o = n(78363),
                l = n(84470),
                u = n(26845),
                s = n(67294),
                d = n(28568),
                c = n(55318),
                f = a(n(74740)),
                p = new l.WapParser("parseStatus", (function(e) {
                    if (!e.hasChild("gdpr")) return null;
                    var t = e.child("gdpr");
                    if (t.hasChild("document")) {
                        var n = t.child("document");
                        return {
                            creation: n.attrTime("creation"),
                            documentMessage: (0, i.default)((0, u.decodeProtobuf)(d.MessageSpec, n.contentBytes()).documentMessage, "decodeProtobuf(MessageSpec, document.contentBytes()).documentMessage"),
                            expiration: n.attrTime("expiration"),
                            type: "GdprAvailableStatusResponse"
                        }
                    }
                    return {
                        timestamp: t.attrTime("timestamp"),
                        type: "GdprPendingStatusResponse"
                    }
                }));
            t.GdprStatusWapParser = p;
            var h = (0, o.generateId)()
        },
        44851: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.syncAndGetAdminedGroups = function() {
                return s.apply(this, arguments)
            };
            var r = a(n(87757)),
                i = a(n(48926)),
                o = n(4481),
                l = n(20050),
                u = n(85660);

            function s() {
                return (s = (0, i.default)(r.default.mark((function e() {
                    var t, n;
                    return r.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                return e.prev = 0, e.next = 3, (0, u.restoreGroupParticipants)();
                            case 3:
                                return t = l.ContactCollection.getGroupContacts(), n = t.filter((function(e) {
                                    var t, n, a = null === (t = o.ChatCollection.get(e.id.toString())) || void 0 === t || null === (n = t.groupMetadata) || void 0 === n ? void 0 : n.participants;
                                    return null != a && a.iAmAdmin()
                                })), e.abrupt("return", n);
                            case 8:
                                return e.prev = 8, e.t0 = e.catch(0), __LOG__(3)`Failed to sync group metadata`, e.abrupt("return", []);
                            case 12:
                            case "end":
                                return e.stop()
                        }
                    }), e, null, [
                        [0, 8]
                    ])
                })))).apply(this, arguments)
            }
        },
        10066: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.privacyWebNameToServerName = function(e) {
                switch (e) {
                    case "readReceipts":
                        return "readreceipts";
                    case "groupAdd":
                        return "groupadd";
                    case "profilePicture":
                        return "profile";
                    case "about":
                        return "status";
                    case "lastSeen":
                        return "last"
                }
            }, t.setPrivacyForOneCategory = function() {
                return v.apply(this, arguments)
            };
            var r = a(n(87757)),
                i = a(n(59713)),
                o = a(n(81109)),
                l = a(n(48926)),
                u = a(n(272)),
                s = n(1577),
                d = n(87957),
                c = n(54226),
                f = n(73160),
                p = n(59175);

            function h(e) {
                switch (e) {
                    case "readreceipts":
                        return "readReceipts";
                    case "groupadd":
                        return "groupAdd";
                    case "profile":
                        return "profilePicture";
                    case "status":
                        return "about";
                    case "last":
                        return "lastSeen"
                }
            }

            function m(e) {
                switch (e) {
                    case "status":
                        return d.PrivacyDisallowedListType.About;
                    case "groupadd":
                        return d.PrivacyDisallowedListType.GroupAdd;
                    case "last":
                        return d.PrivacyDisallowedListType.LastSeen;
                    case "profile":
                        return d.PrivacyDisallowedListType.ProfilePicture;
                    default:
                        throw new Error("castToPrivacyDisallowedListType: invalid name")
                }
            }

            function v() {
                return (v = (0, l.default)(r.default.mark((function e(t, n) {
                    var a, l, v, g, _, x;
                    return r.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2, (0, c.setPrivacy)([t]);
                            case 2:
                                if (1 === (a = e.sent).length) {
                                    e.next = 5;
                                    break
                                }
                                throw new Error("setPrivacy should return one response");
                            case 5:
                                if (!((l = a[0]) instanceof p.ServerStatusCodeError)) {
                                    e.next = 11;
                                    break
                                }
                                if (409 !== l.statusCode || "contact_blacklist" !== t.value) {
                                    e.next = 10;
                                    break
                                }
                                return e.next = 10, (0, f.syncSinglePrivacyDisallowedList)(m(t.name));
                            case 10:
                                throw l;
                            case 11:
                                if (v = t.name, g = t.value, _ = h(v), (0, s.setUserPrivacySettings)((0, o.default)((0, o.default)({}, (0, s.getUserPrivacySettings)()), {}, (0, i.default)({}, _, g))), "contact_blacklist" !== g) {
                                    e.next = 18;
                                    break
                                }
                                return x = {
                                    id: m(v),
                                    disallowedList: (0, u.default)(n, "contactExceptList").map((function(e) {
                                        return e.toString()
                                    })),
                                    dhash: (0, u.default)(l.dhash, "response.dhash")
                                }, e.next = 18, (0, d.getTable)().createOrReplace(x);
                            case 18:
                            case "end":
                                return e.stop()
                        }
                    }), e)
                })))).apply(this, arguments)
            }
        },
        72676: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.getTwoFactor = function() {
                return u.apply(this, arguments)
            }, t.setTwoFactor = function() {
                return s.apply(this, arguments)
            };
            var r = a(n(87757)),
                i = a(n(48926)),
                o = n(57687),
                l = a(n(32316));

            function u() {
                return (u = (0, i.default)(r.default.mark((function e() {
                    var t, n;
                    return r.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                return e.prev = 0, e.next = 3, (0, o.getTwoFactor)();
                            case 3:
                                return n = e.sent, e.abrupt("return", null !== (t = null == n ? void 0 : n.code) && void 0 !== t && t);
                            case 7:
                                return e.prev = 7, e.t0 = e.catch(0), __LOG__(3, !0, void 0, !0)`get2FA failed - ${e.t0}`, SEND_LOGS("get-2FA-failed"), e.abrupt("return", !1);
                            case 11:
                            case "end":
                                return e.stop()
                        }
                    }), e, null, [
                        [0, 7]
                    ])
                })))).apply(this, arguments)
            }

            function s() {
                return (s = (0, i.default)(r.default.mark((function e(t, n) {
                    return r.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                return e.prev = 0, e.next = 3, (0, l.default)(t, n);
                            case 3:
                                e.next = 8;
                                break;
                            case 5:
                                e.prev = 5, e.t0 = e.catch(0), __LOG__(3, !0, void 0, !0)`set2FA failed -${e.t0}`, SEND_LOGS("set-2FA-failed");
                            case 8:
                            case "end":
                                return e.stop()
                        }
                    }), e, null, [
                        [0, 5]
                    ])
                })))).apply(this, arguments)
            }
        },
        55318: (e, t, n) => {
            "use strict";
            var a = n(21314).default;
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.sendSuspensefulIq = function(e, t) {
                var n = e.attrs.id;
                if (i.has(n)) {
                    var o = i.get(n);
                    if (o instanceof a) throw o;
                    return o
                }
                var l = (0, r.sendIq)(e, t);
                throw i.set(n, l), l.then((function(e) {
                    return i.set(n, e)
                })), l
            };
            var r = n(34733),
                i = new Map
        },
        57687: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.getTwoFactor = function() {
                return f.apply(this, arguments)
            };
            var r = a(n(87757)),
                i = a(n(48926)),
                o = n(47006),
                l = n(78363),
                u = n(84470),
                s = n(34733),
                d = n(59175),
                c = new u.WapParser("getTwoFactor", (function(e) {
                    if (e.hasChild("2fa")) return {
                        code: e.child("2fa").hasChild("code"),
                        email: e.child("2fa").hasChild("email")
                    }
                }));

            function f() {
                return (f = (0, i.default)(r.default.mark((function e(t) {
                    var n;
                    return r.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2, (0, s.sendIq)(p(t), c);
                            case 2:
                                if ((n = e.sent).success) {
                                    e.next = 5;
                                    break
                                }
                                throw new d.ServerStatusCodeError(n.errorCode, n.errorText);
                            case 5:
                                return e.abrupt("return", n.result);
                            case 6:
                            case "end":
                                return e.stop()
                        }
                    }), e)
                })))).apply(this, arguments)
            }

            function p(e) {
                var t = [];
                return null != e && t.push(new l.WapNode("code", void 0, o.Binary.build(e).readByteArray())), (0, l.wap)("iq", {
                    to: l.S_WHATSAPP_NET,
                    type: "get",
                    xmlns: "urn:xmpp:whatsapp:account",
                    id: (0, l.generateId)()
                }, new l.WapNode("2fa", void 0, t))
            }
        },
        4450: (e, t, n) => {
            "use strict";
            var a = n(21314).default,
                r = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.sendCreateCommunity = function() {
                return v.apply(this, arguments)
            }, t.sendLinkSubgroups = function() {
                return _.apply(this, arguments)
            };
            var i = r(n(87757)),
                o = r(n(48926)),
                l = n(56985),
                u = n(78363),
                s = n(84470),
                d = n(90089),
                c = n(84460),
                f = n(34733),
                p = n(15824),
                h = n(59175),
                m = new s.WapParser("createCommunityReplyParser", (function(e) {
                    var t = e.child("group"),
                        n = (0, c.createWid)(`${t.attrString("id")}@g.us`);
                    if (!n.isGroup()) throw Error("createGroupReplyParser: invalid group id");
                    return {
                        wid: n,
                        subject: t.attrString("subject"),
                        creator: (0, d.userJidToUserWid)(t.attrUserJid("creator")),
                        ts: t.attrTime("creation")
                    }
                }));

            function v() {
                return (v = (0, o.default)(i.default.mark((function e(t) {
                    var n, r, o, s, d;
                    return i.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                return n = t.name, r = t.desc, o = (0, l.randomHex)(8), s = (0, u.wap)("iq", {
                                    to: u.G_US,
                                    type: "set",
                                    xmlns: "w:g2",
                                    id: (0, u.generateId)()
                                }, (0, u.wap)("create", {
                                    subject: (0, u.CUSTOM_STRING)(n),
                                    key: (0, u.CUSTOM_STRING)(o)
                                }, (0, u.wap)("parent", null), null != r && r.length > 0 ? (0, u.wap)("description", {
                                    id: (0, u.generateId)()
                                }, (0, u.wap)("body", null, r)) : null)), e.next = 5, (0, f.sendIq)(s, m);
                            case 5:
                                if (!(d = e.sent).success) {
                                    e.next = 8;
                                    break
                                }
                                return e.abrupt("return", d.result);
                            case 8:
                                return __LOG__(2)`sendCreateCommunity failed: ${d.errorCode}:${d.errorType}`, e.abrupt("return", a.reject(new h.ServerStatusCodeError(d.errorCode, d.errorText)));
                            case 10:
                            case "end":
                                return e.stop()
                        }
                    }), e)
                })))).apply(this, arguments)
            }
            var g = new s.WapParser("linkSubgroupsReplyParser", (function(e) {
                return e.assertTag("iq"), e.assertAttr("type", "result"), {
                    id: e.attrString("id"),
                    linkedGroupJids: e.child("links").child("link").mapChildren((function(e) {
                        return e.attrGroupJid("jid")
                    }))
                }
            }));

            function _() {
                return (_ = (0, o.default)(i.default.mark((function e(t) {
                    var n, r, o, l, s;
                    return i.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                return n = t.parentGroupWid, r = t.subgroups, o = r.map((function(e) {
                                    return (0, u.wap)("group", {
                                        jid: (0, p.JID)(e)
                                    })
                                })), l = (0, u.wap)("iq", {
                                    to: (0, p.JID)(n),
                                    type: "set",
                                    xmlns: "w:g2",
                                    id: (0, u.generateId)()
                                }, (0, u.wap)("links", null, (0, u.wap)("link", {
                                    link_type: "sub_group"
                                }, o))), e.next = 5, (0, f.sendIq)(l, g);
                            case 5:
                                if (!(s = e.sent).success) {
                                    e.next = 8;
                                    break
                                }
                                return e.abrupt("return", s.result);
                            case 8:
                                return __LOG__(2)`sendLinkSubgroups failed: ${s.errorCode}:${s.errorType}`, e.abrupt("return", a.reject(new h.ServerStatusCodeError(s.errorCode, s.errorText)));
                            case 10:
                            case "end":
                                return e.stop()
                        }
                    }), e)
                })))).apply(this, arguments)
            }
        },
        77225: (e, t, n) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.getIdentityVerificationDataJob = function(e) {
                return (0, i.NonPersistJob)("getIdentityVerificationData", (function(e) {
                    return (0, r.getIdentityVerificationData)(e)
                }), {
                    priority: a.JOB_PRIORITY.SKIP
                }).waitUntilCompleted({
                    jid: e
                })
            };
            var a = n(66066),
                r = n(32126),
                i = n(81484)
        },
        32316: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function() {
                return f.apply(this, arguments)
            };
            var r = a(n(87757)),
                i = a(n(48926)),
                o = n(47006),
                l = n(78363),
                u = n(84470),
                s = n(34733),
                d = n(59175),
                c = new u.WapParser("set2FA", (function(e) {
                    return {
                        stanzaId: e.attrString("id")
                    }
                }));

            function f() {
                return (f = (0, i.default)(r.default.mark((function e(t, n) {
                    var a, i;
                    return r.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                return a = [new l.WapNode("code", void 0, o.Binary.build(t).readByteArray())], null != n && a.push(new l.WapNode("email", void 0, o.Binary.build(n).readByteArray())), e.next = 4, (0, s.sendIq)((0, l.wap)("iq", {
                                    to: l.S_WHATSAPP_NET,
                                    type: "set",
                                    xmlns: "urn:xmpp:whatsapp:account",
                                    id: (0, l.generateId)()
                                }, new l.WapNode("2fa", void 0, a)), c);
                            case 4:
                                if ((i = e.sent).success) {
                                    e.next = 7;
                                    break
                                }
                                throw new d.ServerStatusCodeError(i.errorCode, i.errorText);
                            case 7:
                            case "end":
                                return e.stop()
                        }
                    }), e)
                })))).apply(this, arguments)
            }
        },
        54226: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.PrivacyUserAction = void 0, t.setPrivacy = function() {
                return p.apply(this, arguments)
            };
            var r = a(n(87757)),
                i = a(n(48926)),
                o = n(78363),
                l = n(84470),
                u = n(34733),
                s = n(15824),
                d = n(59175),
                c = new l.WapParser("setPrivacyParser", (function(e) {
                    return e.child("privacy").mapChildrenWithTag("category", (function(e) {
                        if ("error" === e.attrString("value")) {
                            var t = e.child("error");
                            return new d.ServerStatusCodeError(t.attrInt("code"), t.attrString("text"))
                        }
                        return {
                            name: e.attrString("name"),
                            value: e.attrString("value"),
                            dhash: e.maybeAttrString("dhash")
                        }
                    }))
                })),
                f = n(76672)({
                    Add: "add",
                    Remove: "remove"
                });

            function p() {
                return (p = (0, i.default)(r.default.mark((function e(t) {
                    var n, a;
                    return r.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                return n = t.map((function(e) {
                                    var t = e.name,
                                        n = e.value,
                                        a = e.users,
                                        r = e.dhash;
                                    return (0, o.wap)("category", {
                                        name: (0, o.CUSTOM_STRING)(t),
                                        value: (0, o.CUSTOM_STRING)(n),
                                        dhash: null == a ? o.DROP_ATTR : (0, o.CUSTOM_STRING)(null != r ? r : "none")
                                    }, null == a ? null : a.map((function(e) {
                                        var t = e.action,
                                            n = e.wid;
                                        return (0, o.wap)("user", {
                                            action: (0, o.CUSTOM_STRING)(t),
                                            jid: (0, s.JID)(n)
                                        })
                                    })))
                                })), e.next = 3, (0, u.sendIq)((0, o.wap)("iq", {
                                    to: o.S_WHATSAPP_NET,
                                    type: "set",
                                    xmlns: "privacy",
                                    id: (0, o.generateId)()
                                }, (0, o.wap)("privacy", null, n)), c);
                            case 3:
                                if (!0 !== (a = e.sent).success) {
                                    e.next = 6;
                                    break
                                }
                                return e.abrupt("return", a.result);
                            case 6:
                                throw new d.ServerStatusCodeError(a.errorCode, a.errorText);
                            case 7:
                            case "end":
                                return e.stop()
                        }
                    }), e)
                })))).apply(this, arguments)
            }
            t.PrivacyUserAction = f
        },
        4049: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.sendSupportRequest = function() {
                return h.apply(this, arguments)
            };
            var r = a(n(87757)),
                i = a(n(48926)),
                o = n(78363),
                l = n(84470),
                u = n(53758),
                s = n(34733),
                d = n(1577),
                c = n(15824);

            function f(e, t) {
                __LOG__(3, void 0, void 0, !0)`supportRequest error: code=${e} message=${null!=t?t:""}`, SEND_LOGS("supportRequest")
            }
            var p = new l.WapParser("supportResponse", (function(e) {
                var t = e.child("response");
                return t.hasAttr("error_code") ? {
                    type: "error",
                    errorCode: t.attrInt("error_code", 0, 1e3)
                } : (t.assertAttr("status", "ok"), {
                    type: "success",
                    message: t.child("message").contentString(),
                    ticketId: t.child("ticket_id").contentString()
                })
            }));

            function h() {
                return (h = (0, i.default)(r.default.mark((function e(t, n) {
                    var a, i, l, h, m;
                    return r.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                return a = (0, o.wap)("iq", {
                                    from: (0, c.USER_JID)((0, d.getMeUser)()),
                                    id: (0, o.generateId)(),
                                    smax_id: "3",
                                    to: o.S_WHATSAPP_NET,
                                    type: "set",
                                    xmlns: "fb:thrift_iq"
                                }, (0, o.wap)("description", null, t), null != n ? (0, o.wap)("debug_information_json", null, n) : null), e.next = 3, (0, s.sendIq)(a, p);
                            case 3:
                                if (!(i = e.sent).success) {
                                    e.next = 12;
                                    break
                                }
                                if ("success" !== (m = i.result).type) {
                                    e.next = 9;
                                    break
                                }
                                return null != n && (__LOG__(2)`InAppSupport: Uploading logs for ticketId=${m.ticketId}`, (0, u.upload)({
                                    reason: "user-report",
                                    immediate: !0,
                                    force: !0,
                                    persist: !0,
                                    ticketId: m.ticketId
                                }).then((function(e) {
                                    __LOG__(2)`InAppSupport: Logs upload complete for ticketId=${m.ticketId}, logsId=${e}`
                                }))), e.abrupt("return", {
                                    type: "success",
                                    message: m.message,
                                    ticketId: m.ticketId
                                });
                            case 9:
                                return f(l = null !== (h = m.errorCode) && void 0 !== h ? h : 400), e.abrupt("return", {
                                    type: "error",
                                    errorCode: l
                                });
                            case 12:
                                return f(i.errorCode, i.errorText), e.abrupt("return", {
                                    type: "error",
                                    errorCode: i.errorCode
                                });
                            case 14:
                            case "end":
                                return e.stop()
                        }
                    }), e)
                })))).apply(this, arguments)
            }
        },
        32126: (e, t, n) => {
            "use strict";
            var a = n(21314).default,
                r = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.getIdentityVerificationData = function() {
                return j.apply(this, arguments)
            };
            var i = r(n(63038)),
                o = r(n(87757)),
                l = r(n(48926)),
                u = n(47006),
                s = n(32559),
                d = n(75544),
                c = n(953),
                f = n(1577),
                p = n(21283),
                h = r(n(36512)),
                m = n(77251);
            var v = /^([17]|2[07]|3[0123469]|4[013456789]|5[12345678]|6[0123456]|8[1246]|9[0123458]|\d{3})\d*?(\d{4,6})$/;

            function g(e) {
                var t = v.exec(function(e) {
                    return e.user.split("@")[0]
                }(e));
                return u.Binary.build(t ? t[1] + t[2] : e.toString()).readByteArray()
            }

            function _(e, t) {
                return `00000${256*e.getUint32(t,!1)+e.getUint8(t+4)}`.slice(-5)
            }

            function x() {
                return C.apply(this, arguments)
            }

            function C() {
                return (C = (0, l.default)(o.default.mark((function e(t, n) {
                    var r, i, l, s;
                    return o.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                for (r = a.resolve(u.Binary.build(0, 0, n, t).readByteArray()), i = 0; i < 5200; i++) r = r.then((function(e) {
                                    return self.crypto.subtle.digest({
                                        name: "SHA-512"
                                    }, u.Binary.build(e, n).readByteArray())
                                }));
                                return e.next = 4, r;
                            case 4:
                                return l = e.sent, s = new DataView(l instanceof ArrayBuffer ? l.slice(0, 30) : l.slice(0, 30).buffer), e.abrupt("return", [_(s, 0), _(s, 5), _(s, 10), _(s, 15), _(s, 20), _(s, 25)].join(""));
                            case 7:
                            case "end":
                                return e.stop()
                        }
                    }), e)
                })))).apply(this, arguments)
            }

            function y() {
                return S.apply(this, arguments)
            }

            function S() {
                return (S = (0, l.default)(o.default.mark((function e(t, n, r, i) {
                    var l;
                    return o.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2, a.all([x(t, n), x(r, i)]);
                            case 2:
                                return l = e.sent, e.abrupt("return", l.sort().join(""));
                            case 4:
                            case "end":
                                return e.stop()
                        }
                    }), e)
                })))).apply(this, arguments)
            }

            function b(e, t, n, a) {
                var r = new u.Binary;
                return (0, s.encodeProtobuf)(c.CombinedFingerprintSpec, {
                    version: 0,
                    localFingerprint: {
                        publicKey: t,
                        identifier: e
                    },
                    remoteFingerprint: {
                        publicKey: a,
                        identifier: n
                    }
                }, r), r.readBuffer()
            }

            function j() {
                return (j = (0, l.default)(o.default.mark((function e(t) {
                    var n, r, l, u, s, c, v, _, x, C, S, j, E, k, w, T;
                    return o.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                return n = t.jid, r = (0, f.assertGetMe)(), e.next = 4, (0, d.getFanOutListJob)([n, r]);
                            case 4:
                                return l = e.sent, e.prev = 5, e.next = 8, (0, p.ensureE2ESessions)(l);
                            case 8:
                                e.next = 13;
                                break;
                            case 10:
                                e.prev = 10, e.t0 = e.catch(5), __LOG__(4, void 0, new Error)`ensureE2ESessions with error`;
                            case 13:
                                return u = [], s = [], l.forEach((function(e) {
                                    e.user === r.user ? s.push(e) : u.push(e)
                                })), e.prev = 16, e.next = 19, (0, m.getAllIdentityKeysBytesOrThrow)(u);
                            case 19:
                                return c = e.sent, e.next = 22, (0, m.getAllIdentityKeysBytesOrThrow)(s);
                            case 22:
                                return v = e.sent, e.next = 25, h.default.getIdentityKeyPair();
                            case 25:
                                if (_ = e.sent) {
                                    e.next = 29;
                                    break
                                }
                                return __LOG__(3)`getIdentityVerificationData: missing identity for device verification`, e.abrupt("return", null);
                            case 29:
                                return v.push(new Uint8Array(_.pubKey)), x = (0, m.identityKeysToBinary)(v), C = (0, m.identityKeysToBinary)(c), S = g((0, f.getMeUser)()), j = g(n), e.next = 36, a.all([y(S, x, j, C), b(S, x, j, C)]);
                            case 36:
                                if (null != (E = e.sent)) {
                                    e.next = 39;
                                    break
                                }
                                return e.abrupt("return", null);
                            case 39:
                                return k = (0, i.default)(E, 2), w = k[0], T = k[1], e.abrupt("return", {
                                    binary: T,
                                    string: w
                                });
                            case 43:
                                return e.prev = 43, e.t1 = e.catch(16), __LOG__(3)`getIdentityVerificationData: error ${e.t1} when trying to generate identtiy QR code`, e.abrupt("return", null);
                            case 47:
                            case "end":
                                return e.stop()
                        }
                    }), e, null, [
                        [5, 10],
                        [16, 43]
                    ])
                })))).apply(this, arguments)
            }
        },
        16419: (e, t, n) => {
            "use strict";
            var a = n(21314).default,
                r = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.editBusinessProfile = t.editBusinessCompliance = void 0;
            var i = n(18889),
                o = n(38032),
                l = n(87225),
                u = n(35519),
                s = n(24036),
                d = r(n(54270));
            t.editBusinessProfile = function(e) {
                var t;
                return (0, l.qplPointProfileSave)("datasource_start"), o.GK.supportsFeature(o.GK.F.MD_BACKEND) ? (t = (0, i.editBusinessProfile)(e)) || (t = a.reject(new Error("md business profile edit not supported"))) : t = (0, s.editBusinessProfile)(e), t.then((function() {
                    (0, l.qplPointProfileSave)("datasource_end")
                })), t
            };
            t.editBusinessCompliance = function(e) {
                var t;
                return o.GK.supportsFeature(o.GK.F.MD_BACKEND) ? (t = (0, u.setMerchantCompliance)(e)) || (t = a.reject(new Error("md business compliance profile called from a non-md build"))) : t = d.default.editBusinessComplianceWebd(e), t
            }
        },
        24036: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.editBusinessProfile = t.convertProfileToRequestData = void 0;
            var r = a(n(87757)),
                i = a(n(81109)),
                o = a(n(48926)),
                l = a(n(63038)),
                u = a(n(43269)),
                s = a(n(35719)),
                d = n(59175),
                c = n(74950),
                f = function(e) {
                    return e >= 200 && e <= 299
                },
                p = function(e) {
                    if (e) return {
                        category: e.map((function(e) {
                            return {
                                id: e.id
                            }
                        }))
                    }
                },
                h = function(e) {
                    if (e) {
                        var t = e.note,
                            n = e.timezone,
                            a = e.config,
                            r = [];
                        for (var i in a) {
                            var o = a[i],
                                s = o.mode,
                                d = o.hours;
                            if (d) {
                                var c, f = (0, u.default)(d);
                                try {
                                    for (f.s(); !(c = f.n()).done;) {
                                        var p = (0, l.default)(c.value, 2),
                                            h = p[0],
                                            m = p[1];
                                        r.push({
                                            day_of_week: i,
                                            mode: s,
                                            open_time: h,
                                            close_time: m
                                        })
                                    }
                                } catch (e) {
                                    f.e(e)
                                } finally {
                                    f.f()
                                }
                            } else r.push({
                                day_of_week: i,
                                mode: s
                            })
                        }
                        return {
                            timezone: n,
                            business_hours_note: t,
                            business_hours_config: r
                        }
                    }
                },
                m = function(e) {
                    var t = e.address,
                        n = e.description,
                        a = e.email,
                        r = e.website,
                        i = e.businessHours,
                        o = e.categories,
                        l = (0, s.default)({
                            address: t,
                            description: n,
                            email: a,
                            website: r,
                            business_hours: h(i),
                            categories: p(o)
                        });
                    return Object.keys(l).length > 0 ? l : void 0
                };
            t.convertProfileToRequestData = m;
            var v = function() {
                var e = (0, o.default)(r.default.mark((function e(t) {
                    var n, a, o, l, u;
                    return r.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                if (n = m(t)) {
                                    e.next = 4;
                                    break
                                }
                                return __LOG__(3)`empty profile received, ignoring save`, e.abrupt("return");
                            case 4:
                                return a = (0, i.default)({
                                    v: 2
                                }, n), e.prev = 5, e.next = 8, c.Socket.send2({
                                    data: ["action", "editBusinessProfile", a],
                                    retryOn5xx: !0
                                });
                            case 8:
                                if (o = e.sent, l = o.status, !f(l)) {
                                    e.next = 13;
                                    break
                                }
                                return e.abrupt("return");
                            case 13:
                                throw __LOG__(3)`error editing business profile webd: ${l}`, new d.ServerStatusCodeError(l, "edit business profile");
                            case 17:
                                throw e.prev = 17, e.t0 = e.catch(5), u = e.t0, __LOG__(3)`error editing business profile: ${u}`, u;
                            case 22:
                            case "end":
                                return e.stop()
                        }
                    }), e, null, [
                        [5, 17]
                    ])
                })));
                return function() {
                    return e.apply(this, arguments)
                }
            }();
            t.editBusinessProfile = v
        },
        19472: (e, t, n) => {
            "use strict";
            var a = n(21314).default,
                r = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function() {
                return h.apply(this, arguments)
            };
            var i = r(n(87757)),
                o = r(n(48926)),
                l = n(79746),
                u = n(38032),
                s = r(n(58603)),
                d = r(n(15224)),
                c = n(43163),
                f = r(n(54270)),
                p = n(59175);

            function h() {
                return (h = (0, o.default)(i.default.mark((function e(t) {
                    var n, r, o;
                    return i.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                if (!u.GK.supportsFeature(u.GK.F.MD_BACKEND) || !t) {
                                    e.next = 5;
                                    break
                                }
                                return n = (0, l.unixTimeMs)(), r = s.default.getPushnameMutation(n, t), (0, d.default)(t), e.abrupt("return", (0, c.lockForSync)([], [r], (function() {
                                    return a.resolve()
                                })).then((function() {
                                    return {
                                        _duplicate: null
                                    }
                                })));
                            case 5:
                                return e.next = 7, f.default.setPushname(t);
                            case 7:
                                if (!(o = e.sent).status || 200 === o.status) {
                                    e.next = 10;
                                    break
                                }
                                throw new p.ServerStatusCodeError(o.status);
                            case 10:
                                return e.abrupt("return", {
                                    _duplicate: o._duplicate
                                });
                            case 11:
                            case "end":
                                return e.stop()
                        }
                    }), e)
                })))).apply(this, arguments)
            }
        },
        35465: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.gdprDownloadMedia = function(e) {
                var t = (0, u.getOrCreateMediaObject)((0, i.encodeB64)((0, o.default)(e.fileSha256, "documentMessage.fileSha256"))),
                    n = {
                        debugHint: "setMediaObjectValues",
                        deprecatedMms3Url: (0, o.default)(e.directPath, "documentMessage.directPath"),
                        encFilehash: (0, i.encodeB64)((0, o.default)(e.fileEncSha256, "documentMessage.fileEncSha256")),
                        mediaKey: (0, i.encodeB64)((0, o.default)(e.mediaKey, "documentMessage.mediaKey")),
                        mediaKeyTimestamp: (0, l.unixTime)(),
                        type: d.MEDIA_TYPES.DOCUMENT
                    };
                return t.entries.addEntry(n), t.consolidate((0, r.default)((0, r.default)({}, n), {}, {
                    filehash: (0, i.encodeB64)((0, o.default)(e.fileSha256, "documentMessage.fileSha256")),
                    type: s.TYPE.DOCUMENT
                })), (0, f.downloadMedia)({
                    downloadEvenIfExpensive: !0,
                    downloadOrigin: c.default.DOWNLOAD_ORIGIN_TYPE.GDPR,
                    mediaObject: t,
                    mediaType: d.MEDIA_TYPES.DOCUMENT,
                    mimetype: "application/zip",
                    rmrReason: c.default.WEBC_RMR_REASON_CODE.DOCUMENT_DOWNLOAD
                }).then((function() {
                    return t
                }))
            };
            var r = a(n(81109)),
                i = n(18135),
                o = a(n(272)),
                l = n(79746),
                u = (n(40922), n(73998)),
                s = n(41655),
                d = n(57412),
                c = a(n(50507)),
                f = n(79651)
        },
        95317: (e, t, n) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.LoadType = t.EditType = void 0;
            var a = n(76672).Mirrored(["EDITING", "PENDING", "DONE", "ERROR"]);
            t.EditType = a;
            var r = n(76672).Mirrored(["PENDING", "DONE", "ERROR"]);
            t.LoadType = r
        },
        953: (e, t, n) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.FingerprintDataSpec = t.CombinedFingerprintSpec = void 0;
            var a = n(2309),
                r = {};
            t.FingerprintDataSpec = r;
            var i = {};
            t.CombinedFingerprintSpec = i, r.internalSpec = {
                publicKey: [1, a.TYPES.BYTES],
                identifier: [2, a.TYPES.BYTES]
            }, i.internalSpec = {
                version: [1, a.TYPES.UINT32],
                localFingerprint: [2, a.TYPES.MESSAGE, r],
                remoteFingerprint: [3, a.TYPES.MESSAGE, r]
            }
        },
        88768: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.BusinessAddressField = function(e) {
                var t = e.businessProfile,
                    n = e.activeField,
                    a = e.rawBusinessProfile,
                    i = e.sessionId,
                    u = e.value,
                    c = e.validate,
                    f = e.error,
                    p = e.lowProfile,
                    m = void 0 === p || p,
                    v = e.onActive,
                    g = e.onChange,
                    _ = e.onSaveBusinessProfile,
                    x = e.onError,
                    C = e.onCancel,
                    y = (0, d.jsx)(o.BusinessProfileFormField, {
                        activeField: n,
                        fieldKey: "address",
                        fieldMetric: s.default.BUSINESS_PROFILE_FIELD.ADDRESS,
                        formatForSave: function() {
                            return {
                                address: u
                            }
                        },
                        lowProfile: m,
                        originalValue: t.address,
                        placeholder: r.fbt._("Business Address", null, {
                            hk: "HF4CB"
                        }),
                        rawBusinessProfile: a,
                        sessionId: i,
                        textFieldConfig: {
                            maxLength: l.BUSINESS_PROFILE_FIELDS_LENGTH.ADDRESS
                        },
                        value: u,
                        validate: c,
                        error: f,
                        onActive: v,
                        onChange: g,
                        onSaveBusinessProfile: _,
                        onError: x,
                        onCancel: C
                    }),
                    S = t.latitude,
                    b = t.longitude,
                    j = null != S && null != b ? (0, d.jsx)(h, {
                        activeField: n,
                        value: u,
                        latitude: S,
                        longitude: b
                    }) : null;
                return (0, d.jsxs)(d.Fragment, {
                    children: [y, j]
                })
            };
            var r = n(48360),
                i = a(n(56720)),
                o = n(56300),
                l = n(96127),
                u = a(n(83719)),
                s = a(n(50507)),
                d = n(85893),
                c = {
                    position: "g0rxnol2",
                    display: "p357zi0d",
                    alignItems: "gndfcl4n",
                    justifyContent: "ac2vgrno",
                    paddingTop: "ppypbuwx",
                    paddingEnd: "fhfm09ip",
                    paddingBottom: "s8gyl5p1",
                    paddingStart: "mjn2akup",
                    marginTop: "c6axuxzh",
                    marginEnd: "jnwc1y2a",
                    marginBottom: "mpdn4nr2",
                    marginStart: "svoq16ka"
                },
                f = {
                    position: "lhggkp7q",
                    top: "qq0sjtgm",
                    right: "grt5ktjy",
                    bottom: "jxacihee",
                    left: "tukmaf4q",
                    display: "p357zi0d",
                    alignItems: "gndfcl4n",
                    justifyContent: "ac2vgrno"
                },
                p = {
                    paddingTop: "fbgy3m38",
                    paddingEnd: "bcymb0na",
                    paddingBottom: "oq31bsqd",
                    paddingStart: "e8k79tju",
                    fontSize: "f8jlpxt4",
                    color: "o4oavg8t",
                    textTransform: "ofejerhi",
                    backgroundColor: "o8fg3bdd",
                    borderTop: "dl47i6rc",
                    borderEnd: "pdo9fnbd",
                    borderBottom: "n8n2xqzm",
                    borderStart: "hqx4twni",
                    borderTopStartRadius: "g1jn521u",
                    borderTopEndRadius: "mrnekr2l",
                    borderBottomEndRadius: "wu0i2wpa",
                    borderBottomStartRadius: "bbs9k8l5"
                };

            function h(e) {
                var t = e.activeField,
                    n = e.latitude,
                    a = e.longitude,
                    o = e.value,
                    l = "address" === (null == t ? void 0 : t.fieldKey) ? (0, d.jsx)("div", {
                        className: (0, i.default)(f),
                        children: (0, d.jsx)("div", {
                            className: (0, i.default)(p),
                            children: r.fbt._("Edit map on mobile", null, {
                                hk: "3AK8Fa"
                            })
                        })
                    }) : null;
                return (0, d.jsxs)("div", {
                    style: {
                        height: 96
                    },
                    className: (0, i.default)(c),
                    children: [l, (0, d.jsx)(u.default, {
                        lat: n,
                        lng: a,
                        name: o,
                        width: 312,
                        height: 96
                    })]
                })
            }
        },
        82728: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.businessHours,
                    n = t.note,
                    a = t.timezone,
                    T = (0, f.useState)(e.businessHours.mode || k),
                    I = (0, d.default)(T, 2),
                    P = I[0],
                    M = I[1],
                    O = (0, f.useState)((function() {
                        var t, n = e.businessHours.days,
                            a = {},
                            r = (0, s.default)(n);
                        try {
                            for (r.s(); !(t = r.n()).done;) {
                                var i = t.value,
                                    o = i.dayKey,
                                    l = i.closed,
                                    u = i.hours,
                                    d = i.dayName;
                                a[o] = {
                                    closed: l,
                                    hours: u || [w()],
                                    dayKey: o,
                                    dayName: d
                                }
                            }
                        } catch (e) {
                            r.e(e)
                        } finally {
                            r.f()
                        }
                        return a
                    })),
                    L = (0, d.default)(O, 2),
                    A = L[0],
                    D = L[1],
                    R = function(e, t) {
                        var n = A[e];
                        D((0, u.default)((0, u.default)({}, A), {}, (0, l.default)({}, e, (0, u.default)((0, u.default)({}, n), t))))
                    },
                    N = function(e, t, n, a) {
                        var r = (0, o.default)(e),
                            i = n === E.START ? 0 : 1,
                            l = (0, o.default)(r[a]);
                        return l[i] = t, r[a] = l, r
                    },
                    F = function(e) {
                        return `${e.dayKey}_business_hours`
                    },
                    B = function(e) {
                        return (0, j.jsx)("div", {
                            className: p.default.timeWrapper,
                            children: (0, j.jsx)(m.default, {
                                "aria-label": c.fbt._("Add additional hours", null, {
                                    hk: "1RUQxq"
                                }),
                                label: c.fbt._("Add set of hours", null, {
                                    hk: "XYa8r"
                                }),
                                onClick: function() {
                                    ! function(e) {
                                        var t = A[e].hours;
                                        R(e, {
                                            hours: [].concat((0, o.default)(t), [w()])
                                        })
                                    }(e)
                                },
                                prefixIcon: "status-ciphertext",
                                iconTheme: "padded-svg"
                            })
                        })
                    },
                    U = function(e) {
                        return (0, j.jsx)("div", {
                            className: p.default.timeWrapper,
                            children: (0, j.jsx)(C.default, {
                                title: v.default.t(717),
                                "aria-label": v.default.t(717),
                                name: "x-alt",
                                onClick: function() {
                                    ! function(e) {
                                        var t = A[e].hours,
                                            n = (0, o.default)(t);
                                        n.pop(), R(e, {
                                            hours: n
                                        })
                                    }(e)
                                }
                            })
                        })
                    },
                    G = function(e) {
                        var t = e.closed,
                            n = e.dayKey,
                            a = F(e);
                        return (0, j.jsx)("div", {
                            className: p.default.dayCheckbox,
                            children: (0, j.jsx)(h.CheckBox, {
                                id: a,
                                checked: !t,
                                onChange: function() {
                                    var e = A[n];
                                    R(n, {
                                        closed: !e.closed
                                    })
                                }
                            })
                        })
                    },
                    H = function(e, t, n, a) {
                        var r = (0, b.isValidTime)(t) ? null : " ";
                        return (0, j.jsx)("div", {
                            className: p.default.timeWrapper,
                            children: (0, j.jsx)(S.TextInput, {
                                managed: !0,
                                value: t,
                                theme: "small",
                                maxLength: 15,
                                customStyleThemes: ["desaturated", "noErrorInfo"],
                                error: r,
                                onChange: function(t) {
                                    var r = A[e].hours;
                                    R(e, {
                                        hours: N(r, t, n, a)
                                    })
                                },
                                onBlur: function() {
                                    ! function(e, t, n) {
                                        var a = A[e].hours,
                                            r = t === E.START ? 0 : 1,
                                            i = a[n][r],
                                            o = (0, b.timeStringToMinutes)(i);
                                        void 0 !== o && R(e, {
                                            hours: N(a, (0, b.minutesToTime)(o), t, n)
                                        })
                                    }(e, n, a)
                                }
                            })
                        }, `${e}-${n}-${a}`)
                    },
                    W = function(e) {
                        var t, n, a, r, i, o;
                        return e.closed ? t = c.fbt._("Closed", null, {
                            hk: "3IRgct"
                        }) : P === _.BUSINESS_HOUR_MODES.APPOINTMENT_ONLY ? t = c.fbt._("By appointment only", null, {
                            hk: "e1vew"
                        }) : P === _.BUSINESS_HOUR_MODES.OPEN_24H && (t = c.fbt._("Open 24 hours", null, {
                            hk: "1AlfF5"
                        })), t ? (0, j.jsx)("div", {
                            className: p.default.dayInfoText,
                            children: t
                        }) : _.BUSINESS_HOUR_MODES.SPECIFIC_HOURS && !e.closed ? (a = (n = e).dayKey, r = n.hours, i = [], o = r.length >= 2 ? U(a) : B(a), r.forEach((function(e, t) {
                            var n = (0, d.default)(e, 2),
                                r = n[0],
                                o = n[1];
                            t > 0 && i.push((0, j.jsx)("div", {
                                className: p.default.hoursAnd,
                                children: c.fbt._("and", null, {
                                    hk: "280Z25"
                                })
                            })), i.push(H(a, r, E.START, t), H(a, o, E.END, t))
                        })), (0, j.jsxs)("div", {
                            className: p.default.hoursMain,
                            children: [i, o]
                        })) : null
                    },
                    V = function(e) {
                        var t = e.dayName,
                            n = F(e);
                        return (0, j.jsxs)("div", {
                            className: p.default.dayInfo,
                            children: [(0, j.jsx)("label", {
                                htmlFor: n,
                                children: t
                            }), W(e)]
                        })
                    },
                    z = (q = e.businessHours.days, (0, j.jsxs)("div", {
                        children: [(0, j.jsx)(y.default, {
                            onSelect: function(e) {
                                M(e);
                                var t = {};
                                if (P === _.BUSINESS_HOUR_MODES.OPEN_24H) {
                                    var n, a = (0, s.default)(_.DAYS_OF_WEEK);
                                    try {
                                        for (a.s(); !(n = a.n()).done;) {
                                            var r = n.value;
                                            t[r] = (0, u.default)((0, u.default)({}, A[r]), {}, {
                                                closed: !1
                                            })
                                        }
                                    } catch (e) {
                                        a.e(e)
                                    } finally {
                                        a.f()
                                    }
                                    D(t)
                                }
                            },
                            selectedId: P,
                            tabConfigs: [{
                                title: c.fbt._("Selected Hours", null, {
                                    hk: "1EI8CI"
                                }),
                                id: _.BUSINESS_HOUR_MODES.SPECIFIC_HOURS
                            }, {
                                title: c.fbt._("Always Open", null, {
                                    hk: "W2gxH"
                                }),
                                id: _.BUSINESS_HOUR_MODES.OPEN_24H
                            }, {
                                title: c.fbt._("By Appointment", null, {
                                    hk: "nN1q9"
                                }),
                                id: _.BUSINESS_HOUR_MODES.APPOINTMENT_ONLY
                            }]
                        }), (0, j.jsx)("div", {
                            className: p.default.editMain,
                            children: q.map((function(e) {
                                var t, n = e.dayKey,
                                    a = A[n];
                                return t = a, (0, j.jsxs)("div", {
                                    className: p.default.dayMain,
                                    children: [G(t), V(t)]
                                }, `day-${t.dayKey}`)
                            }))
                        })]
                    }));
                var q;
                return (0, j.jsx)(x.default, {
                    title: c.fbt._("Edit Business Hours", null, {
                        hk: "2zl0Ai"
                    }),
                    isValid: (0, b.isValidBusinessHours)(P, A),
                    doSave: (0, i.default)(r.default.mark((function t() {
                        return r.default.wrap((function(t) {
                            for (;;) switch (t.prev = t.next) {
                                case 0:
                                    return (0, g.qplStartProfileSave)("bizHours"), t.next = 3, e.saveBusinessProfile((0, b.convertToRawBusinessProfile)({
                                        mode: P,
                                        dayValues: A,
                                        note: n,
                                        timezone: a
                                    }));
                                case 3:
                                case "end":
                                    return t.stop()
                            }
                        }), t)
                    }))),
                    afterSave: e.afterSave,
                    onCancel: e.onCancel,
                    children: z
                })
            };
            var r = a(n(87757)),
                i = a(n(48926)),
                o = a(n(319)),
                l = a(n(59713)),
                u = a(n(81109)),
                s = a(n(43269)),
                d = a(n(63038)),
                c = n(48360),
                f = n(67294),
                p = a(n(6846)),
                h = n(91404),
                m = a(n(8352)),
                v = a(n(45159)),
                g = n(56003),
                _ = n(12568),
                x = a(n(6393)),
                C = a(n(28706)),
                y = a(n(14536)),
                S = n(68544),
                b = n(59141),
                j = n(85893),
                E = n(76672).Mirrored(["START", "END"]),
                k = _.BUSINESS_HOUR_MODES.SPECIFIC_HOURS,
                w = function() {
                    return [(0, b.minutesToTime)(540), (0, b.minutesToTime)(1080)]
                }
        },
        12568: (e, t, n) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), Object.defineProperty(t, "BUSINESS_HOUR_MODES", {
                enumerable: !0,
                get: function() {
                    return r.BUSINESS_HOUR_MODES
                }
            }), Object.defineProperty(t, "DAYS_OF_WEEK", {
                enumerable: !0,
                get: function() {
                    return r.DAYS_OF_WEEK
                }
            }), Object.defineProperty(t, "RawBusinessProfile", {
                enumerable: !0,
                get: function() {
                    return a.RawBusinessProfile
                }
            });
            var a = n(21021),
                r = n(96127)
        },
        59141: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.isValidTime = t.isValidBusinessHours = t.convertToRawBusinessProfile = void 0, Object.defineProperty(t, "minutesToTime", {
                enumerable: !0,
                get: function() {
                    return l.minutesToTime
                }
            }), Object.defineProperty(t, "timeStringToMinutes", {
                enumerable: !0,
                get: function() {
                    return l.timeStringToMinutes
                }
            });
            var r = a(n(63038)),
                i = a(n(43269)),
                o = n(12568),
                l = n(62890),
                u = function(e) {
                    return void 0 !== (0, l.timeStringToMinutes)(e)
                };
            t.isValidTime = u;
            t.isValidBusinessHours = function(e, t) {
                if (e === o.BUSINESS_HOUR_MODES.SPECIFIC_HOURS)
                    for (var n in t) {
                        var a = t[n],
                            l = a.closed,
                            s = a.hours;
                        if (!l) {
                            var d, c = (0, i.default)(s);
                            try {
                                for (c.s(); !(d = c.n()).done;) {
                                    var f = (0, r.default)(d.value, 2),
                                        p = f[0],
                                        h = f[1];
                                    if (!u(p) || !u(h)) return !1
                                }
                            } catch (e) {
                                c.e(e)
                            } finally {
                                c.f()
                            }
                        }
                    }
                return !0
            };
            t.convertToRawBusinessProfile = function(e) {
                var t = e.mode,
                    n = e.dayValues,
                    a = e.note,
                    i = e.timezone,
                    u = {};
                for (var s in n) {
                    var d = n[s],
                        c = d.closed,
                        f = d.hours;
                    if (!c) {
                        var p = {
                            mode: t
                        };
                        t === o.BUSINESS_HOUR_MODES.SPECIFIC_HOURS && (p.hours = f.map((function(e) {
                            var t = (0, r.default)(e, 2),
                                n = t[0],
                                a = t[1];
                            return [(0, l.timeStringToMinutes)(n) || 0, (0, l.timeStringToMinutes)(a) || 0]
                        }))), u[s] = p
                    }
                }
                return {
                    businessHours: {
                        config: u,
                        note: a,
                        timezone: i || Intl.DateTimeFormat().resolvedOptions().timeZone
                    }
                }
            }
        },
        56300: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.BusinessProfileFormField = function(e) {
                var t = e.activeField,
                    n = e.error,
                    a = e.fieldKey,
                    d = e.fieldMetric,
                    c = e.formatForSave,
                    f = e.lowProfile,
                    p = e.originalValue,
                    h = e.placeholder,
                    m = e.rawBusinessProfile,
                    v = e.sessionId,
                    g = e.startActive,
                    _ = e.textFieldConfig,
                    x = e.validate,
                    C = e.value,
                    y = e.onActive,
                    S = e.onChange,
                    b = e.onError,
                    j = e.onSaveBusinessProfile,
                    E = e.onCancel,
                    k = (null == t ? void 0 : t.fieldKey) === a,
                    w = C ? void 0 : h;
                return (0, s.jsx)(u.TextInput, (0, r.default)({
                    value: C,
                    editable: !t || k,
                    pending: k && (null == t ? void 0 : t.editType) === l.EditType.PENDING,
                    showRemaining: !0,
                    onBeginEdit: function() {
                        null != v && (0, i.logProfileFieldOpen)(d, m, v), y({
                            fieldKey: a,
                            editType: l.EditType.EDITING
                        })
                    },
                    onChange: S,
                    onSave: function() {
                        (0, o.qplStartProfileSave)(a), null != v && (0, i.logProfileFieldSave)(d, m, v), y({
                            fieldKey: a,
                            editType: l.EditType.PENDING
                        }), j(c()).then((function() {
                            y()
                        }), (function() {
                            y()
                        }))
                    },
                    onCancel: function() {
                        null != v && (0, i.logProfileFieldDiscard)(d, m, v), S(p), y(), null == E || E()
                    },
                    lockable: !0,
                    lowProfile: f,
                    multiline: !0,
                    inputPlaceholder: w,
                    theme: "text-input",
                    validate: x,
                    onError: b,
                    error: n,
                    a8n: `biz-profile-${a}-input`,
                    fieldName: h,
                    startActive: g
                }, _))
            };
            var r = a(n(81109)),
                i = n(47994),
                o = n(56003),
                l = (a(n(50507)), n(21021)),
                u = n(68544),
                s = n(85893)
        },
        52323: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = (0, p.useState)(e.initialCategories),
                    n = (0, s.default)(t, 2),
                    a = n[0],
                    r = n[1],
                    i = (0, p.useState)(!1),
                    d = (0, s.default)(i, 2),
                    c = d[0],
                    g = d[1],
                    C = (0, p.useState)(!1),
                    y = (0, s.default)(C, 2),
                    S = y[0],
                    w = y[1],
                    I = (0, p.useState)([]),
                    M = (0, s.default)(I, 2),
                    O = M[0],
                    A = M[1],
                    D = (0, p.useState)(""),
                    R = (0, s.default)(D, 2),
                    N = R[0],
                    F = R[1],
                    B = function() {
                        x.Cmd.openToast((0, P.jsx)(T.Toast, {
                            id: (0, T.genId)(),
                            msg: f.fbt._('You cannot select categories when you have selected "Not a Business"', null, {
                                hk: "12A4L0"
                            })
                        }))
                    },
                    U = function(e) {
                        for (var t = 0; t < a.length; t++)
                            if (a[t].id === e) return !0;
                        return !1
                    },
                    G = function(e) {
                        var t = a.find((function(e) {
                                return e.id === N
                            })),
                            n = a;
                        a.length > 0 && (e.not_a_biz && !t ? (n = [], B()) : !e.not_a_biz && t && (n = a.filter((function(e) {
                            return e.id !== t.id
                        })), B())), U(e.id) ? r(n.filter((function(t) {
                            return t.id !== e.id
                        }))) : r([].concat((0, u.default)(n), [e]))
                    },
                    H = function(t) {
                        w(!0), e.searchCategories(t || h.BUSINESS_CATEGORY_EMPTY_STR_ID).then((function(e) {
                            var n = e.categories;
                            "" !== t && (n = n.filter((function(e) {
                                return !e.not_a_biz
                            }))), w(!1), A(n), F(e.notABizId), (0, j.qplAnnotateProfileCatsView)(n.length), (0, j.qplEndProfileCatsView)(E.QuickLogActionType.SUCCESS)
                        })).catch((function() {
                            x.Cmd.openToast((0, P.jsx)(T.Toast, {
                                id: (0, T.genId)(),
                                msg: f.fbt._("Something went wrong.", null, {
                                    hk: "2Cx5Nt"
                                })
                            })), w(!1), A([]), F(""), (0, j.qplEndProfileCatsView)(E.QuickLogActionType.FAIL)
                        }))
                    };
                return (0, p.useEffect)((function() {
                    H("")
                }), []), (0, P.jsxs)(k.default, {
                    title: f.fbt._("Choose up to three categories", null, {
                        hk: "17Tmht"
                    }),
                    isValid: a.length > 0,
                    doSave: (0, l.default)(o.default.mark((function t() {
                        return o.default.wrap((function(t) {
                            for (;;) switch (t.prev = t.next) {
                                case 0:
                                    return (0, j.qplStartProfileSave)("categories"), t.next = 3, e.saveBusinessProfile({
                                        categories: a
                                    });
                                case 3:
                                case "end":
                                    return t.stop()
                            }
                        }), t)
                    }))),
                    afterSave: function() {
                        g(!0), e.afterSave()
                    },
                    onCancel: function() {
                        g(!0), e.onCancel()
                    },
                    children: [(0, P.jsx)("div", {
                        className: v.default.searchBackground,
                        children: (0, P.jsx)(b.default, {
                            onSearch: function(e) {
                                S || c || ((0, j.qplStartProfileCatsView)("Search"), H(e))
                            },
                            placeholder: f.fbt._("Search categories", null, {
                                hk: "4zfNoj"
                            })
                        })
                    }), (0, P.jsxs)("div", {
                        className: v.default.editMain,
                        children: [(0, P.jsx)("div", {
                            className: v.default.list,
                            children: (0, P.jsx)(L, {
                                isLoading: S,
                                results: O,
                                isSelected: U,
                                isDisabled: function(e) {
                                    return !e.not_a_biz && !U(e.id) && a.length >= m.MAX_BUSINESS_CATEGORIES
                                },
                                toggleResultById: function(e) {
                                    var t = O.filter((function(t) {
                                        return t.id === e
                                    }))[0];
                                    t && G(t)
                                }
                            })
                        }), a && (0, P.jsx)(_.default, {
                            categories: a,
                            onRemoveItem: function(e) {
                                var t = a.filter((function(t) {
                                    return t.id === e
                                }))[0];
                                t && G(t)
                            }
                        })]
                    })]
                })
            };
            var r = a(n(81109)),
                i = a(n(59713)),
                o = a(n(87757)),
                l = a(n(48926)),
                u = a(n(319)),
                s = a(n(63038)),
                d = a(n(84646)),
                c = a(n(94184)),
                f = n(48360),
                p = n(67294),
                h = n(7869),
                m = n(23143),
                v = a(n(88712)),
                g = n(91404),
                _ = a(n(6862)),
                x = n(65901),
                C = n(73568),
                y = a(n(23803)),
                S = a(n(92546)),
                b = a(n(17094)),
                j = n(56003),
                E = n(3298),
                k = a(n(6393)),
                w = n(85651),
                T = n(92428),
                I = a(n(39394)),
                P = n(85893);

            function M(e) {
                var t = e.category,
                    n = e.toggleResultById;
                return (0, P.jsxs)("div", {
                    className: v.default.rowMain,
                    children: [(0, P.jsx)("div", {
                        className: v.default.rowCheckbox,
                        children: (0, P.jsx)(g.CheckBox, {
                            id: `${t.id}`,
                            onChange: function() {
                                !t.disabled && n(t.id)
                            },
                            checked: t.selected,
                            disabled: t.disabled
                        })
                    }), (0, P.jsx)("label", {
                        "data-a8n": d.default.key("category-list-item"),
                        className: (0, c.default)(v.default.rowLabel, (0, i.default)({}, v.default.disabled, t.disabled)),
                        htmlFor: t.id,
                        children: t.localized_display_name
                    })]
                })
            }

            function O(e) {
                var t = e.label;
                return (0, P.jsxs)("div", {
                    className: v.default.rowMain,
                    children: [(0, P.jsx)("div", {
                        className: v.default.rowCheckbox
                    }), t]
                })
            }

            function L(e) {
                var t = e.isLoading,
                    n = e.results,
                    a = e.isSelected,
                    i = e.isDisabled,
                    o = e.toggleResultById,
                    l = (0, I.default)((function() {
                        return new S.default
                    }));
                if (t) return (0, P.jsx)("div", {
                    className: v.default.loadingSpinner,
                    children: (0, P.jsx)(w.Spinner, {
                        color: "highlight",
                        size: 44,
                        stroke: 6
                    })
                });
                if (!n || 0 === n.length) return (0, P.jsx)(O, {
                    label: f.fbt._("No categories found", null, {
                        hk: "2xfbJX"
                    })
                });
                var u = n.map((function(e) {
                    return (0, r.default)((0, r.default)({}, e), {}, {
                        id: e.id,
                        itemKey: e.id.toString(),
                        disabled: i(e),
                        selected: a(e.id)
                    })
                }));
                return (0, P.jsx)(y.default, {
                    flatListControllers: [l.current],
                    children: (0, P.jsx)(C.FlatList, {
                        data: u,
                        flatListController: l.current,
                        direction: "vertical",
                        renderItem: function(e) {
                            return (0, P.jsx)(M, {
                                category: e,
                                toggleResultById: o
                            })
                        },
                        defaultItemHeight: 48
                    })
                })
            }
        },
        36727: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(81109)),
                i = a(n(63038)),
                o = a(n(84646)),
                l = n(71091),
                u = n(48360),
                s = n(67294),
                d = a(n(56720)),
                c = n(88768),
                f = n(64055),
                p = a(n(38174)),
                h = a(n(82728)),
                m = n(56300),
                v = n(96127),
                g = a(n(52323)),
                _ = n(65901),
                x = n(49726),
                C = a(n(46821)),
                y = a(n(17)),
                S = n(1577),
                b = n(2629),
                j = n(58771),
                E = a(n(45159)),
                k = n(47994),
                w = n(56003),
                T = a(n(50507)),
                I = (n(21021), n(11585)),
                P = n(29034),
                M = n(97843),
                O = n(85893),
                L = {
                    color: "ky3f94nk",
                    fontSize: "f8jlpxt4",
                    textTransform: "ofejerhi"
                },
                A = {
                    flexGrow: "gj6qtt9u",
                    flexShrink: "m0h2a7mj",
                    flexBasis: "rjo8vgbg",
                    textTransform: "aprpv14t"
                },
                D = {
                    display: "p357zi0d"
                },
                R = {
                    flexGrow: "a6lcuizr",
                    flexShrink: "m0h2a7mj",
                    flexBasis: "rjo8vgbg"
                },
                N = {
                    color: "t35qvd06",
                    fontSize: "dsh4tgtl",
                    lineHeight: "jgi8eev7",
                    marginTop: "dkeqio29"
                };
            t.default = function(e) {
                var t = e.businessProfile,
                    n = e.saveBusinessProfile,
                    a = e.sessionId,
                    F = e.verifiedName,
                    B = (0, s.useState)(),
                    U = (0, i.default)(B, 2),
                    G = U[0],
                    H = U[1],
                    W = (0, s.useState)(),
                    V = (0, i.default)(W, 2),
                    z = V[0],
                    q = V[1],
                    K = (0, s.useState)(),
                    Y = (0, i.default)(K, 2),
                    Q = Y[0],
                    X = Y[1],
                    Z = (0, s.useState)(),
                    J = (0, i.default)(Z, 2),
                    $ = J[0],
                    ee = J[1],
                    te = (0, s.useState)(),
                    ne = (0, i.default)(te, 2),
                    ae = ne[0],
                    re = ne[1],
                    ie = (0, s.useState)(),
                    oe = (0, i.default)(ie, 2),
                    le = oe[0],
                    ue = oe[1],
                    se = (0, s.useState)(),
                    de = (0, i.default)(se, 2),
                    ce = de[0],
                    fe = de[1],
                    pe = (0, s.useState)(),
                    he = (0, i.default)(pe, 2),
                    me = he[0],
                    ve = he[1],
                    ge = (0, s.useState)(),
                    _e = (0, i.default)(ge, 2),
                    xe = _e[0],
                    Ce = _e[1],
                    ye = (0, s.useState)(!1),
                    Se = (0, i.default)(ye, 2),
                    be = Se[0],
                    je = Se[1],
                    Ee = (0, S.getMeUser)(),
                    ke = (0, b.canSeeECommerceComplianceIndiaHardEnforcementBusinessJourney)(Ee.user),
                    we = (0, s.useState)(),
                    Te = (0, i.default)(we, 2),
                    Ie = Te[0],
                    Pe = Te[1];
                (0, s.useEffect)((function() {
                    var e = (0, I.convertRawBusinessProfile)(t);
                    H(e.description), X(e.email), q(e.address), ee(e.primaryWebsite), re(e.secondaryWebsite), ue(Boolean(e.primaryWebsite && !e.secondaryWebsite))
                }), [t]), (0, s.useEffect)((function() {
                    (0, M.validateEmail)(Q) && fe(null)
                }), [Q]), (0, s.useEffect)((function() {
                    (0, M.validateURL)($) && ve(null)
                }), [$]), (0, s.useEffect)((function() {
                    (0, M.validateURL)(ae) && Ce(null)
                }), [ae]);
                var Me, Oe, Le, Ae, De = function() {
                        var e = [];
                        return $ && e.push($), ae && e.push(ae), {
                            website: e.map((function(e, t) {
                                if (!P.URL.isHttps(e) && !P.URL.isHttp(e)) {
                                    var n = `https://${e}`;
                                    return 0 === t ? ee(n) : re(n), n
                                }
                                return e
                            }))
                        }
                    },
                    Re = function(e) {
                        return (0, O.jsx)(j.IconSection, (0, r.default)((0, r.default)({}, e), {}, {
                            hideEditIcon: Boolean(Ie)
                        }))
                    },
                    Ne = function(e, t, n) {
                        if (t) return u.fbt._("Closed", null, {
                            hk: "3IRgct"
                        });
                        switch (e) {
                            case v.BUSINESS_HOUR_MODES.SPECIFIC_HOURS:
                                return (0, O.jsx)(O.Fragment, {
                                    children: n && n.map((function(e, t) {
                                        var n = (0, i.default)(e, 2),
                                            a = n[0],
                                            r = n[1];
                                        return (0, O.jsxs)("div", {
                                            className: (0, d.default)(0 !== t && l.uiMargin.top16),
                                            "data-a8n": o.default.key("business-hours-time"),
                                            children: [a, " - ", r]
                                        }, t)
                                    }))
                                });
                            case v.BUSINESS_HOUR_MODES.APPOINTMENT_ONLY:
                                return u.fbt._("By appointment only", null, {
                                    hk: "e1vew"
                                });
                            case v.BUSINESS_HOUR_MODES.OPEN_24H:
                                return u.fbt._("Open 24 hours", null, {
                                    hk: "1AlfF5"
                                });
                            default:
                                return null
                        }
                    },
                    Fe = (0, s.useCallback)((function() {
                        return ke ? (0, p.default)() : void 0
                    }), [ke]),
                    Be = (0, I.convertRawBusinessProfile)(t),
                    Ue = u.fbt._("Business Information", null, {
                        hk: "36RGyI"
                    }),
                    Ge = void 0;
                return (0, b.canSeeBizProfileV3)() && (Ue = null, Ge = y.default.noPaddingTop), (0, O.jsxs)(C.default, {
                    title: Ue,
                    theme: "refresh",
                    className: Ge,
                    children: [function(e) {
                        if (!e) return null;
                        var t = (0, b.canSeeBizProfileV3)() ? j.IconSectionTheme.NoMargin : void 0;
                        return Re({
                            theme: t,
                            icon: "account-box",
                            iconClass: y.default.verifiedNameIcon,
                            content: (0, O.jsxs)("div", {
                                children: [(0, O.jsx)("div", {
                                    children: e
                                }), (0, O.jsx)("div", {
                                    className: (0, d.default)(N),
                                    children: u.fbt._("This name will be visible to your WhatsApp customers and can be edited from the app on your mobile device.", null, {
                                        hk: "1y9lc"
                                    })
                                })]
                            })
                        })
                    }(F), Re({
                        icon: "business-description",
                        content: (0, O.jsx)(m.BusinessProfileFormField, {
                            activeField: Ie,
                            fieldKey: "description",
                            fieldMetric: T.default.BUSINESS_PROFILE_FIELD.DESCRIPTION,
                            formatForSave: function() {
                                return {
                                    description: G
                                }
                            },
                            lowProfile: !0,
                            originalValue: Be.description,
                            placeholder: u.fbt._("Business Description", null, {
                                hk: "2Q2DP8"
                            }),
                            rawBusinessProfile: t,
                            sessionId: a,
                            textFieldConfig: {
                                maxLength: v.BUSINESS_PROFILE_FIELDS_LENGTH.DESCRIPTION,
                                supportsEmoji: !0
                            },
                            value: G,
                            onActive: Pe,
                            onChange: H,
                            onSaveBusinessProfile: n
                        })
                    }), Re({
                        icon: "business-category",
                        type: "container",
                        emptyText: u.fbt._("Categories", null, {
                            hk: "2YgYDL"
                        }),
                        content: (Ae = Be.categories, 0 === Ae.length ? null : (0, O.jsx)("div", {
                            "data-a8n": o.default.key("biz-profile-category-input"),
                            children: Ae.map((function(e) {
                                return e.localized_display_name
                            })).join(E.default.t(407))
                        })),
                        fieldName: u.fbt._("Categories", null, {
                            hk: "2YgYDL"
                        }),
                        onEdit: function() {
                            (0, w.qplStartProfileCatsView)("Profile"), (0, k.logProfileFieldOpen)(T.default.BUSINESS_PROFILE_FIELD.CATEGORY, t, a), _.Cmd.openModal((0, O.jsx)(g.default, {
                                initialCategories: Be.categories,
                                saveBusinessProfile: n,
                                searchCategories: function(e) {
                                    return f.BusinessCategoriesResultCollection.find(e)
                                },
                                afterSave: function() {
                                    return (0, k.logProfileFieldSave)(T.default.BUSINESS_PROFILE_FIELD.CATEGORY, t, a)
                                },
                                onCancel: function() {
                                    (0, k.logProfileFieldDiscard)(T.default.BUSINESS_PROFILE_FIELD.CATEGORY, t, a)
                                }
                            }))
                        }
                    }), Re({
                        icon: "business-address",
                        content: (0, O.jsx)(c.BusinessAddressField, {
                            businessProfile: Be,
                            activeField: Ie,
                            rawBusinessProfile: t,
                            sessionId: a,
                            value: z,
                            onActive: Pe,
                            onChange: q,
                            onSaveBusinessProfile: n,
                            validate: function(e) {
                                return (0, x.existsField)(e, Ee)
                            },
                            onError: Fe
                        })
                    }), Re({
                        icon: "business-hours",
                        type: "container",
                        emptyText: u.fbt._("Business Hours", null, {
                            hk: "1bV20v"
                        }),
                        content: (Me = Be.hours, Oe = Me.mode, Le = Me.days, null == Oe ? null : (0, O.jsx)("div", {
                            children: Le.map((function(e, t) {
                                var n = e.dayName,
                                    a = e.dayKey,
                                    r = e.closed,
                                    i = e.hours;
                                return (0, O.jsxs)("div", {
                                    className: (0, d.default)(D, 0 !== t && l.uiMargin.top28),
                                    "data-a8n": o.default.key("business-hours-section-row"),
                                    children: [(0, O.jsx)("div", {
                                        className: (0, d.default)(A),
                                        children: n
                                    }), (0, O.jsx)("div", {
                                        className: (0, d.default)(R),
                                        children: Ne(Oe, r, i)
                                    })]
                                }, a)
                            }))
                        })),
                        fieldName: u.fbt._("Business Hours", null, {
                            hk: "1bV20v"
                        }),
                        onEdit: function() {
                            (0, k.logProfileFieldOpen)(T.default.BUSINESS_PROFILE_FIELD.HOURS, t, a), _.Cmd.openModal((0, O.jsx)(h.default, {
                                businessHours: Be.hours,
                                saveBusinessProfile: n,
                                onCancel: function() {
                                    (0, k.logProfileFieldDiscard)(T.default.BUSINESS_PROFILE_FIELD.HOURS, t, a)
                                },
                                afterSave: function() {
                                    return (0, k.logProfileFieldSave)(T.default.BUSINESS_PROFILE_FIELD.HOURS, t, a)
                                }
                            }))
                        }
                    }), Re({
                        icon: "business-email",
                        content: (0, O.jsx)(m.BusinessProfileFormField, {
                            activeField: Ie,
                            error: ce,
                            fieldKey: "email",
                            fieldMetric: T.default.BUSINESS_PROFILE_FIELD.EMAIL,
                            formatForSave: function() {
                                return {
                                    email: Q
                                }
                            },
                            lowProfile: !1,
                            originalValue: Be.email,
                            placeholder: u.fbt._("Email Address", null, {
                                hk: "5tSKT"
                            }),
                            rawBusinessProfile: t,
                            sessionId: a,
                            textFieldConfig: {
                                maxLength: v.BUSINESS_PROFILE_FIELDS_LENGTH.EMAIL
                            },
                            validate: function(e) {
                                return (0, M.validateEmail)(e)
                            },
                            value: Q,
                            onActive: Pe,
                            onChange: X,
                            onError: function() {
                                fe(u.fbt._("Incorrect email address format", null, {
                                    hk: "1KuwvT"
                                }))
                            },
                            onSaveBusinessProfile: n
                        })
                    }), function(e) {
                        var r = (0, O.jsx)(m.BusinessProfileFormField, {
                            activeField: Ie,
                            error: me,
                            fieldKey: "primaryWebsite",
                            fieldMetric: T.default.BUSINESS_PROFILE_FIELD.WEBSITE,
                            formatForSave: De,
                            lowProfile: !1,
                            originalValue: e.primaryWebsite,
                            placeholder: u.fbt._("Website", null, {
                                hk: "2HRvqj"
                            }),
                            rawBusinessProfile: t,
                            sessionId: a,
                            textFieldConfig: {
                                maxLength: v.BUSINESS_PROFILE_FIELDS_LENGTH.WEBSITE
                            },
                            validate: M.validateURL,
                            value: $,
                            onActive: Pe,
                            onChange: ee,
                            onError: function() {
                                ve(u.fbt._("URL is incorrect", null, {
                                    hk: "xiOtm"
                                }))
                            },
                            onSaveBusinessProfile: n
                        });
                        return Re({
                            icon: "business-website",
                            theme: j.IconSectionTheme.SmallMargin,
                            content: (0, O.jsx)("div", {
                                children: r
                            })
                        })
                    }(Be), function(e) {
                        if (!e.primaryWebsite) return null;
                        if (ae || !le) {
                            var r = (0, O.jsx)(m.BusinessProfileFormField, {
                                activeField: Ie,
                                error: xe,
                                fieldKey: "secondaryWebsite",
                                fieldMetric: T.default.BUSINESS_PROFILE_FIELD.WEBSITE,
                                formatForSave: De,
                                lowProfile: !1,
                                originalValue: e.secondaryWebsite,
                                placeholder: u.fbt._("Website", null, {
                                    hk: "2HRvqj"
                                }),
                                rawBusinessProfile: t,
                                sessionId: a,
                                startActive: be,
                                textFieldConfig: {
                                    maxLength: v.BUSINESS_PROFILE_FIELDS_LENGTH.WEBSITE
                                },
                                validate: M.validateURL,
                                value: ae,
                                onActive: Pe,
                                onChange: re,
                                onError: function() {
                                    Ce(u.fbt._("URL is incorrect", null, {
                                        hk: "xiOtm"
                                    }))
                                },
                                onSaveBusinessProfile: n
                            });
                            return Re({
                                icon: "business-website",
                                theme: j.IconSectionTheme.NoMargin,
                                content: (0, O.jsx)("div", {
                                    children: r
                                })
                            })
                        }
                        var i = (0, O.jsx)("button", {
                            className: (0, d.default)(L),
                            onClick: function() {
                                ue(!1), je(!0)
                            },
                            children: u.fbt._("Add another website", null, {
                                hk: "1HOyZt"
                            })
                        });
                        return Re({
                            theme: j.IconSectionTheme.NoMargin,
                            content: (0, O.jsx)("div", {
                                children: i
                            })
                        })
                    }(Be)]
                })
            }
        },
        69337: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function() {
                var e = (0, u.useState)(y.LoadType.PENDING),
                    t = (0, r.default)(e, 2),
                    n = t[0],
                    a = t[1],
                    s = (0, u.useState)(),
                    g = (0, r.default)(s, 2),
                    I = g[0],
                    P = g[1],
                    M = (0, u.useRef)(Math.floor(2147483648 * Math.random()).toString()),
                    O = function() {
                        var e = (0, o.default)(i.default.mark((function e() {
                            var t;
                            return i.default.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        return a(y.LoadType.PENDING), e.prev = 1, e.next = 4, w();
                                    case 4:
                                        t = e.sent, P(t), a(y.LoadType.DONE), (0, x.logProfileOpen)(t, M.current), e.next = 13;
                                        break;
                                    case 10:
                                        e.prev = 10, e.t0 = e.catch(1), a(y.LoadType.ERROR);
                                    case 13:
                                    case "end":
                                        return e.stop()
                                }
                            }), e, null, [
                                [1, 10]
                            ])
                        })));
                        return function() {
                            return e.apply(this, arguments)
                        }
                    }();
                if ((0, u.useEffect)((function() {
                        O()
                    }), []), n === y.LoadType.PENDING) return (0, E.jsx)("div", {
                    className: m.default.loadingSpinner,
                    children: (0, E.jsx)(b.Spinner, {
                        color: "default",
                        size: 24,
                        stroke: 6
                    })
                });
                if (n === y.LoadType.ERROR) return (0, E.jsx)(p.default, {
                    title: l.fbt._("Business Information", null, {
                        hk: "36RGyI"
                    }),
                    theme: "refresh",
                    children: (0, E.jsxs)(v.FlexRow, {
                        align: "center",
                        justify: "center",
                        children: [(0, E.jsx)(v.FlexItem, {
                            children: _.default.t(250)
                        }), (0, E.jsx)(v.FlexItem, {
                            xstyle: k.retryButton,
                            children: (0, E.jsx)(c.default, {
                                onClick: function() {
                                    O()
                                },
                                type: "simplified",
                                children: l.fbt._("Retry", null, {
                                    hk: "2jS9Tg"
                                })
                            })
                        })]
                    })
                });
                if (n === y.LoadType.DONE && I) return (0, E.jsx)(h.default, {
                    verifiedName: f.Conn.pushname || void 0,
                    sessionId: M.current,
                    businessProfile: I,
                    saveBusinessProfile: function() {
                        var e = (0, o.default)(i.default.mark((function e(t) {
                            var n;
                            return i.default.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        return e.prev = 0, e.next = 3, (0, d.editBusinessProfile)(t);
                                    case 3:
                                        e.next = 11;
                                        break;
                                    case 5:
                                        throw e.prev = 5, e.t0 = e.catch(0), (0, j.showError)(_.default.t(251)), (0, C.qplEndProfileSave)(S.QuickLogActionType.FAIL), __LOG__(3, void 0, void 0, !0)`business_profile:edit_form save failed`, SEND_LOGS(`businessProfile edit handled server error - ${e.t0.status}`), e.t0;
                                    case 11:
                                        return e.prev = 11, e.next = 14, T();
                                    case 14:
                                        return n = e.sent, P(n), (0, C.qplEndProfileSave)(S.QuickLogActionType.SUCCESS), e.abrupt("return", n);
                                    case 20:
                                        throw e.prev = 20, e.t1 = e.catch(11), (0, j.showError)(_.default.t(250)), (0, C.qplEndProfileSave)(S.QuickLogActionType.FAIL), e.t1;
                                    case 25:
                                    case "end":
                                        return e.stop()
                                }
                            }), e, null, [
                                [0, 5],
                                [11, 20]
                            ])
                        })));
                        return function() {
                            return e.apply(this, arguments)
                        }
                    }()
                });
                return null
            };
            var r = a(n(63038)),
                i = a(n(87757)),
                o = a(n(48926)),
                l = n(48360),
                u = n(67294),
                s = (a(n(56720)), n(26141)),
                d = n(16419),
                c = a(n(51599)),
                f = n(73929),
                p = a(n(46821)),
                h = a(n(36727)),
                m = a(n(38968)),
                v = n(27968),
                g = n(1577),
                _ = a(n(45159)),
                x = n(47994),
                C = n(56003),
                y = n(21021),
                S = n(3298),
                b = n(85651),
                j = n(30368),
                E = n(85893),
                k = {
                    retryButton: {
                        height: "epwkujcx",
                        marginStart: "nzcjdldu"
                    }
                },
                w = function() {
                    var e = (0, o.default)(i.default.mark((function e() {
                        var t, n, a;
                        return i.default.wrap((function(e) {
                            for (;;) switch (e.prev = e.next) {
                                case 0:
                                    return t = (0, g.getMeUser)(), (n = s.BusinessProfileCollection.get(t)) && n.markStale(), e.next = 5, s.BusinessProfileCollection.find(t);
                                case 5:
                                    return a = e.sent, e.abrupt("return", a.serialize());
                                case 7:
                                case "end":
                                    return e.stop()
                            }
                        }), e)
                    })));
                    return function() {
                        return e.apply(this, arguments)
                    }
                }(),
                T = function() {
                    var e = (0, o.default)(i.default.mark((function e() {
                        var t, n, a;
                        return i.default.wrap((function(e) {
                            for (;;) switch (e.prev = e.next) {
                                case 0:
                                    return t = (0, g.getMeUser)(), e.next = 3, s.BusinessProfileCollection.update(t);
                                case 3:
                                    return n = e.sent, a = Array.isArray(n) ? n[0] : n, e.abrupt("return", a.serialize());
                                case 6:
                                case "end":
                                    return e.stop()
                            }
                        }), e)
                    })));
                    return function() {
                        return e.apply(this, arguments)
                    }
                }()
        },
        47994: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.getProfilePopulatedFields = o, t.logProfileFieldDiscard = function(e, t, n) {
                var a = new i.default.EditBusinessProfile((0, r.default)({
                    editProfileAction: i.default.EDIT_PROFILE_ACTION.ACTION_PROFILE_FIELD_DISCARD,
                    businessProfileEntryPoint: i.default.BUSINESS_PROFILE_ENTRY_POINT.SETTINGS,
                    editProfileActionField: e,
                    editBusinessProfileSessionId: n
                }, o(t)));
                a && a.commit()
            }, t.logProfileFieldOpen = function(e, t, n) {
                var a = new i.default.EditBusinessProfile((0, r.default)({
                    editProfileAction: i.default.EDIT_PROFILE_ACTION.ACTION_PROFILE_FIELD_OPEN,
                    businessProfileEntryPoint: i.default.BUSINESS_PROFILE_ENTRY_POINT.SETTINGS,
                    editProfileActionField: e,
                    editBusinessProfileSessionId: n
                }, o(t)));
                a && a.commit()
            }, t.logProfileFieldSave = function(e, t, n) {
                var a = new i.default.EditBusinessProfile((0, r.default)({
                    editProfileAction: i.default.EDIT_PROFILE_ACTION.ACTION_PROFILE_FIELD_SAVE,
                    businessProfileEntryPoint: i.default.BUSINESS_PROFILE_ENTRY_POINT.SETTINGS,
                    editProfileActionField: e,
                    editBusinessProfileSessionId: n
                }, o(t)));
                a && a.commit()
            }, t.logProfileOpen = function(e, t) {
                var n = new i.default.EditBusinessProfile((0, r.default)({
                    editProfileAction: i.default.EDIT_PROFILE_ACTION.ACTION_OPEN,
                    businessProfileEntryPoint: i.default.BUSINESS_PROFILE_ENTRY_POINT.SETTINGS,
                    editBusinessProfileSessionId: t
                }, o(e)));
                n && n.commit()
            };
            var r = a(n(81109)),
                i = a(n(50507));

            function o(e) {
                var t;
                return {
                    hasDescription: null != e.description,
                    hasCategory: !!(e.categories && e.categories.length > 0),
                    hasHours: null != (null === (t = e.businessHours) || void 0 === t ? void 0 : t.config),
                    hasEmail: null != e.email,
                    hasAddress: null != e.address,
                    hasWebsite: null != e.website
                }
            }
        },
        21021: (e, t, n) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), Object.defineProperty(t, "EditType", {
                enumerable: !0,
                get: function() {
                    return a.EditType
                }
            }), Object.defineProperty(t, "LoadType", {
                enumerable: !0,
                get: function() {
                    return a.LoadType
                }
            });
            var a = n(95317)
        },
        11585: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.convertRawBusinessProfile = void 0;
            var r = a(n(63038)),
                i = n(62890);
            t.convertRawBusinessProfile = function(e) {
                var t = e.description,
                    n = e.email,
                    a = e.address,
                    o = e.website,
                    l = e.categories,
                    u = e.businessHours,
                    s = e.latitude,
                    d = e.longitude,
                    c = (0, r.default)(o || [], 2);
                return {
                    description: t,
                    email: n,
                    address: a,
                    primaryWebsite: c[0],
                    secondaryWebsite: c[1],
                    hours: (0, i.getBusinessHoursForEdit)(u),
                    categories: l || [],
                    latitude: s,
                    longitude: d
                }
            }
        },
        30368: (e, t, n) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.showError = void 0;
            var a = n(65901),
                r = n(92428),
                i = n(85893);
            t.showError = function(e) {
                a.Cmd.openToast((0, i.jsx)(r.Toast, {
                    msg: e,
                    duration: 6e3,
                    id: (0, r.genId)()
                }))
            }
        },
        78708: (e, t, n) => {
            "use strict";
            var a = n(21314).default,
                r = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.CartDetailDrawer = function(e) {
                var t = e.onBack,
                    n = e.sellerJid,
                    r = e.chat,
                    Y = e.closeDrawerRightOnSend,
                    Q = e.onProductCatalog,
                    X = e.onProductDetail,
                    Z = e.isPushed,
                    J = void 0 === Z || Z,
                    $ = (0, f.useContext)(E.DrawerContext),
                    ee = (0, f.useMemo)((function() {
                        return v.CartCollection.findCart(n)
                    }), [n]),
                    te = (0, f.useRef)(null),
                    ne = (0, f.useRef)(null),
                    ae = (0, V.default)((function() {
                        return new u.PromiseQueue
                    })),
                    re = (0, V.default)((function() {
                        return new w.default
                    })),
                    ie = (0, f.useState)(!0),
                    oe = (0, l.default)(ie, 2),
                    le = oe[0],
                    ue = oe[1],
                    se = (0, f.useState)(void 0),
                    de = (0, l.default)(se, 2),
                    ce = de[0],
                    fe = de[1],
                    pe = (0, f.useState)([]),
                    he = (0, l.default)(pe, 2),
                    me = he[0],
                    ve = he[1],
                    ge = (0, f.useState)(ee.message),
                    _e = (0, l.default)(ge, 2),
                    xe = _e[0],
                    Ce = _e[1],
                    ye = function() {
                        var e = (0, o.default)(i.default.mark((function e(t) {
                            var n, o, u, s, d;
                            return i.default.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        return e.next = 2, a.all([t ? (0, R.default)(ee, J) : a.resolve(), p.BusinessProfileCollection.find(r.id)]);
                                    case 2:
                                        n = e.sent, o = (0, l.default)(n, 2), u = o[0], s = o[1], u && (ne.current = u), d = (0, L.matchCartItemsToProducts)(ee, ne.current), ue(!1), fe(s), ve(d);
                                    case 11:
                                    case "end":
                                        return e.stop()
                                }
                            }), e)
                        })));
                        return function() {
                            return e.apply(this, arguments)
                        }
                    }();
                (0, z.useListener)(ee, "change:cartItemCollection", (function() {
                    ae.current.enqueue((function() {
                        return ye()
                    }))
                })), (0, f.useEffect)((function() {
                    var e = !0;
                    J && (0, O.qplAnnotateCartView)(ee.id.toString() !== n, ee.itemCount), ye(!0, J).then((function() {
                        e = !1, J && (0, O.qplEndCartView)(N.QuickLogActionType.SUCCESS), (0, M.logCartListImpression)(ee.id.toString(), (0, D.getProductCatalogContext)($))
                    })).catch((function() {
                        __LOG__(4, !0, new Error, !0)`Unable to open the cart`, SEND_LOGS("openCart: failed to open the cart"), (0, B.default)(), (0, x.default)(ee)
                    })).finally((function() {
                        e && J && (0, O.qplEndCartView)(N.QuickLogActionType.FAIL), ue(!1)
                    }))
                }), []);
                var Se = function() {
                        ue(!0), (0, O.qplStartOrderCreate)(me.length), (0, U.default)(ee, r).then((function(e) {
                            var n = Boolean(ee.message);
                            (0, P.logSendOrderMessage)({
                                orderId: e,
                                catalogOwnerJid: ee.id,
                                catalogContext: (0, D.getProductCatalogContext)($),
                                isOrderMsgAttached: n,
                                quantity: ee.itemCount
                            }), t(), (0, x.default)(ee), ee.message = void 0, Y && C.Cmd.existsDrawerRight((function(e) {
                                e && C.Cmd.closeDrawerRight()
                            })), (0, O.qplEndOrderCreate)(N.QuickLogActionType.SUCCESS)
                        })).catch((function() {
                            __LOG__(4, !0, new Error, !0)`Unable to create catalog order`, SEND_LOGS("submitOrder: order creation or order message send error"), (0, B.default)(), ye(!0), (0, O.qplEndOrderCreate)(N.QuickLogActionType.FAIL)
                        })).finally((function() {
                            ue(!1)
                        }))
                    },
                    be = function(e) {
                        Ce(e), (0, W.default)(ee, e)
                    },
                    je = function() {
                        C.Cmd.openModal((0, K.jsx)(y.default, {
                            title: c.fbt._("Message Too Long", null, {
                                hk: "3CMbLA"
                            }),
                            onOK: function() {
                                C.Cmd.closeModal()
                            },
                            okText: c.fbt._("OK", null, {
                                hk: "2KEeHb"
                            }),
                            children: c.fbt._("The message you’re pasting is too long. Try shortening it or sending it as a separate message.", null, {
                                hk: "9VR0L"
                            })
                        }))
                    };
                return (0, K.jsxs)(b.default, {
                    onDrop: t,
                    theme: "striped",
                    children: [(0, K.jsx)(k.DrawerHeader, {
                        title: c.fbt._("Your cart", null, {
                            hk: "Sn66V"
                        }),
                        type: k.DRAWER_HEADER_TYPE.SMALL,
                        onBack: t
                    }), (0, K.jsx)(j.default, {
                        flatListControllers: [re.current],
                        children: function() {
                            if (le) return (0, K.jsx)(T.default, {});
                            var e, t, a = ee.itemCount,
                                i = a > 0;
                            if (i) {
                                var o = I.default.t(551, {
                                    count: a,
                                    _plural: a
                                });
                                e = (0, K.jsx)(H.TextDiv, {
                                    theme: "title",
                                    children: o
                                })
                            }
                            null != ee.total && null != ee.currency ? t = (0, K.jsx)(H.TextDiv, {
                                theme: "muted-small",
                                children: I.default.t(697, {
                                    subtotal: S.formatAmount1000(ee.currency, ee.total)
                                })
                            }) : a > 0 && (t = (0, K.jsx)(H.TextDiv, {
                                theme: "muted-small",
                                children: c.fbt._("Ask for total", null, {
                                    hk: "3qm9mR"
                                })
                            }));
                            var l = (0, K.jsx)(q.default, {
                                    transitionName: "media-caption",
                                    className: g.default.cartMessage,
                                    children: (0, K.jsx)(A.default, {
                                        ref: te,
                                        chat: r,
                                        maxLength: d.default.MAX_CART_MESSAGE_LENGTH,
                                        multiline: !0,
                                        onEnter: Se,
                                        onChange: be,
                                        onMaxPasteExceeded: je,
                                        placeholder: c.fbt._("Add a message", null, {
                                            hk: "4drJT1"
                                        }),
                                        showRemaining: !0,
                                        spellCheck: !0,
                                        supportsEmoji: !0,
                                        value: xe
                                    })
                                }),
                                u = (0, K.jsx)("button", {
                                    "data-a8n": s.default.key("cart-send-button"),
                                    className: g.default.btnSend,
                                    tabIndex: "-1",
                                    onClick: Se,
                                    title: c.fbt._("Send a cart", null, {
                                        hk: "37qP8u"
                                    }),
                                    children: (0, K.jsx)(F.Round, {
                                        large: !0,
                                        children: (0, K.jsx)(G.default, {
                                            name: "send",
                                            directional: !0
                                        })
                                    })
                                });
                            return (0, K.jsxs)(K.Fragment, {
                                children: [!i && (0, K.jsxs)("div", {
                                    className: g.default.emptyCartContainer,
                                    children: [(0, K.jsx)(G.default, {
                                        name: "shopping-cart-empty"
                                    }), (0, K.jsx)(H.TextDiv, {
                                        className: g.default.emptyCardHeader,
                                        theme: "large",
                                        children: c.fbt._("Add items to your cart", null, {
                                            hk: "411bLF"
                                        })
                                    }), (0, K.jsx)(H.TextDiv, {
                                        className: g.default.emptyCardText,
                                        theme: "plain",
                                        children: c.fbt._("Collect all the items you're interested in here and then send them to the business. Use your cart to ask about buying, customizing, delivery, or anything you want.", null, {
                                            hk: "2L1JTk"
                                        })
                                    }), (0, h.hasCatalog)(ce) && (0, K.jsx)(m.default, {
                                        onClick: Q,
                                        type: "primary",
                                        children: c.fbt._("View catalog", null, {
                                            hk: "1bDXja"
                                        })
                                    })]
                                }), (0, K.jsxs)("div", {
                                    className: g.default.info,
                                    children: [e, t]
                                }), (0, K.jsx)(_.default, {
                                    flatListController: re.current,
                                    onProductDetail: X,
                                    cart: ee,
                                    sellerJid: n,
                                    cartProductItems: me
                                }), i && (0, K.jsxs)("div", {
                                    className: g.default.footer,
                                    children: [l, (0, K.jsx)(q.default, {
                                        transitionAppear: !0,
                                        transitionName: "btn",
                                        children: u
                                    })]
                                })]
                            })
                        }()
                    })]
                })
            };
            var i = r(n(87757)),
                o = r(n(48926)),
                l = r(n(63038)),
                u = n(80895),
                s = r(n(84646)),
                d = r(n(3208)),
                c = n(48360),
                f = n(67294),
                p = n(26141),
                h = n(79614),
                m = r(n(51599)),
                v = n(2133),
                g = r(n(28759)),
                _ = r(n(46048)),
                x = r(n(1737)),
                C = n(65901),
                y = r(n(86777)),
                S = function(e, t) {
                    if (!t && e && e.__esModule) return e;
                    if (null === e || "object" != typeof e && "function" != typeof e) return {
                        default: e
                    };
                    var n = Y(t);
                    if (n && n.has(e)) return n.get(e);
                    var a = {},
                        r = Object.defineProperty && Object.getOwnPropertyDescriptor;
                    for (var i in e)
                        if ("default" !== i && Object.prototype.hasOwnProperty.call(e, i)) {
                            var o = r ? Object.getOwnPropertyDescriptor(e, i) : null;
                            o && (o.get || o.set) ? Object.defineProperty(a, i, o) : a[i] = e[i]
                        } a.default = e, n && n.set(e, a);
                    return a
                }(n(71150)),
                b = r(n(53187)),
                j = r(n(18345)),
                E = n(96706),
                k = n(19288),
                w = r(n(92546)),
                T = r(n(5029)),
                I = r(n(45159)),
                P = n(98808),
                M = n(71072),
                O = n(56003),
                L = n(12096),
                A = r(n(61640)),
                D = n(52867),
                R = r(n(53205)),
                N = n(3298),
                F = n(80385),
                B = r(n(97469)),
                U = r(n(28217)),
                G = r(n(7665)),
                H = n(22552),
                W = r(n(50882)),
                V = r(n(39394)),
                z = n(8413),
                q = r(n(60806)),
                K = n(85893);

            function Y(e) {
                if ("function" != typeof WeakMap) return null;
                var t = new WeakMap,
                    n = new WeakMap;
                return (Y = function(e) {
                    return e ? n : t
                })(e)
            }
        },
        46048: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.cartProductItems,
                    n = e.onProductDetail,
                    a = e.sellerJid;
                return (0, s.jsx)(u.default, {
                    flatListControllers: [e.flatListController],
                    children: (0, s.jsx)(l.FlatList, {
                        flatListController: e.flatListController,
                        direction: "vertical",
                        forceConsistentRenderCount: !1,
                        data: t.map((function(e) {
                            return {
                                itemKey: e.cartItem.id,
                                contentKey: (0, r.default)("cartItem"),
                                product: e.product,
                                cartItem: e.cartItem
                            }
                        })),
                        renderItem: function(e) {
                            var t = {
                                productId: e.cartItem.id,
                                businessOwnerJid: a
                            };
                            return (0, s.jsx)(i.default, {
                                cartId: a,
                                product: e.product,
                                quantity: e.cartItem.quantity,
                                onClick: function() {
                                    return n(t)
                                }
                            })
                        },
                        defaultItemHeight: o.PRODUCT_LIST_ITEM_HEIGHT
                    })
                })
            };
            var r = a(n(73955)),
                i = a(n(79941)),
                o = n(66419),
                l = n(73568),
                u = a(n(23803)),
                s = n(85893)
        },
        79941: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, n, a = e.product,
                    _ = e.onClick,
                    x = (0, g.jsx)(c.EmojiText, {
                        text: a.name,
                        ellipsify: !0,
                        titlify: !0
                    }),
                    C = null === (t = a.getPreviewImage()) || void 0 === t ? void 0 : t.mediaData;
                n = C ? (0, g.jsx)(m.ProductThumb, {
                    theme: "list",
                    mediaData: C
                }) : (0, g.jsx)(g.Fragment, {});
                var y = (0, g.jsx)(h.default, {
                    className: i.default.price,
                    product: a,
                    fallback: r.fbt._("Ask for price", null, {
                        hk: "2Rtbeg"
                    })
                });
                return (0, g.jsx)(l.default, {
                    image: n,
                    customImage: !0,
                    primary: x,
                    secondary: y,
                    theme: "cart-product",
                    onClick: _,
                    detail: (0, g.jsx)(d.DrawerContext.Consumer, {
                        children: function(t) {
                            return (0, g.jsxs)("div", {
                                className: i.default.actions,
                                children: [(0, g.jsx)(o.default, {
                                    quantity: e.quantity,
                                    onChange: function(n) {
                                        return function(t, n) {
                                            var a = e.cartId,
                                                r = e.product;
                                            (0, v.default)(a, r, t), (0, f.logEditProduct)(r, n, t)
                                        }(n, (0, p.getProductCatalogContext)(t))
                                    }
                                }), (0, g.jsx)("div", {
                                    className: i.default.deleteIcon,
                                    children: (0, g.jsx)(u.default, {
                                        onClick: function(n) {
                                            return function(t, n) {
                                                var a = e.cartId,
                                                    r = e.product,
                                                    i = (0, s.default)(a, r.id.toString());
                                                (0, s.default)(a, r.id.toString()), (0, f.logDeleteProduct)(r, n), 0 === i && (0, f.logCartAbandon)(r.catalogWid.toString(), n),
                                                    function(e) {
                                                        e.preventDefault(), e.stopPropagation()
                                                    }(t)
                                            }(n, (0, p.getProductCatalogContext)(t))
                                        }
                                    })
                                })]
                            })
                        }
                    }),
                    className: i.default.cartListItem
                }, a.id.toString())
            };
            var r = n(48360),
                i = a(n(86766)),
                o = a(n(31527)),
                l = a(n(88186)),
                u = a(n(38275)),
                s = a(n(16670)),
                d = n(96706),
                c = n(73008),
                f = n(71072),
                p = n(52867),
                h = a(n(84754)),
                m = n(47576),
                v = a(n(78107)),
                g = n(85893)
        },
        27275: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.label,
                    n = e.label,
                    a = (0, d.default)();
                (0, c.useListener)(u.LabelCollection, `label_updated_${n}`, (function() {
                    a()
                }));
                var p = u.LabelCollection.get(t);
                if (!p || !p.name) return null;
                if ("label-list" === e.theme) {
                    var h = (0, f.jsx)(s.Labels, {
                            renderAsCircle: "label-list" === e.theme,
                            theme: e.theme,
                            labels: [t]
                        }),
                        m = (0, f.jsx)(i.EmojiText, {
                            text: p.name,
                            ellipsify: !0,
                            titlify: !0
                        });
                    return (0, f.jsx)(r.default, {
                        theme: (0, o.canEditLabel)() ? "chat-checkbox" : void 0,
                        image: h,
                        primary: m,
                        secondary: l.default.t(551, {
                            count: parseInt(p.count || 0, 10),
                            _plural: parseInt(p.count || 0, 10)
                        })
                    })
                }
                var v = (0, s.renderLabelSvg)(p.hexColor),
                    g = (0, f.jsx)(i.EmojiText, {
                        text: p.name,
                        ellipsify: !0,
                        titlify: !0
                    });
                return (0, f.jsx)(r.default, {
                    theme: "label-selection",
                    image: v,
                    primary: g
                })
            };
            var r = a(n(88186)),
                i = n(73008),
                o = n(2629),
                l = a(n(45159)),
                u = n(14093),
                s = n(4267),
                d = a(n(57811)),
                c = n(8413),
                f = n(85893)
        },
        79236: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.shouldScrollIntoViewAndSelect,
                    n = e.selectedLabels,
                    a = e.onMultiSelect,
                    l = e.renderContext,
                    s = e.onLabelClick,
                    c = e.initialLabelState,
                    v = void 0 === c ? {} : c,
                    g = (0, o.useState)((function() {
                        return d.LabelCollection.toArray()
                    })),
                    _ = (0, i.default)(g, 2),
                    x = _[0],
                    C = _[1],
                    y = (0, o.useRef)(null),
                    S = function(e, t, r) {
                        null == n || n.setVal(e, t, r), null == a || a(e.id)
                    };
                (0, p.useListener)(d.LabelCollection, "add remove", (function(e, n, a) {
                    if (C(d.LabelCollection.toArray()), a.add && t) {
                        var r, i = t(e.name),
                            o = i.shouldScrollIntoView,
                            l = i.shouldSelect;
                        o && (null === (r = y.current) || void 0 === r || r.scrollIntoView({
                            behavior: "smooth"
                        })), l && S(e, !0, !1)
                    }
                }));
                var b = (0, o.useMemo)((function() {
                    return u.GK.supportsFeature(u.GK.F.MD_BACKEND) ? (0, r.default)(x).sort((function(e, t) {
                        var n = parseInt(e.id, 10),
                            a = parseInt(t.id, 10);
                        return isNaN(n) || isNaN(a) ? 0 : n - a
                    })) : x
                }), [x]);
                return (0, h.jsx)("div", {
                    children: b.map((function(t, a) {
                        return (0, h.jsx)(m, {
                            selectedLabels: n,
                            renderContext: l,
                            onLabelClick: s,
                            initialLabelState: v,
                            onMultiSelect: S,
                            label: t,
                            selectableState: e.SelectableState || new f.default(!0),
                            onRef: function(e) {
                                a === x.length - 1 && (y.current = e)
                            }
                        }, t.id)
                    }))
                })
            };
            var r = a(n(319)),
                i = a(n(63038)),
                o = n(67294),
                l = a(n(75474)),
                u = n(38032),
                s = n(2629),
                d = n(14093),
                c = a(n(27275)),
                f = a(n(12834)),
                p = n(8413),
                h = n(85893);

            function m(e) {
                var t = e.label,
                    n = e.selectedLabels,
                    a = e.renderContext,
                    r = e.onLabelClick,
                    i = e.initialLabelState,
                    o = e.onMultiSelect,
                    u = e.selectableState,
                    f = e.onRef;
                if (!t.name) return null;
                var p = d.LabelCollection.assertGet(t.id),
                    m = "label-selection" === a || (0, s.canEditLabel)() ? (0, h.jsx)(l.default, {
                        theme: a,
                        model: p,
                        initialSelection: i[t.id] || 0,
                        multiSelection: n,
                        selectableState: u,
                        onSelect: o,
                        children: (0, h.jsx)(c.default, {
                            label: t.id
                        })
                    }) : (0, h.jsx)(c.default, {
                        label: t.id,
                        theme: a
                    });
                return (0, h.jsx)("div", {
                    ref: f,
                    onClick: r ? r.bind(null, t.id) : void 0,
                    children: m
                }, `label_item_${t.id}`)
            }
        },
        20385: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.userIsCartOwner,
                    n = e.orderId,
                    a = e.token,
                    N = e.sellerJid,
                    B = e.onProductDetail,
                    U = e.onOrderCreate,
                    G = e.ownerHasReviewed,
                    H = e.chat,
                    W = e.orderMessage,
                    V = e.onOrderCancel,
                    z = e.isPushed,
                    q = void 0 === z || z,
                    K = (0, d.useState)(!0),
                    Y = (0, r.default)(K, 2),
                    Q = Y[0],
                    X = Y[1],
                    Z = (0, d.useState)("PENDING"),
                    J = (0, r.default)(Z, 2),
                    $ = J[0],
                    ee = J[1],
                    te = (0, d.useState)(null),
                    ne = (0, r.default)(te, 2),
                    ae = ne[0],
                    re = ne[1],
                    ie = (0, d.useState)(""),
                    oe = (0, r.default)(ie, 2),
                    le = oe[0],
                    ue = oe[1],
                    se = (0, A.default)((function() {
                        return new S.default
                    }));
                (0, d.useEffect)((function() {
                    T.OrderCollection.findOrder(n, N, a).then((function(e) {
                        X(!1), ee("SUCCESS"), re(e), q && ((0, k.qplAnnotateOrderView)((null == e ? void 0 : e.products.length) || 0), (0, k.qplEndOrderView)(M.QuickLogActionType.SUCCESS))
                    })).catch((0, i.filteredCatch)(D.E404, (function() {
                        p.Cmd.openModal((0, R.jsx)(h.default, {
                            onOK: function() {
                                p.Cmd.closeModal()
                            },
                            okText: s.fbt._("OK", null, {
                                hk: "2KEeHb"
                            }),
                            children: s.fbt._("The seller has deleted your sent cart. Contact the seller for more information.", null, {
                                hk: "3f21OJ"
                            })
                        })), X(!1), ee("ERROR"), (0, k.qplDropOrderView)()
                    }))).catch((function() {
                        X(!1), ee("ERROR"), __LOG__(4, !0, new Error, !0)`Catalog Order Display failed`, SEND_LOGS("OrderDetails: failed to display"), q && (0, k.qplEndOrderView)(M.QuickLogActionType.FAIL)
                    }))
                }), []);
                var de = function() {
                        p.Cmd.closeDrawerRight()
                    },
                    ce = function() {
                        if (de(), null != W) {
                            var e = s.fbt._("We have canceled your order.", null, {
                                hk: "4glubN"
                            }).toString() + "\n" + le;
                            (0, O.sendTextMsgToChat)(H, e, {
                                quotedMsg: new w.Msg(W)
                            })
                        }
                        p.Cmd.openChatFromUnread(H)
                    };
                return (0, R.jsxs)(v.default, {
                    theme: "striped",
                    onDrop: de,
                    children: [(0, R.jsx)(x.DrawerHeader, {
                        title: t ? s.fbt._("Your sent cart", null, {
                            hk: "2NjAs4"
                        }) : E.default.t(261),
                        type: x.DRAWER_HEADER_TYPE.SMALL,
                        onBack: de
                    }), (0, R.jsx)(g.default, {
                        flatListControllers: [se.current],
                        children: function() {
                            if (Q || null == ae) return (0, R.jsx)(y.default, {
                                fetchState: $
                            });
                            var e = "";
                            e = ae.products.length > 0 ? E.default.t(551, {
                                count: ae.totalItemCount || 0,
                                _plural: ae.totalItemCount || 0
                            }) : s.fbt._("No Items", null, {
                                hk: "49qWfy"
                            });
                            var t = (0, R.jsx)(L.TextDiv, {
                                    theme: "title",
                                    children: e
                                }),
                                n = null;
                            n = null != ae.total && 0 !== ae.total ? E.default.t(697, {
                                subtotal: m.formatAmount1000(ae.currency, ae.total)
                            }) : s.fbt._("Ask for total", null, {
                                hk: "3qm9mR"
                            });
                            var a = (0, R.jsx)(L.TextDiv, {
                                    theme: "muted-small",
                                    children: n
                                }),
                                r = null;
                            if (null != ae.createdAt) {
                                var i = f.Clock.timeStr(ae.createdAt);
                                r = (0, R.jsx)(L.TextSpan, {
                                    theme: "muted-small",
                                    children: `${i}`
                                })
                            }
                            return (0, R.jsxs)(R.Fragment, {
                                children: [(0, R.jsxs)(C.default, {
                                    children: [(0, R.jsx)(y.default, {
                                        fetchState: $
                                    }), (0, R.jsxs)("div", {
                                        className: (0, c.default)(F, l.uiPadding.all18),
                                        children: [t, a]
                                    }), (0, R.jsx)(P.default, {
                                        flatListController: se.current,
                                        onProductDetail: B,
                                        order: ae,
                                        sellerJid: N
                                    }), (0, R.jsx)("div", {
                                        className: (0, c.default)(F, l.uiPadding.all18),
                                        children: r
                                    }), G ? (0, R.jsx)("div", {
                                        className: (0, c.default)(l.uiPadding.vert0, l.uiPadding.horiz18),
                                        children: (0, R.jsx)(I.default, {
                                            chat: H,
                                            onChange: ue,
                                            onSubmit: ce,
                                            value: le,
                                            placeholder: s.fbt._("Add a cancelation note", null, {
                                                hk: "22DPGj"
                                            })
                                        })
                                    }) : null]
                                }), !(0, j.orderDetailsFromCartEnabled)() || G ? null : (0, u.createUserWid)(N).equals((0, b.getMaybeMeUser)()) ? (0, R.jsxs)(R.Fragment, {
                                    children: [(0, R.jsx)(C.default, {
                                        children: (0, R.jsx)(_.default, {
                                            a8nText: "order-create",
                                            color: "dark",
                                            onClick: function() {
                                                return U((0, o.default)(ae, "order"))
                                            },
                                            children: s.fbt._("Create order", null, {
                                                hk: "4Fn7Vw"
                                            })
                                        })
                                    }), (0, R.jsx)(C.default, {
                                        children: (0, R.jsx)(_.default, {
                                            a8nText: "order-decline",
                                            color: "dark",
                                            onClick: V,
                                            children: s.fbt._("Decline order", null, {
                                                hk: "3y5T6d"
                                            })
                                        })
                                    })]
                                }) : null]
                            })
                        }()
                    })]
                })
            };
            var r = a(n(63038)),
                i = n(15586),
                o = a(n(272)),
                l = n(71091),
                u = n(84460),
                s = n(48360),
                d = n(67294),
                c = a(n(56720)),
                f = n(10399),
                p = n(65901),
                h = a(n(86777)),
                m = function(e, t) {
                    if (!t && e && e.__esModule) return e;
                    if (null === e || "object" != typeof e && "function" != typeof e) return {
                        default: e
                    };
                    var n = N(t);
                    if (n && n.has(e)) return n.get(e);
                    var a = {},
                        r = Object.defineProperty && Object.getOwnPropertyDescriptor;
                    for (var i in e)
                        if ("default" !== i && Object.prototype.hasOwnProperty.call(e, i)) {
                            var o = r ? Object.getOwnPropertyDescriptor(e, i) : null;
                            o && (o.get || o.set) ? Object.defineProperty(a, i, o) : a[i] = e[i]
                        } a.default = e, n && n.set(e, a);
                    return a
                }(n(71150)),
                v = a(n(53187)),
                g = a(n(18345)),
                _ = a(n(61876)),
                x = n(19288),
                C = a(n(46821)),
                y = a(n(22426)),
                S = a(n(92546)),
                b = n(1577),
                j = n(2629),
                E = a(n(45159)),
                k = n(56003),
                w = n(82380),
                T = n(11467),
                I = a(n(64689)),
                P = a(n(7374)),
                M = n(3298),
                O = n(43966),
                L = n(22552),
                A = a(n(39394)),
                D = n(59175),
                R = n(85893);

            function N(e) {
                if ("function" != typeof WeakMap) return null;
                var t = new WeakMap,
                    n = new WeakMap;
                return (N = function(e) {
                    return e ? n : t
                })(e)
            }
            var F = {
                backgroundColor: "ihvf49ua"
            }
        },
        22459: (e, t, n) => {
            "use strict";
            var a = n(21314).default,
                r = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.useGetOrders = function() {
                var e = (0, u.useState)({
                        contactAndOrderInfoMap: {},
                        orderStatusInfoMap: {}
                    }),
                    t = (0, l.default)(e, 2),
                    n = t[0],
                    r = t[1],
                    f = (0, u.useState)(!0),
                    p = (0, l.default)(f, 2),
                    h = p[0],
                    m = p[1],
                    v = (0, u.useCallback)((function(e) {
                        r((function(t) {
                            var n = t.contactAndOrderInfoMap,
                                a = t.orderStatusInfoMap,
                                r = e.contactsAndOrdersInfo,
                                i = e.ordersStatusInfo;
                            return {
                                contactAndOrderInfoMap: (0, d.getMergedContactAndOrderInfoMap)(n, r),
                                orderStatusInfoMap: (0, d.getMergedOrderStatusInfoMap)(a, i)
                            }
                        }))
                    }), []);
                return (0, c.useListener)(s.ChatCollection, "add", function() {
                    var e = (0, o.default)(i.default.mark((function e(t) {
                        var n;
                        return i.default.wrap((function(e) {
                            for (;;) switch (e.prev = e.next) {
                                case 0:
                                    return e.next = 2, (0, d.getCachedOrdersInfoFromChat)(t);
                                case 2:
                                    n = e.sent, v(n);
                                case 4:
                                case "end":
                                    return e.stop()
                            }
                        }), e)
                    })));
                    return function() {
                        return e.apply(this, arguments)
                    }
                }()), (0, c.useListeners)(s.ChatCollection.toArray().map((function(e) {
                    return {
                        source: e.msgs,
                        eventOrEvents: "add",
                        callback: function(t) {
                            var n = (0, d.getOrdersInfoFromMsgs)([t], e.contact);
                            v(n)
                        }
                    }
                }))), (0, u.useEffect)((function() {
                    var e = [];
                    s.ChatCollection.toArray().forEach((function(t) {
                        var n = (t.msgs.msgLoadState.noEarlierMsgs ? d.getCachedOrdersInfoFromChat : d.getNotCachedOrdersInfoFromChat)(t);
                        n.then(v), e.push(n)
                    })), a.all(e).finally((function() {
                        return m(!1)
                    }))
                }), [v]), {
                    ordersInfoMap: n,
                    isLoading: h
                }
            };
            var i = r(n(87757)),
                o = r(n(48926)),
                l = r(n(63038)),
                u = n(67294),
                s = n(4481),
                d = n(23526),
                c = n(8413)
        },
        11519: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(71091),
                i = n(48360),
                o = n(67294),
                l = (a(n(56720)), function(e, t) {
                    if (!t && e && e.__esModule) return e;
                    if (null === e || "object" != typeof e && "function" != typeof e) return {
                        default: e
                    };
                    var n = b(t);
                    if (n && n.has(e)) return n.get(e);
                    var a = {},
                        r = Object.defineProperty && Object.getOwnPropertyDescriptor;
                    for (var i in e)
                        if ("default" !== i && Object.prototype.hasOwnProperty.call(e, i)) {
                            var o = r ? Object.getOwnPropertyDescriptor(e, i) : null;
                            o && (o.get || o.set) ? Object.defineProperty(a, i, o) : a[i] = e[i]
                        } a.default = e, n && n.set(e, a);
                    return a
                }(n(71150))),
                u = a(n(53187)),
                s = a(n(18345)),
                d = a(n(61876)),
                c = n(19288),
                f = a(n(46821)),
                p = n(27968),
                h = n(98008),
                m = a(n(58636)),
                v = a(n(73715)),
                g = a(n(76834)),
                _ = n(45311),
                x = a(n(7665)),
                C = n(22552),
                y = a(n(47066)),
                S = n(85893);

            function b(e) {
                if ("function" != typeof WeakMap) return null;
                var t = new WeakMap,
                    n = new WeakMap;
                return (b = function(e) {
                    return e ? n : t
                })(e)
            }

            function j(e) {
                var t = e.children;
                return (0, S.jsx)(C.TextSpan, {
                    color: "secondary",
                    children: t
                })
            }
            var E = {
                orderProductSummaryContainer: {
                    marginTop: "jdreu547",
                    marginEnd: "jnwc1y2a",
                    marginBottom: "n5a6z3tu",
                    marginStart: "svoq16ka"
                },
                fieldContainer: {
                    gap: "fbvzomvk"
                }
            };

            function k(e, t) {
                var n = e.chat,
                    a = e.orderInfo,
                    b = e.sellerWid,
                    k = a.referenceId,
                    w = a.discount,
                    T = a.tax,
                    I = a.shipping,
                    P = a.subtotal,
                    M = a.totalAmount,
                    O = (0, y.default)(b),
                    L = (0, o.useMemo)((function() {
                        return (0, _.findOrderStatus)(n, k)
                    }), [n, k]);
                if (null == O || null == P) return null;
                var A = O.productCollection.getProductModels().reduce((function(e, t) {
                        return e[t.id.toString()] = t, e
                    }), {}),
                    D = a.items.map((function(e) {
                        var t, n, r = null != e.amount ? 1e3 * e.amount : null;
                        return {
                            id: e.id,
                            name: e.name,
                            quantity: e.quantity,
                            price: r,
                            currency: a.currency,
                            mediaData: null === (t = A[e.id]) || void 0 === t || null === (n = t.getPreviewImage()) || void 0 === n ? void 0 : n.mediaData
                        }
                    }));
                return (0, S.jsxs)(u.default, {
                    onDrop: e.onBack,
                    ref: t,
                    children: [(0, S.jsx)(c.DrawerHeader, {
                        title: i.fbt._("Order details", null, {
                            hk: "2HeBLz"
                        }),
                        onBack: e.onBack,
                        type: c.DRAWER_HEADER_TYPE.SMALL
                    }), (0, S.jsxs)(s.default, {
                        children: [(0, S.jsx)(f.default, {
                            xstyle: [r.uiPadding.top20, r.uiPadding.horiz16, r.uiPadding.bottom15],
                            children: (0, S.jsxs)(m.default, {
                                children: [(0, S.jsx)(v.default, {
                                    orderId: a.referenceId,
                                    sellerWid: b,
                                    orderStatus: (0, S.jsx)(g.default, {
                                        orderStatus: L
                                    })
                                }), (0, S.jsx)(p.FlexColumn, {
                                    align: "stretch",
                                    xstyle: E.orderProductSummaryContainer,
                                    children: (0, S.jsx)(h.OrderDetailProductSummary, {
                                        productMediaData: D[0].mediaData,
                                        totalItemCount: a.quantity,
                                        productItems: D,
                                        onClick: function() {
                                            var t;
                                            null === (t = e.onProductSummaryClick) || void 0 === t || t.call(e, D)
                                        }
                                    })
                                }), (0, S.jsxs)(p.FlexColumn, {
                                    align: "stretch",
                                    xstyle: E.fieldContainer,
                                    children: [(0, S.jsxs)(p.FlexRow, {
                                        justify: "all",
                                        children: [(0, S.jsx)(j, {
                                            children: i.fbt._("Subtotal", null, {
                                                hk: "4ciFet"
                                            })
                                        }), (0, S.jsx)(j, {
                                            children: l.formatAmount(a.currency, P)
                                        })]
                                    }), null != w ? (0, S.jsxs)(p.FlexRow, {
                                        justify: "all",
                                        children: [(0, S.jsx)(j, {
                                            children: i.fbt._("Discount", null, {
                                                hk: "ITgTG"
                                            })
                                        }), (0, S.jsx)(j, {
                                            children: l.formatAmount(a.currency, -w)
                                        })]
                                    }) : null, null != I ? (0, S.jsxs)(p.FlexRow, {
                                        justify: "all",
                                        children: [(0, S.jsx)(j, {
                                            children: i.fbt._("Shipping", null, {
                                                hk: "269x6X"
                                            })
                                        }), (0, S.jsx)(j, {
                                            children: l.formatAmount(a.currency, I)
                                        })]
                                    }) : null, null != T ? (0, S.jsxs)(p.FlexRow, {
                                        justify: "all",
                                        children: [(0, S.jsx)(j, {
                                            children: i.fbt._("Tax", null, {
                                                hk: "1ZWlTS"
                                            })
                                        }), (0, S.jsx)(j, {
                                            children: l.formatAmount(a.currency, T)
                                        })]
                                    }) : null]
                                }), (0, S.jsxs)(p.FlexRow, {
                                    justify: "all",
                                    children: [(0, S.jsx)(C.TextSpan, {
                                        theme: "title",
                                        children: i.fbt._("Total", null, {
                                            hk: "7xRrT"
                                        })
                                    }), (0, S.jsx)(C.TextSpan, {
                                        theme: "title",
                                        children: l.formatAmount(a.currency, M)
                                    })]
                                })]
                            })
                        }), (0, S.jsx)(f.default, {
                            children: (0, S.jsx)(d.default, {
                                icon: (0, S.jsx)(x.default, {
                                    color: "teal",
                                    width: 20,
                                    name: "status-ciphertext"
                                }),
                                a8nText: "order-status-update",
                                color: "dark",
                                onClick: function() {
                                    var t;
                                    null === (t = e.onOrderStatusUpdateClick) || void 0 === t || t.call(e)
                                },
                                children: i.fbt._("Update order status", null, {
                                    hk: "BQwg8"
                                })
                            })
                        })]
                    })]
                })
            }
            var w = (0, o.forwardRef)(k);
            t.default = w
        },
        62537: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.productItems.map((function(e) {
                    return {
                        itemKey: e.id.toString(),
                        product: e
                    }
                }));
                return (0, l.jsx)(i.default, {
                    flatListControllers: [e.flatListController],
                    children: (0, l.jsx)(r.FlatList, {
                        a8nKey: "order-detail-product-list",
                        flatListController: e.flatListController,
                        direction: "vertical",
                        forceConsistentRenderCount: !1,
                        data: t,
                        renderItem: function(e) {
                            var t = e.product;
                            return (0, l.jsx)(o.default, {
                                product: t
                            })
                        },
                        defaultItemHeight: 60
                    })
                })
            };
            var r = n(73568),
                i = a(n(23803)),
                o = a(n(50700)),
                l = n(85893)
        },
        96663: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(48360),
                i = n(67294),
                o = (a(n(56720)), a(n(53187))),
                l = a(n(18345)),
                u = n(19288),
                s = a(n(46821)),
                d = a(n(92546)),
                c = a(n(62537)),
                f = a(n(39394)),
                p = n(85893),
                h = {
                    container: {
                        paddingTop: "emrlamx0",
                        paddingEnd: "folpon7g",
                        paddingBottom: "aiput80m",
                        paddingStart: "lyvj5e2u"
                    }
                };

            function m(e, t) {
                var n = e.productItems,
                    a = (0, f.default)((function() {
                        return new d.default
                    }));
                return (0, p.jsxs)(o.default, {
                    onDrop: e.onBack,
                    ref: t,
                    children: [(0, p.jsx)(u.DrawerHeader, {
                        title: r.fbt._("Items", null, {
                            hk: "3B8pMI"
                        }),
                        onBack: e.onBack,
                        type: u.DRAWER_HEADER_TYPE.SMALL
                    }), (0, p.jsx)(l.default, {
                        flatListControllers: [a.current],
                        children: (0, p.jsx)(s.default, {
                            xstyle: h.container,
                            theme: "refresh-padding-title",
                            children: (0, p.jsx)(c.default, {
                                flatListController: a.current,
                                productItems: n
                            })
                        })
                    })]
                })
            }
            var v = (0, i.forwardRef)(m);
            t.default = v
        },
        50700: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.product,
                    n = (0, m.jsx)(d.EmojiText, {
                        text: t.name,
                        ellipsify: !0,
                        titlify: !0
                    }),
                    a = t.mediaData ? (0, m.jsx)(f.ProductThumb, {
                        mediaData: t.mediaData,
                        theme: "squareThumb"
                    }) : (0, m.jsx)("div", {
                        className: (0, l.default)(g, r.uiMargin.end12),
                        children: (0, m.jsx)(p.default, {
                            className: (0, l.default)(_),
                            name: "list-msg-icon"
                        })
                    }),
                    v = null;
                if (t.quantity) {
                    var x = c.default.t(698, {
                        quantity: t.quantity.toString()
                    });
                    v = (0, m.jsx)(h.TextSpan, {
                        children: x
                    })
                }
                var C = null;
                C = (0, o.isNonZeroNumber)(t.price) ? s.formatAmount1000(t.currency, t.price) : i.fbt._("Ask for price", null, {
                    hk: "2Rtbeg"
                });
                var y = (0, m.jsx)(h.TextSpan, {
                    children: C
                });
                return (0, m.jsx)(u.default, {
                    image: a,
                    customImage: !0,
                    primary: n,
                    secondary: v,
                    detail: y,
                    theme: "media"
                })
            };
            var r = n(71091),
                i = n(48360),
                o = n(8587),
                l = a(n(56720)),
                u = a(n(88186)),
                s = function(e, t) {
                    if (!t && e && e.__esModule) return e;
                    if (null === e || "object" != typeof e && "function" != typeof e) return {
                        default: e
                    };
                    var n = v(t);
                    if (n && n.has(e)) return n.get(e);
                    var a = {},
                        r = Object.defineProperty && Object.getOwnPropertyDescriptor;
                    for (var i in e)
                        if ("default" !== i && Object.prototype.hasOwnProperty.call(e, i)) {
                            var o = r ? Object.getOwnPropertyDescriptor(e, i) : null;
                            o && (o.get || o.set) ? Object.defineProperty(a, i, o) : a[i] = e[i]
                        } a.default = e, n && n.set(e, a);
                    return a
                }(n(71150)),
                d = n(73008),
                c = a(n(45159)),
                f = n(47576),
                p = a(n(7665)),
                h = n(22552),
                m = n(85893);

            function v(e) {
                if ("function" != typeof WeakMap) return null;
                var t = new WeakMap,
                    n = new WeakMap;
                return (v = function(e) {
                    return e ? n : t
                })(e)
            }
            var g = {
                    display: "p357zi0d",
                    alignItems: "gndfcl4n",
                    width: "dyxdk6fi",
                    height: "m3o1wsh7",
                    borderTopStartRadius: "bbr44loe",
                    borderTopEndRadius: "ooj5yc5b",
                    borderBottomEndRadius: "m8i16etx",
                    borderBottomStartRadius: "cw0ivh8j",
                    backgroundColor: "lzol1dln",
                    position: "g0rxnol2"
                },
                _ = {
                    marginTop: "m3ct2rho",
                    marginEnd: "k1jo73ug",
                    marginBottom: "ec1z5skj",
                    marginStart: "isfiuinm",
                    color: "s4recxw2"
                }
        },
        15213: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.label,
                    n = e.isCanceled,
                    a = e.checked,
                    c = e.onClick;
                return (0, s.jsx)(u.default, {
                    onClick: c,
                    children: (0, s.jsxs)(l.FlexRow, {
                        children: [(0, s.jsx)(l.FlexColumn, {
                            xstyle: r.uiPadding.horiz24,
                            children: (0, s.jsx)(o.default, {
                                checked: a,
                                radio: !0,
                                hover: !1,
                                systemUncheckedColor: !0,
                                onChange: function() {
                                    c()
                                }
                            })
                        }), (0, s.jsx)("div", {
                            className: n ? (0, i.default)(d) : null,
                            children: t
                        })]
                    })
                })
            };
            var r = n(71091),
                i = a(n(56720)),
                o = a(n(22630)),
                l = n(27968),
                u = a(n(76080)),
                s = n(85893),
                d = {
                    color: "mvxzr2tb"
                }
        },
        7374: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.order,
                    n = e.onProductDetail,
                    a = e.sellerJid,
                    p = function(e) {
                        var n = t.orderItemCollection.toArray();
                        return (0, u.logOrderListImpression)({
                            catalogContext: e,
                            orderId: t.id,
                            productCount: n.length,
                            catalogOwnerJid: a
                        }), n.map((function(e) {
                            return {
                                itemKey: e.id.toString(),
                                product: e
                            }
                        }))
                    };
                return (0, f.jsx)(i.DrawerContext.Consumer, {
                    children: function(t) {
                        var i = (0, c.getProductCatalogContext)(t);
                        return (0, f.jsx)(l.default, {
                            flatListControllers: [e.flatListController],
                            children: (0, f.jsx)(o.FlatList, {
                                a8nKey: "order-product-list",
                                flatListController: e.flatListController,
                                direction: "vertical",
                                forceConsistentRenderCount: !1,
                                data: p(i),
                                renderItem: function(t) {
                                    return (0, f.jsx)(d.default, {
                                        product: t.product,
                                        onClick: function() {
                                            var r = {
                                                productId: t.product.id,
                                                businessOwnerJid: a
                                            };
                                            (0, s.qplStartProductView)("Order"), (0, u.logOrderListItemClick)({
                                                catalogContext: i,
                                                orderId: e.order.id,
                                                catalogOwnerJid: a
                                            }), n(r)
                                        }
                                    })
                                },
                                defaultItemHeight: r.PRODUCT_LIST_ITEM_HEIGHT
                            })
                        })
                    }
                })
            };
            var r = n(66419),
                i = n(96706),
                o = n(73568),
                l = a(n(23803)),
                u = n(98808),
                s = n(56003),
                d = a(n(74926)),
                c = n(52867),
                f = n(85893)
        },
        74926: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.product,
                    n = e.onClick,
                    a = (0, h.jsx)(d.EmojiText, {
                        text: t.name,
                        ellipsify: !0,
                        titlify: !0
                    }),
                    m = (0, h.jsx)(f.ProductThumb, {
                        mediaData: t.mediaData,
                        theme: "list"
                    }),
                    v = c.default.t(698, {
                        quantity: t.quantity.toString()
                    }),
                    g = null;
                t.quantity && (g = (0, h.jsx)(p.TextSpan, {
                    className: (0, l.default)(r.uiMargin.vert0, r.uiMargin.start0, r.uiMargin.end6),
                    children: v
                }));
                var _ = null;
                _ = (0, o.isNonZeroNumber)(t.price) ? s.formatAmount1000(t.currency, t.price) : i.fbt._("Ask for price", null, {
                    hk: "2Rtbeg"
                });
                var x = (0, h.jsx)(p.TextSpan, {
                        className: (0, l.default)(r.uiMargin.vert0, r.uiMargin.start0, r.uiMargin.end6),
                        children: _
                    }),
                    C = null;
                null != g && (C = (0, h.jsx)("span", {
                    className: (0, l.default)(r.uiMargin.vert0, r.uiMargin.start0, r.uiMargin.end6),
                    children: "•"
                }));
                var y = (0, h.jsxs)("div", {
                    children: [x, C, g]
                });
                return (0, h.jsx)(u.default, {
                    image: m,
                    customImage: !0,
                    primary: a,
                    secondary: y,
                    theme: "order-product",
                    onClick: n
                }, t.id.toString())
            };
            var r = n(71091),
                i = n(48360),
                o = n(8587),
                l = a(n(56720)),
                u = a(n(88186)),
                s = function(e, t) {
                    if (!t && e && e.__esModule) return e;
                    if (null === e || "object" != typeof e && "function" != typeof e) return {
                        default: e
                    };
                    var n = m(t);
                    if (n && n.has(e)) return n.get(e);
                    var a = {},
                        r = Object.defineProperty && Object.getOwnPropertyDescriptor;
                    for (var i in e)
                        if ("default" !== i && Object.prototype.hasOwnProperty.call(e, i)) {
                            var o = r ? Object.getOwnPropertyDescriptor(e, i) : null;
                            o && (o.get || o.set) ? Object.defineProperty(a, i, o) : a[i] = e[i]
                        } a.default = e, n && n.set(e, a);
                    return a
                }(n(71150)),
                d = n(73008),
                c = a(n(45159)),
                f = n(47576),
                p = n(22552),
                h = n(85893);

            function m(e) {
                if ("function" != typeof WeakMap) return null;
                var t = new WeakMap,
                    n = new WeakMap;
                return (m = function(e) {
                    return e ? n : t
                })(e)
            }
        },
        60581: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(63038)),
                i = n(71091),
                o = n(48360),
                l = n(67294),
                u = (a(n(56720)), n(65901)),
                s = a(n(53187)),
                d = a(n(18345)),
                c = n(19288),
                f = a(n(46821)),
                p = n(27968),
                h = n(89846),
                m = a(n(15213)),
                v = a(n(64689)),
                g = n(45311),
                _ = n(18489),
                x = n(97629),
                C = n(85893),
                y = [g.OrderStatus.Processing, g.OrderStatus.PartiallyShipped, g.OrderStatus.Shipped, g.OrderStatus.Complete, g.OrderStatus.Canceled],
                S = {
                    checkboxContainer: {
                        gap: "n8lfltvd"
                    }
                };

            function b(e, t) {
                var n = (0, l.useState)(""),
                    a = (0, r.default)(n, 2),
                    b = a[0],
                    j = a[1],
                    E = (0, l.useState)((function() {
                        return (0, g.findOrderStatus)(e.chat, e.orderInfo.referenceId)
                    })),
                    k = (0, r.default)(E, 2),
                    w = k[0],
                    T = k[1],
                    I = e.chat,
                    P = e.sellerJid,
                    M = e.orderInfo,
                    O = o.fbt._("Add a note", null, {
                        hk: "1bEnPm"
                    });
                return (0, C.jsxs)(s.default, {
                    onDrop: e.onBack,
                    ref: t,
                    children: [(0, C.jsx)(c.DrawerHeader, {
                        title: o.fbt._("Update order status", null, {
                            hk: "Zrpil"
                        }),
                        onBack: e.onBack,
                        type: c.DRAWER_HEADER_TYPE.SMALL
                    }), (0, C.jsxs)(d.default, {
                        children: [(0, C.jsx)(f.default, {
                            xstyle: [i.uiPadding.vert20, i.uiPadding.horiz16],
                            theme: "refresh-padding-title",
                            children: (0, C.jsx)(p.FlexColumn, {
                                xstyle: S.checkboxContainer,
                                children: y.map((function(e) {
                                    return (0, C.jsx)(m.default, {
                                        label: _.OrderStatusLabels[e],
                                        isCanceled: e === g.OrderStatus.Canceled,
                                        checked: w === e,
                                        onClick: function() {
                                            T(e)
                                        }
                                    }, e)
                                }))
                            })
                        }), (0, C.jsx)(f.default, {
                            xstyle: [i.uiPadding.top8, i.uiPadding.horiz16],
                            theme: "refresh-padding-title",
                            children: (0, C.jsx)(v.default, {
                                chat: e.chat,
                                placeholder: O,
                                value: b,
                                onChange: j,
                                onSubmit: function() {
                                    u.Cmd.closeDrawerRight(), (0, x.sendOrderStatusMessageAsMerchant)({
                                        chat: I,
                                        sellerJid: P,
                                        orderInfo: M,
                                        orderNote: b,
                                        orderStatus: w,
                                        offset: h.DEFAULT_OFFSET
                                    }), u.Cmd.openChatFromUnread(I)
                                },
                                buttonTitle: O,
                                a8nTextButton: "order-status-update-button"
                            })
                        })]
                    })]
                })
            }
            var j = (0, l.forwardRef)(b);
            t.default = j
        },
        49110: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.CatalogSettingsDrawer = function(e) {
                var t = e.onBack,
                    n = (0, l.useState)(!0),
                    a = (0, r.default)(n, 2),
                    u = a[0],
                    c = a[1],
                    v = (0, l.useState)(!1),
                    g = (0, r.default)(v, 2),
                    _ = g[0],
                    C = g[1],
                    y = (0, w.default)();
                (0, l.useEffect)((function() {
                    (0, S.default)(s.BusinessProfileCollection.fetchBizProfile((0, x.getMeUser)()), y).then((function(e) {
                        var t = e.profileOptions;
                        c(!1), C(null != t && t.cartEnabled)
                    })).catch((0, i.catchAbort)((function() {}))).catch((function() {
                        __LOG__(4, !0, new Error)`Error fetching the business profile.`, f.Cmd.openToast((0, T.jsx)(k.Toast, {
                            msg: o.fbt._("Failed to load catalog settings.", null, {
                                hk: "2UxoQh"
                            }),
                            duration: 6e3,
                            id: (0, k.genId)()
                        })), t()
                    }))
                }), []);
                var b = function(e) {
                    C(e)
                };
                return (0, T.jsxs)(p.default, {
                    theme: "catalog",
                    onDrop: e.onBack,
                    children: [(0, T.jsx)(m.DrawerHeader, {
                        title: o.fbt._("Settings", null, {
                            hk: "2RmHUB"
                        }),
                        type: m.DRAWER_HEADER_TYPE.LARGE,
                        onBack: e.onBack
                    }), (0, T.jsx)(h.default, {
                        children: u ? (0, T.jsx)("div", {
                            className: d.default.loadingSpinner,
                            children: (0, T.jsx)(j.Spinner, {})
                        }) : (0, T.jsx)(I, {
                            cartEnabled: _,
                            setCartEnabled: b
                        })
                    })]
                })
            };
            var r = a(n(63038)),
                i = n(396),
                o = n(48360),
                l = n(67294),
                u = n(88684),
                s = n(26141),
                d = a(n(36825)),
                c = a(n(81288)),
                f = n(65901),
                p = a(n(53187)),
                h = a(n(18345)),
                m = n(19288),
                v = a(n(46821)),
                g = n(49012),
                _ = n(29281),
                x = n(1577),
                C = a(n(45159)),
                y = a(n(62848)),
                S = a(n(27003)),
                b = a(n(85492)),
                j = n(85651),
                E = n(22552),
                k = n(92428),
                w = a(n(1379)),
                T = n(85893);

            function I(e) {
                var t = e.cartEnabled,
                    n = e.setCartEnabled,
                    a = function(e) {
                        n(e), (0, u.updateCartEnabled)(e).catch((function() {
                            __LOG__(4, !0, new Error, !0)`Failed to update cartEnabled value`, SEND_LOGS("updateCartEnabled: cartEnabled toggle error"), f.Cmd.openToast((0, T.jsx)(k.Toast, {
                                msg: o.fbt._("Failed to update the setting.", null, {
                                    hk: "RZBg9"
                                }),
                                duration: 6e3,
                                id: (0, k.genId)()
                            })), n(t)
                        }))
                    },
                    r = (0, _.getCatalogCartOnOffFaqUrl)(),
                    i = (0, T.jsx)(c.default, {
                        href: r,
                        onClick: function(e) {
                            e.preventDefault(), (0, g.openExternalLink)(r)
                        },
                        children: C.default.t(554)
                    }),
                    l = (0, T.jsx)(y.default, {
                        id: 269,
                        params: {
                            learn_more_link: i
                        }
                    });
                return (0, T.jsxs)(T.Fragment, {
                    children: [(0, T.jsxs)(v.default, {
                        title: o.fbt._("Add to cart", null, {
                            hk: "1mbCt1"
                        }),
                        theme: "title-larger",
                        animation: !1,
                        children: [(0, T.jsx)(b.default, {
                            isChosen: t,
                            onChoose: function() {
                                a(!0)
                            },
                            choiceText: o.fbt._("On", null, {
                                hk: "2m7e5W"
                            })
                        }), (0, T.jsx)(b.default, {
                            isChosen: !t,
                            onChoose: function() {
                                a(!1)
                            },
                            choiceText: o.fbt._("Off", null, {
                                hk: "1l0P5X"
                            })
                        })]
                    }), (0, T.jsx)(E.TextDiv, {
                        theme: "plain",
                        className: d.default.descriptionText,
                        children: l
                    })]
                })
            }
        },
        47066: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = (0, l.useState)((function() {
                        return u.CatalogCollection.get(e)
                    })),
                    n = (0, o.default)(t, 2),
                    a = n[0],
                    d = n[1],
                    c = (0, s.default)();
                return (0, l.useEffect)((function() {
                    var t = u.CatalogCollection.get(e);
                    t !== a && (null != t ? d(t) : (0, i.default)(r.default.mark((function t() {
                        var n;
                        return r.default.wrap((function(t) {
                            for (;;) switch (t.prev = t.next) {
                                case 0:
                                    return t.next = 2, u.CatalogCollection.find(e);
                                case 2:
                                    n = t.sent, c() && d(n);
                                case 4:
                                case "end":
                                    return t.stop()
                            }
                        }), t)
                    })))())
                }), [e, a, c]), a
            };
            var r = a(n(87757)),
                i = a(n(48926)),
                o = a(n(63038)),
                l = n(67294),
                u = n(72743),
                s = a(n(32412))
        },
        15199: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.selections,
                    n = e.active,
                    a = e.onSelectionChanged,
                    s = e.catalog,
                    d = function(e) {
                        ! function(e, r, i) {
                            t.setVal(e, r, i), n.setVal(e, i), a()
                        }(e, !t.isSelected(e), !1)
                    };
                return (0, u.jsx)(o.default, {
                    flatListControllers: [e.flatListController],
                    children: (0, u.jsx)(i.FlatList, {
                        flatListController: e.flatListController,
                        direction: "vertical",
                        forceConsistentRenderCount: !1,
                        data: s.productCollection.getProductModels(!0).map((function(e) {
                            return {
                                itemKey: e.id.toString(),
                                product: e
                            }
                        })),
                        renderItem: function(e) {
                            var a = e.product;
                            return (0, u.jsx)(l.default, {
                                product: a,
                                selections: t,
                                onClick: function() {
                                    return d(a)
                                },
                                active: n
                            }, a.id.toString())
                        },
                        defaultItemHeight: r.PRODUCT_LIST_ITEM_HEIGHT
                    })
                })
            };
            var r = n(66419),
                i = n(73568),
                o = a(n(23803)),
                l = a(n(90202)),
                u = n(85893)
        },
        7779: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, n = e.catalog,
                    a = e.collection,
                    B = e.onBack,
                    U = (0, D.default)((function() {
                        return new P.default([], (function(e) {
                            return e.id.toString()
                        }))
                    })),
                    G = (0, D.default)((function() {
                        return new s.default([], (function(e) {
                            return e.id.toString()
                        }))
                    })),
                    H = (0, D.default)((function() {
                        return new S.default
                    })),
                    W = (0, A.default)(),
                    V = (0, N.default)(),
                    z = (0, f.useState)(null),
                    q = (0, l.default)(z, 2),
                    K = (q[0], q[1]),
                    Y = (0, f.useState)(null),
                    Q = (0, l.default)(Y, 2),
                    X = Q[0],
                    Z = Q[1],
                    J = (0, f.useState)(null == a ? void 0 : a.name),
                    $ = (0, l.default)(J, 2),
                    ee = $[0],
                    te = $[1],
                    ne = (0, f.useState)(null == a ? void 0 : a.name),
                    ae = (0, l.default)(ne, 2),
                    re = ae[0],
                    ie = ae[1],
                    oe = (0, f.useState)(null),
                    le = (0, l.default)(oe, 2),
                    ue = le[0],
                    se = le[1],
                    de = (0, f.useState)(!1),
                    ce = (0, l.default)(de, 2),
                    fe = ce[0],
                    pe = ce[1],
                    he = (0, f.useState)(!0),
                    me = (0, l.default)(he, 2),
                    ve = me[0],
                    ge = me[1];
                (0, f.useEffect)((function() {
                    var e, t;
                    e = new m.CollectionsContentDataSource(n, h.PRODUCT_LIST_ITEM_HEIGHT, null == a ? void 0 : a.id), t = new m.CatalogListItemScrollHelper(e), K(e), Z(t), e.loadInitialItems().then((function() {
                        if (V.aborted) throw new u.AbortError;
                        ge(!1), W()
                    })).catch((0, u.catchAbort)((function() {})))
                }), []);
                var _e = function(e) {
                        te(e), se(ue && e ? null : ue)
                    },
                    xe = (0, R.default)((function(e) {
                        var t = e.currentTarget;
                        (null == X ? void 0 : X.willLoadMore(t)) && ge(!0), null == X || X.onScroll(e, t).then((function(e) {
                            ge(!1), e && ge(!1)
                        })).catch((function(e) {
                            throw ge(!1), e
                        }))
                    }), 100),
                    Ce = function() {
                        var e = n.productCollection.getProductModels(!0),
                            t = [],
                            a = [];
                        return e.forEach((function(e) {
                            var n = G.current.isSelected(e);
                            e.checkmark !== n && (n ? a.push(e) : t.push(e))
                        })), {
                            added: a,
                            removed: t
                        }
                    },
                    ye = function() {
                        var e = (0, o.default)(i.default.mark((function e(t) {
                            var r, o, l, u, s, d;
                            return i.default.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        if (r = (0, k.getProductCatalogContext)(t), ee && "" !== ee.trim()) {
                                            e.next = 5;
                                            break
                                        }
                                        se(c.fbt._("Name required", null, {
                                            hk: "1pvj2p"
                                        })), e.next = 22;
                                        break;
                                    case 5:
                                        return w.QPL.markerStart(T.QuickLogMarkerId.WHATSAPP_COLLECTION_EDIT), pe(!0), o = Ce(), l = o.added, u = o.removed, s = ee !== re, w.QPL.markerAnnotate(T.QuickLogMarkerId.WHATSAPP_COLLECTION_EDIT, {
                                            bool: {
                                                IsNew: !a
                                            },
                                            int: {
                                                ProductsAdded: l.length
                                            }
                                        }), a && w.QPL.markerAnnotate(T.QuickLogMarkerId.WHATSAPP_COLLECTION_EDIT, {
                                            bool: {
                                                Renamed: s
                                            },
                                            int: {
                                                ProductsDeleted: u.length
                                            }
                                        }), e.prev = 11, e.next = 14, (0, p.handleCollectionSave)(n, a, ee || "", l, u, r);
                                    case 14:
                                        e.sent ? (B(), (d = null == a ? void 0 : a.id) && s && ((0, E.logCollectionRenamed)({
                                            catalogContext: r,
                                            collectionId: d
                                        }), ie(ee)), a && (0, E.logCollectionItemsAssignment)({
                                            collectionId: a.id,
                                            addedCount: l.length,
                                            removedCount: u.length,
                                            catalogContext: r
                                        }), w.QPL.markerEnd(T.QuickLogMarkerId.WHATSAPP_COLLECTION_EDIT, w.QuickLogActionType.SUCCESS)) : (pe(!1), w.QPL.markerDrop(T.QuickLogMarkerId.WHATSAPP_COLLECTION_EDIT)), e.next = 22;
                                        break;
                                    case 18:
                                        e.prev = 18, e.t0 = e.catch(11), pe(!1), w.QPL.markerEnd(T.QuickLogMarkerId.WHATSAPP_COLLECTION_EDIT, w.QuickLogActionType.FAIL);
                                    case 22:
                                    case "end":
                                        return e.stop()
                                }
                            }), e, null, [
                                [11, 18]
                            ])
                        })));
                        return function() {
                            return e.apply(this, arguments)
                        }
                    }(),
                    Se = function(e) {
                        var t, r, i, o = (r = n.productCollection.getProductModels(!0), i = 0, r.forEach((function(e) {
                            G.current.isInList(e) ? e.checkmark !== G.current.isSelected(e) && i++ : G.current.setVal(e, e.checkmark)
                        })), i);
                        if (o > 0 || a && ee !== a.name) {
                            var l = j.default.t(262, {
                                updated: o,
                                _plural: o
                            });
                            t = (0, F.jsxs)("div", {
                                className: y.default.footer,
                                children: [l, (0, F.jsx)("div", {
                                    className: y.default.saveButton,
                                    children: (0, F.jsx)(I.Round, {
                                        large: !0,
                                        onClick: function() {
                                            ye(e)
                                        },
                                        children: (0, F.jsx)(O.default, {
                                            name: "checkmark-medium"
                                        })
                                    })
                                })]
                            })
                        }
                        return t
                    },
                    be = (0, d.default)(y.default.container, (0, r.default)({}, y.default.isSending, fe)),
                    je = (null === (t = e.collection) || void 0 === t ? void 0 : t.name) || c.fbt._("New collection", null, {
                        hk: "4dusPd"
                    });
                return (0, F.jsxs)(g.default, {
                    theme: "products",
                    onDrop: e.onBack,
                    children: [(0, F.jsx)(C.DrawerHeader, {
                        title: je,
                        type: C.DRAWER_HEADER_TYPE.LARGE,
                        onBack: e.onBack,
                        menu: (0, F.jsx)(F.Fragment, {})
                    }), (0, F.jsx)(_.default, {
                        className: be,
                        flatListControllers: [H.current],
                        onScroll: xe,
                        children: (Ee = fe ? (0, F.jsx)("div", {
                            className: y.default.spinner,
                            children: (0, F.jsx)(M.Spinner, {
                                size: 50,
                                stroke: 3
                            })
                        }) : null, (0, F.jsx)(x.DrawerContext.Consumer, {
                            children: function(e) {
                                var t = (0, k.getProductCatalogContext)(e);
                                return (0, F.jsxs)(F.Fragment, {
                                    children: [Ee, (0, F.jsxs)("div", {
                                        className: y.default.nameContainer,
                                        children: [(0, F.jsx)("span", {
                                            className: y.default.nameIcon,
                                            children: (0, F.jsx)(O.default, {
                                                name: "collections_folder"
                                            })
                                        }), (0, F.jsx)("span", {
                                            className: y.default.nameEdit,
                                            children: (0, F.jsx)(L.TextInput, {
                                                editable: !0,
                                                focusOnMount: !0,
                                                showRemaining: !0,
                                                value: ee,
                                                onChange: _e,
                                                inputPlaceholder: c.fbt._("New collection", null, {
                                                    hk: "2NAI33"
                                                }),
                                                theme: "text-input",
                                                error: ue,
                                                maxLength: 30
                                            })
                                        })]
                                    }), (0, F.jsx)("div", {
                                        className: y.default.operation,
                                        children: a ? c.fbt._("Update Items", null, {
                                            hk: "2dT3Pu"
                                        }) : c.fbt._("Add Items", null, {
                                            hk: "3NRr27"
                                        })
                                    }), (0, F.jsxs)("div", {
                                        className: y.default.listContainer,
                                        children: [(0, F.jsx)(v.default, {
                                            catalog: n,
                                            flatListController: H.current,
                                            active: U.current,
                                            selections: G.current,
                                            onSelectionChanged: function() {
                                                return W()
                                            }
                                        }), ve && (0, F.jsx)("div", {
                                            className: y.default.loadingSpinner,
                                            children: (0, F.jsx)(b.default, {})
                                        })]
                                    }), Se(t)]
                                })
                            }
                        }))
                    })]
                });
                var Ee
            };
            var r = a(n(59713)),
                i = a(n(87757)),
                o = a(n(48926)),
                l = a(n(63038)),
                u = n(396),
                s = a(n(64709)),
                d = a(n(94184)),
                c = n(48360),
                f = n(67294),
                p = n(56734),
                h = n(66419),
                m = n(70886),
                v = a(n(15199)),
                g = a(n(53187)),
                _ = a(n(18345)),
                x = n(96706),
                C = n(19288),
                y = a(n(45231)),
                S = a(n(92546)),
                b = a(n(5029)),
                j = a(n(45159)),
                E = n(32065),
                k = n(52867),
                w = n(3298),
                T = n(4099),
                I = n(80385),
                P = a(n(39916)),
                M = n(85651),
                O = a(n(7665)),
                L = n(68544),
                A = a(n(57811)),
                D = a(n(39394)),
                R = a(n(15663)),
                N = a(n(1379)),
                F = n(85893)
        },
        5839: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.ComplianceInfoFields = oe, t.EditProductDrawerImpl = t.EditProductDrawer = void 0;
            var r = a(n(63038)),
                i = a(n(59713)),
                o = a(n(87757)),
                l = a(n(81109)),
                u = a(n(48926)),
                s = a(n(34575)),
                d = a(n(93913)),
                c = a(n(2205)),
                f = a(n(99842)),
                p = n(15586),
                h = a(n(272)),
                m = a(n(94184)),
                v = n(48360),
                g = n(67294),
                _ = (a(n(56720)), n(56734)),
                x = a(n(51599)),
                C = n(72743),
                y = n(91404),
                S = n(65901),
                b = n(98381),
                j = n(65971),
                E = n(49726),
                k = n(60543),
                w = n(11919),
                T = function(e, t) {
                    if (!t && e && e.__esModule) return e;
                    if (null === e || "object" != typeof e && "function" != typeof e) return {
                        default: e
                    };
                    var n = ae(t);
                    if (n && n.has(e)) return n.get(e);
                    var a = {},
                        r = Object.defineProperty && Object.getOwnPropertyDescriptor;
                    for (var i in e)
                        if ("default" !== i && Object.prototype.hasOwnProperty.call(e, i)) {
                            var o = r ? Object.getOwnPropertyDescriptor(e, i) : null;
                            o && (o.get || o.set) ? Object.defineProperty(a, i, o) : a[i] = e[i]
                        } a.default = e, n && n.set(e, a);
                    return a
                }(n(71150)),
                I = a(n(19868)),
                P = a(n(53187)),
                M = a(n(18345)),
                O = n(96706),
                L = n(19288),
                A = a(n(30806)),
                D = n(27968),
                R = n(1577),
                N = n(2629),
                F = a(n(93531)),
                B = a(n(45159)),
                U = n(63641),
                G = n(56264),
                H = n(3544),
                W = n(8842),
                V = n(52867),
                z = a(n(62340)),
                q = n(3298),
                K = n(4099),
                Y = n(85651),
                Q = a(n(61897)),
                X = n(22552),
                Z = n(68544),
                J = n(92428),
                $ = a(n(17746)),
                ee = n(29034),
                te = n(59175),
                ne = n(85893);

            function ae(e) {
                if ("function" != typeof WeakMap) return null;
                var t = new WeakMap,
                    n = new WeakMap;
                return (ae = function(e) {
                    return e ? n : t
                })(e)
            }
            var re = {
                    complianceInfoHelpCenterBanner: {
                        paddingTop: "nlnf8xo7",
                        paddingEnd: "f9ovudaz",
                        paddingBottom: "jzp2c175",
                        paddingStart: "gx1rr48f"
                    }
                },
                ie = function(e) {
                    (0, c.default)(a, e);
                    var t, n = (0, f.default)(a);

                    function a(e) {
                        var t;
                        (0, s.default)(this, a), (t = n.call(this, e))._imagePanelRef = (0, g.createRef)(), t._handleNameChange = function(e) {
                            t.setState({
                                name: e,
                                nameError: "" === e.trim() ? v.fbt._("Add a title", null, {
                                    hk: "3QauyV"
                                }) : "",
                                isModified: !0
                            })
                        }, t._handlePriceChange = function(e) {
                            var n = T.valueFromString(t.state.currency, e),
                                a = "";
                            "" === e || T.validatePriceString(t.state.currency, e, H.MIN_PRICE, H.MAX_PRICE) || (a = v.fbt._("Enter a valid price", null, {
                                hk: "3JgcXg"
                            })), t.setState({
                                priceAmount1000: "" === e ? null : n,
                                priceStr: `${e}`,
                                priceError: a,
                                isModified: !0
                            })
                        }, t.handleDescriptionChange = function(e) {
                            t.setState({
                                description: e,
                                isModified: !0
                            })
                        }, t._handleUrlChange = function(e) {
                            var n = "";
                            "" === e || ee.URL.isValid(e) || (n = v.fbt._("URL is incorrect", null, {
                                hk: "xiOtm"
                            })), t.setState({
                                url: e,
                                urlError: n,
                                isModified: !0
                            })
                        }, t._handleUrlBlur = function() {
                            var e = t.state.url;
                            "" === e || ee.URL.isHttps(e) || ee.URL.isHttp(e) || t.setState({
                                url: `https://${e}`
                            })
                        }, t._handleRetailerIdChange = function(e) {
                            t.setState({
                                retailerId: e,
                                retailerIdError: "",
                                isModified: !0
                            })
                        }, t._showComplianceInfoImporterAddress = function() {
                            var e, n = null === (e = t.state.complianceInfo) || void 0 === e ? void 0 : e.countryCodeOrigin;
                            return !!n && ![b.COMPLIANCE_INFO_CODES.INDIA, k.SyntheticCountryCode.NotApplicable].includes(n)
                        }, t._handleComplianceInfoChange = function() {
                            var e = (0, u.default)(o.default.mark((function e(n, a) {
                                var r, i, u;
                                return o.default.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            if (u = (0, l.default)((0, l.default)({}, t.state.complianceInfo), {}, {
                                                    importerAddress: (0, l.default)({}, null === (r = t.state.complianceInfo) || void 0 === r ? void 0 : r.importerAddress)
                                                }), "countryCodeOrigin" !== n) {
                                                e.next = 12;
                                                break
                                            }
                                            if (a !== String(k.SyntheticCountryCode.NotApplicable)) {
                                                e.next = 6;
                                                break
                                            }
                                            e.t0 = v.fbt._("Not Applicable", null, {
                                                hk: "2k1klN"
                                            }).toString(), e.next = 9;
                                            break;
                                        case 6:
                                            return e.next = 8, (0, k.getCountryName)(a);
                                        case 8:
                                            e.t0 = e.sent;
                                        case 9:
                                            i = e.t0, u.countryNameOrigin = i, u.countryCodeOriginError = "";
                                        case 12:
                                            "importerName" === n && (u.importerNameError = (0, E.existsField)(a, (0, R.getMeUser)()) || !t.shouldComplianceBeHardEnforced() ? "" : v.fbt._("Add an importer name", null, {
                                                hk: "3UwP1T"
                                            })), u[n] = a || void 0, t.setState({
                                                complianceInfo: u,
                                                isModified: !0
                                            });
                                        case 15:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function() {
                                return e.apply(this, arguments)
                            }
                        }(), t._getImporterAddressFieldValueOnChange = function(e, n, a) {
                            var r = (t.state.complianceInfo || {}).importerAddress;
                            return n === e ? a : r[e]
                        }, t._handleComplianceInfoImporterAddressChange = function() {
                            var e = (0, u.default)(o.default.mark((function e(n, a) {
                                var r, i, u, s, d, c, f, p, h;
                                return o.default.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            if (i = t._getImporterAddressFieldValueOnChange("street1", n, a), u = t._getImporterAddressFieldValueOnChange("street2", n, a), s = t._getImporterAddressFieldValueOnChange("postalCode", n, a), d = t._getImporterAddressFieldValueOnChange("city", n, a), c = t._getImporterAddressFieldValueOnChange("region", n, a), f = t._getImporterAddressFieldValueOnChange("countryCode", n, a), p = [i, u, s, d, c, f].some((function(e) {
                                                    return e
                                                })) || t.shouldComplianceBeHardEnforced(), h = (0, l.default)((0, l.default)({}, t.state.complianceInfo), {}, {
                                                    importerAddress: (0, l.default)({}, null === (r = t.state.complianceInfo) || void 0 === r ? void 0 : r.importerAddress)
                                                }), "countryCode" !== n) {
                                                e.next = 15;
                                                break
                                            }
                                            return e.next = 11, (0, k.getCountryName)(a);
                                        case 11:
                                            if (e.t0 = e.sent, e.t0) {
                                                e.next = 14;
                                                break
                                            }
                                            e.t0 = void 0;
                                        case 14:
                                            h.importerAddress.countryName = e.t0;
                                        case 15:
                                            h.importerAddress[n] = a || void 0, h.importerAddress.street1Error = p && !(0, E.existsFieldIgnoreHardEnforcement)(i) ? v.fbt._("Add an importer address line 1", null, {
                                                hk: "3HSMmN"
                                            }) : "", h.importerAddress.cityError = p && !(0, E.existsFieldIgnoreHardEnforcement)(d) ? v.fbt._("Add an importer city", null, {
                                                hk: "1nq7dA"
                                            }) : "", h.importerAddress.countryCodeError = p && !(0, E.existsFieldIgnoreHardEnforcement)(f) ? v.fbt._("Add an importer country", null, {
                                                hk: "3VmDTh"
                                            }) : "", t.setState({
                                                complianceInfo: h,
                                                isModified: !0
                                            });
                                        case 20:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function() {
                                return e.apply(this, arguments)
                            }
                        }(), t._handleHiddenChange = function() {
                            t.setState({
                                isHidden: !t.state.isHidden
                            })
                        }, t._getProductChanges = function() {
                            var e = t.props,
                                n = e.catalog,
                                a = e.product,
                                r = t.state,
                                i = r.name,
                                o = r.priceAmount1000,
                                l = r.currency,
                                u = r.description,
                                s = r.url,
                                d = r.retailerId,
                                c = r.complianceInfo,
                                f = r.isHidden;
                            return new H.Product({
                                id: a.id,
                                priceAmount1000: o,
                                currency: l,
                                description: u || "",
                                imageCdnUrl: a.imageCdnUrl,
                                additionalImageCdnUrl: a.additionalImageCdnUrl,
                                name: i,
                                retailerId: d,
                                url: s,
                                isHidden: f,
                                complianceInfo: (0, N.canSeeECommerceComplianceIndiaSoftEnforcement)(n.id.user) ? {
                                    countryCodeOrigin: null == c ? void 0 : c.countryCodeOrigin,
                                    importerName: null == c ? void 0 : c.importerName,
                                    importerAddress: {
                                        street1: null == c ? void 0 : c.importerAddress.street1,
                                        street2: null == c ? void 0 : c.importerAddress.street2,
                                        postalCode: null == c ? void 0 : c.importerAddress.postalCode,
                                        city: null == c ? void 0 : c.importerAddress.city,
                                        region: null == c ? void 0 : c.importerAddress.region,
                                        countryCode: null == c ? void 0 : c.importerAddress.countryCode
                                    }
                                } : void 0
                            })
                        }, t._handleEditSuccess = function(e) {
                            var n = t.props,
                                a = n.catalog,
                                r = n.onEditSuccess,
                                i = n.newProduct,
                                o = n.onCreate;
                            a.productCollection.add(e, {
                                merge: !0
                            }), t.props.newProduct ? (0, G.logAddProductSuccess)((0, V.getProductCatalogContext)(t.context)) : (0, G.logEditProductSuccess)(t.props.product, (0, V.getProductCatalogContext)(t.context)), S.Cmd.openToast((0, ne.jsx)(J.Toast, {
                                msg: v.fbt._("Changes saved", null, {
                                    hk: "fmK60"
                                }),
                                id: (0, J.genId)("catalog_item_saved")
                            })), r(e), null != i && o && o()
                        }, t._handleDeleteItem = function() {
                            var e = t.props,
                                n = e.catalog,
                                a = e.product,
                                r = e.onDelete;
                            (0, _.handleProductDelete)(n, a, (0, V.getProductCatalogContext)(t.context), "Product").then((function(e) {
                                e && (S.Cmd.closeDrawerMid(), null == r || r(a))
                            }))
                        }, t._handleEditError = function(e, n) {
                            t.props.newProduct ? (0, G.logAddProductFailed)((0, V.getProductCatalogContext)(t.context)) : (0, G.logEditProductFailed)(t.props.product, (0, V.getProductCatalogContext)(t.context), e.statusCode);
                            var a = v.fbt._("Failed to save changes", null, {
                                hk: "1rgjJH"
                            });
                            null != e.errors && (e.errors.filter((function(e) {
                                return "duplicate" === e.reason
                            })).length > 0 ? q.QPL.markerDrop(n) : q.QPL.markerEnd(n, q.QuickLogActionType.FAIL), e.errors.map((function(e) {
                                "media" === e.name && "duplicate" === e.reason && t.setState({
                                    imageError: v.fbt._("Two or more images are the same. Delete any duplicates and try again.", null, {
                                        hk: "3qIMS6"
                                    })
                                }), "retailer_id" !== e.name && "retailer-id" !== e.name || "duplicate" !== e.reason || t.setState({
                                    retailerIdError: v.fbt._("Item code must be unique.", null, {
                                        hk: "2T0KbL"
                                    })
                                }), (0, N.hideUnsupportedCurrency)() && "currency" === e.name && "invalid-data" === e.reason && (a = v.fbt._("Price can’t be shown in your country. Delete the price you entered.", null, {
                                    hk: "R4VXy"
                                }))
                            }))), S.Cmd.openToast((0, ne.jsx)(J.Toast, {
                                msg: a,
                                id: (0, J.genId)("catalog_save_item_failed")
                            }))
                        }, t._handleSaveItem = function() {
                            var e, n = t.props,
                                a = n.catalog,
                                r = n.product,
                                i = n.newProduct,
                                o = !0,
                                l = t._getProductChanges();
                            t.errorsRevealed() || (i ? (0, G.logAddProductClick)((0, V.getProductCatalogContext)(t.context)) : (0, G.logEditProductClick)(r, (0, V.getProductCatalogContext)(t.context)), t.setState({
                                isUpdating: !0
                            }), i || t.state.isModified ? (q.QPL.markerStart(K.QuickLogMarkerId.WHATSAPP_PRODUCT_SAVE, {
                                bool: {
                                    IsNewProduct: !!i
                                }
                            }), null === (e = t._imagePanelRef.current) || void 0 === e || e.uploadImages().then((function(e) {
                                l.imageCdnUrl = e[0], l.additionalImageCdnUrl = e.slice(1), (i ? a.addProduct : a.editProduct).call(a, l).then((function(e) {
                                    t._handleEditSuccess(e), o = !1, q.QPL.markerEnd(K.QuickLogMarkerId.WHATSAPP_PRODUCT_SAVE, q.QuickLogActionType.SUCCESS)
                                })).catch((0, p.filteredCatch)(te.CatalogEditServerError, (function(e) {
                                    o = !1, t._handleEditError(e, K.QuickLogMarkerId.WHATSAPP_PRODUCT_SAVE)
                                }))).finally((function() {
                                    o && q.QPL.markerEnd(K.QuickLogMarkerId.WHATSAPP_PRODUCT_SAVE, q.QuickLogActionType.FAIL), t.setState({
                                        isUpdating: !1
                                    })
                                }))
                            })).catch((function(e) {
                                throw q.QPL.markerEnd(K.QuickLogMarkerId.WHATSAPP_PRODUCT_SAVE, q.QuickLogActionType.FAIL), t.setState({
                                    isUpdating: !1
                                }), e
                            }))) : (q.QPL.markerStart(K.QuickLogMarkerId.WHATSAPP_PRODUCT_SET_VISIBLE, {
                                string: {
                                    EntryPoint: "Product"
                                }
                            }), (0, W.productVisibilitySet)([{
                                productId: r.id.toString(),
                                isHidden: l.isHidden
                            }]).then((function() {
                                r.isHidden = l.isHidden, t._handleEditSuccess(r), o = !1, q.QPL.markerEnd(K.QuickLogMarkerId.WHATSAPP_PRODUCT_SET_VISIBLE, q.QuickLogActionType.SUCCESS)
                            })).catch((0, p.filteredCatch)(te.CatalogEditServerError, (function(e) {
                                o = !1, t._handleEditError(e, K.QuickLogMarkerId.WHATSAPP_PRODUCT_SET_VISIBLE)
                            }))).finally((function() {
                                o && q.QPL.markerEnd(K.QuickLogMarkerId.WHATSAPP_PRODUCT_SET_VISIBLE, q.QuickLogActionType.FAIL), t.setState({
                                    isUpdating: !1
                                })
                            }))))
                        }, t._handleImageChange = function(e) {
                            var n = "";
                            0 === e.length && (n = v.fbt._("Add at least one image", null, {
                                hk: "4tbVYS"
                            })), t.setState({
                                imageError: n,
                                hasImages: e.length > 0,
                                isModified: !0
                            })
                        }, t.handleDrop = function(e) {
                            var n;
                            null === (n = t._imagePanelRef.current) || void 0 === n || n.handleFilePick(e)
                        }, t.handleDragChange = function(e) {
                            t.setState({
                                isDragging: e
                            })
                        }, t.getServerPrice = function(e) {
                            return parseInt(parseFloat(e).toFixed(2).toString().replace(/\.|,/g, ""), 10)
                        };
                        var r = t.props.product,
                            i = !1,
                            d = null != r.currency ? r.currency : T.currencyForCountryShortcode((0, w.getCountryShortcodeByPhone)((0, R.getMeUser)().user)),
                            c = null == r.priceAmount1000 ? null : r.priceAmount1000,
                            f = "";
                        if (null != c && null != r.currency) {
                            var h = T.formatAmount1000ToParts(r.currency, c);
                            f = `${h.integer}${h.decimal}`
                        }
                        return t.canDisplayPrice(d) || (f = "", d = "", c = null, i = !0), t.state = {
                            name: r.name || "",
                            priceAmount1000: c,
                            description: r.description || "",
                            url: r.url || "",
                            retailerId: r.retailerId || "",
                            priceStr: f,
                            currency: d,
                            isUpdating: !1,
                            nameError: "",
                            priceError: "",
                            urlError: "",
                            retailerIdError: "",
                            imageError: "",
                            hasImages: !!r.imageCdnUrl,
                            isDragging: !1,
                            isHidden: r.isHidden,
                            isModified: i,
                            isComplianceInfoAvailable: !1,
                            complianceInfo: void 0
                        }, t
                    }
                    return (0, d.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this,
                                t = this.props,
                                n = t.listeners,
                                a = t.catalog,
                                r = t.product;
                            (0, N.canSeeECommerceComplianceIndiaSoftEnforcement)(a.id.user) && this.setComplianceInfo(), n.add(r, "change:isHidden", (function() {
                                e.setState({
                                    isHidden: e.props.product.isHidden
                                })
                            }))
                        }
                    }, {
                        key: "canDisplayPrice",
                        value: function(e) {
                            return !(0, N.hideUnsupportedCurrency)() || T.isSupportedCurrency(e)
                        }
                    }, {
                        key: "shouldComplianceBeHardEnforced",
                        value: function() {
                            var e = this.props.catalog;
                            return (0, N.canSeeECommerceComplianceIndiaHardEnforcementBusinessJourney)(e.id.user)
                        }
                    }, {
                        key: "errorsRevealed",
                        value: function() {
                            var e, t = (0, R.getMeUser)(),
                                n = this.state.isComplianceInfoAvailable;
                            if (!this.shouldComplianceBeHardEnforced() || !n) return !1;
                            var a = (0, l.default)((0, l.default)({}, this.state.complianceInfo), {}, {
                                importerAddress: (0, l.default)({}, null === (e = this.state.complianceInfo) || void 0 === e ? void 0 : e.importerAddress)
                            });
                            if (!(0, E.existsField)(a.countryCodeOrigin, t)) return a.countryCodeOriginError = v.fbt._("Add a country of origin", null, {
                                hk: "3WA7X9"
                            }), this.setState({
                                complianceInfo: a
                            }), !0;
                            if (!this._showComplianceInfoImporterAddress()) return !1;
                            var r = a.importerName,
                                i = a.importerAddress,
                                o = i.street1,
                                u = i.city,
                                s = i.countryCode,
                                d = !1;
                            return (0, E.existsField)(r, t) || (a.importerNameError = v.fbt._("Add an importer name", null, {
                                hk: "3UwP1T"
                            }), d = !0), (0, E.existsFieldIgnoreHardEnforcement)(o) || (a.importerAddress.street1Error = v.fbt._("Add an importer address line 1", null, {
                                hk: "3HSMmN"
                            }), d = !0), (0, E.existsFieldIgnoreHardEnforcement)(u) || (a.importerAddress.cityError = v.fbt._("Add an importer city", null, {
                                hk: "1nq7dA"
                            }), d = !0), (0, E.existsFieldIgnoreHardEnforcement)(s) || (a.importerAddress.countryCodeError = v.fbt._("Add an importer country", null, {
                                hk: "3VmDTh"
                            }), d = !0), !!d && (this.setState({
                                complianceInfo: a
                            }), !0)
                        }
                    }, {
                        key: "setComplianceInfo",
                        value: (t = (0, u.default)(o.default.mark((function e() {
                            var t, n, a, r, i, l, u, s, d, c;
                            return o.default.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        if (t = this.props, n = t.product, a = t.catalog, !t.newProduct) {
                                            e.next = 5;
                                            break
                                        }
                                        this.setState({
                                            isComplianceInfoAvailable: !0
                                        }), e.next = 27;
                                        break;
                                    case 5:
                                        return e.next = 7, C.CatalogCollection.findProduct({
                                            catalogWid: a.id,
                                            productId: n.id.toString(),
                                            shouldFetchComplianceFields: !0
                                        });
                                    case 7:
                                        if (r = (0, h.default)(a, "catalog").productCollection.get(n.id), i = (null == r ? void 0 : r.complianceInfo) || {}, l = i.countryCodeOrigin, u = i.importerName, s = i.importerAddress, l !== String(k.SyntheticCountryCode.NotApplicable)) {
                                            e.next = 13;
                                            break
                                        }
                                        e.t0 = v.fbt._("Not Applicable", null, {
                                            hk: "2k1klN"
                                        }).toString(), e.next = 19;
                                        break;
                                    case 13:
                                        if (e.t1 = l, !e.t1) {
                                            e.next = 18;
                                            break
                                        }
                                        return e.next = 17, (0, k.getCountryName)(l);
                                    case 17:
                                        e.t1 = e.sent;
                                    case 18:
                                        e.t0 = e.t1;
                                    case 19:
                                        if (d = e.t0, e.t2 = null == s ? void 0 : s.countryCode, !e.t2) {
                                            e.next = 25;
                                            break
                                        }
                                        return e.next = 24, (0, k.getCountryName)(s.countryCode);
                                    case 24:
                                        e.t2 = e.sent;
                                    case 25:
                                        c = e.t2, this.setState({
                                            isComplianceInfoAvailable: !0,
                                            complianceInfo: {
                                                countryCodeOrigin: l,
                                                countryNameOrigin: d,
                                                countryCodeOriginError: "",
                                                importerName: u,
                                                importerNameError: "",
                                                importerAddress: {
                                                    street1: null == s ? void 0 : s.street1,
                                                    street1Error: "",
                                                    street2: null == s ? void 0 : s.street2,
                                                    postalCode: null == s ? void 0 : s.postalCode,
                                                    city: null == s ? void 0 : s.city,
                                                    cityError: "",
                                                    region: null == s ? void 0 : s.region,
                                                    countryCode: null == s ? void 0 : s.countryCode,
                                                    countryName: c,
                                                    countryCodeError: ""
                                                }
                                            }
                                        });
                                    case 27:
                                    case "end":
                                        return e.stop()
                                }
                            }), e, this)
                        }))), function() {
                            return t.apply(this, arguments)
                        })
                    }, {
                        key: "isValid",
                        value: function() {
                            var e = this.state,
                                t = e.name,
                                n = e.nameError,
                                a = e.priceError,
                                r = e.urlError,
                                i = e.retailerIdError,
                                o = e.imageError,
                                l = e.hasImages,
                                u = e.complianceInfo;
                            if ("" === t.trim() || !1 === l) return !1;
                            var s = [n, a, r, i, o];
                            return this._showComplianceInfoImporterAddress() && s.push(null == u ? void 0 : u.importerNameError, null == u ? void 0 : u.importerAddress.street1Error, null == u ? void 0 : u.importerAddress.cityError, null == u ? void 0 : u.importerAddress.countryCodeError), this.shouldComplianceBeHardEnforced() && s.push(null == u ? void 0 : u.countryCodeOriginError), s.every((function(e) {
                                return !e
                            }))
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = this.props,
                                t = e.catalog,
                                n = e.product,
                                a = e.onBack,
                                r = e.onCancel,
                                o = e.newProduct,
                                l = this.state,
                                u = l.isUpdating,
                                s = l.isDragging,
                                d = l.currency,
                                c = l.nameError,
                                f = l.priceError,
                                p = l.urlError,
                                h = l.retailerIdError,
                                g = l.imageError,
                                _ = l.complianceInfo,
                                C = l.isComplianceInfoAvailable,
                                S = (0, ne.jsx)(x.default, {
                                    type: "primary",
                                    onClick: this._handleSaveItem,
                                    disabled: !this.isValid(),
                                    a8nText: "product-edit-drawer-save-button",
                                    children: o ? v.fbt._("Add to catalog", null, {
                                        hk: "3Dku2o"
                                    }) : B.default.t(729)
                                }),
                                b = (0, ne.jsxs)("div", {
                                    className: A.default.drawerHeader,
                                    children: [(0, ne.jsx)(X.TextHeader, {
                                        level: "2",
                                        weight: "normal",
                                        customSize: "inherit",
                                        children: o ? v.fbt._("Add new item", null, {
                                            hk: "3DqBBM"
                                        }) : v.fbt._("Edit item", null, {
                                            hk: "2qzKLB"
                                        })
                                    }), (0, ne.jsx)("div", {
                                        className: A.default.drawerHeaderButtonContainer,
                                        children: S
                                    })]
                                }),
                                j = o ? null : (0, ne.jsx)("div", {
                                    className: A.default.deleteButtonContainer,
                                    children: (0, ne.jsx)(x.default, {
                                        type: "warning",
                                        onClick: this._handleDeleteItem,
                                        a8nText: "product-edit-drawer-delete-button",
                                        children: v.fbt._("Delete Item", null, {
                                            hk: "Frzv9"
                                        })
                                    })
                                }),
                                E = (0, m.default)(A.default.productWrapper, (0, i.default)({}, A.default.isSending, u)),
                                k = s ? (0, ne.jsx)(I.default, {}) : null,
                                w = u ? (0, ne.jsx)("div", {
                                    className: A.default.spinner,
                                    children: (0, ne.jsx)(Y.Spinner, {
                                        size: 50,
                                        stroke: 3
                                    })
                                }) : null,
                                O = (0, ne.jsxs)("div", {
                                    className: A.default.hiddenContainer,
                                    children: [(0, ne.jsx)(y.CheckBox, {
                                        id: "product-hidden-check",
                                        onChange: this._handleHiddenChange,
                                        checked: this.state.isHidden,
                                        disabled: !1
                                    }), (0, ne.jsx)("label", {
                                        className: A.default.hiddenLabel,
                                        htmlFor: "product-hidden-check",
                                        children: v.fbt._("Hide item", null, {
                                            hk: "GjLlA"
                                        })
                                    }), (0, ne.jsx)("div", {
                                        className: A.default.hiddenDescr,
                                        children: v.fbt._("When you hide an item, customers won’t see it in your catalog.", null, {
                                            hk: "1crP8q"
                                        })
                                    })]
                                });
                            return (0, ne.jsxs)(P.default, {
                                theme: "catalog",
                                onDrop: this.handleDrop,
                                onDragChange: this.handleDragChange,
                                children: [k, (0, ne.jsx)(L.DrawerHeader, {
                                    a8n: "catalog-link-title",
                                    title: b,
                                    type: L.DRAWER_HEADER_TYPE.SMALL,
                                    onBack: a,
                                    onCancel: r,
                                    focusBackOrCancel: !0
                                }), (0, ne.jsx)(M.default, {
                                    children: (0, ne.jsxs)("div", {
                                        className: E,
                                        children: [w, (0, ne.jsx)(z.default, {
                                            product: n,
                                            maxImageCount: H.MAX_PRODUCT_IMAGES,
                                            onChange: this._handleImageChange,
                                            ref: this._imagePanelRef,
                                            error: g
                                        }), (0, ne.jsx)(Z.TextInput, {
                                            a8n: "product-edit-drawer-name-input",
                                            value: this.state.name,
                                            placeholder: v.fbt._("Name", null, {
                                                hk: "46mqET"
                                            }),
                                            onChange: this._handleNameChange,
                                            theme: "small",
                                            customStyleThemes: ["desaturated"],
                                            maxLength: 150,
                                            error: c,
                                            title: v.fbt._("Name", null, {
                                                hk: "47pzCN"
                                            })
                                        }), this.canDisplayPrice(this.state.currency) && (0, ne.jsx)(Z.TextInput, {
                                            a8n: "product-edit-drawer-price-input",
                                            value: this.state.priceStr,
                                            placeholder: B.default.t(552, {
                                                currencySymbol: T.formatAmount1000ToParts(d, 0).symbol
                                            }),
                                            onChange: this._handlePriceChange,
                                            theme: "small",
                                            maxLength: 30,
                                            customStyleThemes: ["desaturated"],
                                            error: f,
                                            title: v.fbt._("Price", null, {
                                                hk: "1q6KRK"
                                            })
                                        }), (0, ne.jsx)(Z.TextInput, {
                                            a8n: "product-edit-drawer-description-input",
                                            value: this.state.description,
                                            placeholder: v.fbt._("Description (Optional)", null, {
                                                hk: "38PzGH"
                                            }),
                                            onChange: this.handleDescriptionChange,
                                            theme: "small",
                                            maxLength: 5e3,
                                            customStyleThemes: ["desaturated"],
                                            multiline: !0,
                                            title: v.fbt._("Description", null, {
                                                hk: "2sGitZ"
                                            })
                                        }), (0, ne.jsx)(Z.TextInput, {
                                            a8n: "product-edit-drawer-link-input",
                                            value: this.state.url,
                                            placeholder: v.fbt._("Link (Optional)", null, {
                                                hk: "18F36s"
                                            }),
                                            onChange: this._handleUrlChange,
                                            onBlur: this._handleUrlBlur,
                                            theme: "small",
                                            customStyleThemes: ["desaturated"],
                                            maxLength: 75,
                                            error: p,
                                            managed: !0,
                                            title: v.fbt._("Link", null, {
                                                hk: "1yLSRM"
                                            })
                                        }), (0, ne.jsx)(Z.TextInput, {
                                            a8n: "product-edit-drawer-retailer-id-input",
                                            value: this.state.retailerId,
                                            placeholder: v.fbt._("Item Code (Optional)", null, {
                                                hk: "MWG64"
                                            }),
                                            onChange: this._handleRetailerIdChange,
                                            theme: "small",
                                            customStyleThemes: ["desaturated"],
                                            maxLength: 100,
                                            error: h,
                                            title: v.fbt._("Item code", null, {
                                                hk: "6trPE"
                                            })
                                        }), (0, N.canSeeECommerceComplianceIndiaSoftEnforcement)(t.id.user) ? (0, ne.jsx)(oe, {
                                            isComplianceHardEnforced: this.shouldComplianceBeHardEnforced(),
                                            isComplianceInfoAvailable: C,
                                            showComplianceInfoImporterAddress: this._showComplianceInfoImporterAddress(),
                                            complianceInfo: _,
                                            onComplianceInfoChange: this._handleComplianceInfoChange,
                                            onComplianceInfoImporterAddressChange: this._handleComplianceInfoImporterAddressChange
                                        }) : null, O, j]
                                    })
                                })]
                            }, "catalog-link-drawer")
                        }
                    }]), a
                }(g.Component);

            function oe(e) {
                var t = e.isComplianceInfoAvailable,
                    n = (e.isComplianceHardEnforced, e.showComplianceInfoImporterAddress),
                    a = e.complianceInfo,
                    i = e.onComplianceInfoChange,
                    l = e.onComplianceInfoImporterAddressChange,
                    s = (0, g.useState)([]),
                    d = (0, r.default)(s, 2),
                    c = d[0],
                    f = d[1],
                    p = (0, g.useMemo)((function() {
                        var e = (0, R.getMeUser)().user;
                        return c.length > 0 && (0, N.canSeeECommerceComplianceIndiaCountryOriginExemptBusinessJourney)(e) ? (0, k.bubbleCountryOnListOfCountries)(c, b.COMPLIANCE_INFO_CODES.INDIA, !0) : c
                    }), [c]),
                    h = (0, g.useMemo)((function() {
                        var e = (0, R.getMeUser)().user;
                        if (c.length > 0 && (0, N.canSeeECommerceComplianceIndiaCountryOriginExemptBusinessJourney)(e)) {
                            var t = b.COMPLIANCE_INFO_CODES.INDIA;
                            return "string" == typeof(null == a ? void 0 : a.countryCodeOrigin) && "" !== a.countryCodeOrigin && (t = a.countryCodeOrigin), (0, k.formatCountriesOfOrigin)(c, t)
                        }
                        return c
                    }), [c, null == a ? void 0 : a.countryCodeOrigin]),
                    m = function(e) {
                        return `${e.toString()} (${v.fbt._("Optional",null,{hk:"4vf9yI"}).toString()})`
                    },
                    _ = function(e) {
                        return !a || Object.values(a.importerAddress).every((function(e) {
                            return !e
                        })) ? m(e) : e
                    };
                return (0, g.useEffect)((function() {
                    var e = !0;
                    return (0, u.default)(o.default.mark((function t() {
                            var n, a;
                            return o.default.wrap((function(t) {
                                for (;;) switch (t.prev = t.next) {
                                    case 0:
                                        if (n = (0, R.getMeUser)().user, !(0, N.canSeeECommerceComplianceIndiaSoftEnforcement)(n)) {
                                            t.next = 6;
                                            break
                                        }
                                        return t.next = 4, (0, k.getCountries)();
                                    case 4:
                                        a = t.sent, e && f(a);
                                    case 6:
                                    case "end":
                                        return t.stop()
                                }
                            }), t)
                        })))(),
                        function() {
                            e = !1
                        }
                }), []), t && c.length ? (0, ne.jsxs)("div", {
                    a8n: "product-edit-drawer-compliance",
                    children: [(0, ne.jsx)(Z.TextInput, {
                        a8n: "product-edit-drawer-compliance-country-of-origin-input",
                        value: null == a ? void 0 : a.countryNameOrigin,
                        placeholder: v.fbt._("Country of Origin", null, {
                            hk: "2yl0F7"
                        }),
                        onChange: function() {},
                        theme: "small",
                        customStyleThemes: ["desaturated"],
                        managed: !0,
                        onFocus: function() {
                            return S.Cmd.showCountrySelector(v.fbt._("Country of Origin", null, {
                                hk: "2yl0F7"
                            }), null == a ? void 0 : a.countryCodeOrigin, h, (function(e) {
                                i("countryCodeOrigin", e)
                            }))
                        },
                        error: null == a ? void 0 : a.countryCodeOriginError
                    }), n && (0, ne.jsxs)(ne.Fragment, {
                        children: [(0, ne.jsx)(Z.TextInput, {
                            a8n: "product-edit-drawer-compliance-importer-name-input",
                            value: null == a ? void 0 : a.importerName,
                            placeholder: _(v.fbt._("Importer Name", null, {
                                hk: "3DW3Nn"
                            })),
                            onChange: function(e) {
                                i("importerName", e)
                            },
                            theme: "small",
                            customStyleThemes: ["desaturated"],
                            maxLength: b.COMPLIANCE_INFO_LENGTH.IMPORTER_NAME,
                            error: null == a ? void 0 : a.importerNameError
                        }), (0, ne.jsx)(Z.TextInput, {
                            a8n: "product-edit-drawer-compliance-importer-address-street-1-input",
                            value: null == a ? void 0 : a.importerAddress.street1,
                            placeholder: _(v.fbt._("Importer Address Line 1", null, {
                                hk: "1ORfyh"
                            })),
                            onChange: function(e) {
                                l("street1", e)
                            },
                            theme: "small",
                            customStyleThemes: ["desaturated"],
                            maxLength: b.COMPLIANCE_INFO_LENGTH.STREET1,
                            error: null == a ? void 0 : a.importerAddress.street1Error
                        }), (0, ne.jsx)(Z.TextInput, {
                            a8n: "product-edit-drawer-compliance-importer-address-street-2-input",
                            value: null == a ? void 0 : a.importerAddress.street2,
                            placeholder: m(v.fbt._("Importer Address Line 2", null, {
                                hk: "2pYt7Y"
                            })),
                            onChange: function(e) {
                                l("street2", e)
                            },
                            theme: "small",
                            customStyleThemes: ["desaturated"],
                            maxLength: b.COMPLIANCE_INFO_LENGTH.STREET2
                        }), (0, ne.jsx)(Z.TextInput, {
                            a8n: "product-edit-drawer-compliance-importer-address-city-input",
                            value: null == a ? void 0 : a.importerAddress.city,
                            placeholder: _(v.fbt._("Importer City", null, {
                                hk: "4c06Q3"
                            })),
                            onChange: function(e) {
                                l("city", e)
                            },
                            theme: "small",
                            customStyleThemes: ["desaturated"],
                            maxLength: b.COMPLIANCE_INFO_LENGTH.CITY,
                            error: null == a ? void 0 : a.importerAddress.cityError
                        }), (0, ne.jsx)(Z.TextInput, {
                            a8n: "product-edit-drawer-compliance-importer-address-region-input",
                            value: null == a ? void 0 : a.importerAddress.region,
                            placeholder: m(v.fbt._("Importer Region", null, {
                                hk: "3MkbQD"
                            })),
                            onChange: function(e) {
                                l("region", e)
                            },
                            theme: "small",
                            customStyleThemes: ["desaturated"],
                            maxLength: b.COMPLIANCE_INFO_LENGTH.REGION
                        }), (0, ne.jsx)(Z.TextInput, {
                            a8n: "product-edit-drawer-compliance-importer-address-country-code-input",
                            value: null == a ? void 0 : a.importerAddress.countryName,
                            placeholder: _(v.fbt._("Importer Country", null, {
                                hk: "3ar6sr"
                            })),
                            onChange: function() {},
                            theme: "small",
                            customStyleThemes: ["desaturated"],
                            managed: !0,
                            onFocus: function() {
                                return S.Cmd.showCountrySelector(v.fbt._("Importer Country", null, {
                                    hk: "3ar6sr"
                                }), null == a ? void 0 : a.importerAddress.countryCode, p, (function(e) {
                                    l("countryCode", e)
                                }))
                            },
                            error: null == a ? void 0 : a.importerAddress.countryCodeError
                        }), (0, ne.jsx)(Z.TextInput, {
                            a8n: "product-edit-drawer-compliance-importer-address-postal-code-input",
                            value: null == a ? void 0 : a.importerAddress.postalCode,
                            placeholder: m(v.fbt._("Importer Zip/Postal Code", null, {
                                hk: "Bbhqf"
                            })),
                            onChange: function(e) {
                                l("postalCode", e)
                            },
                            theme: "small",
                            customStyleThemes: ["desaturated"],
                            maxLength: b.COMPLIANCE_INFO_LENGTH.POSTAL_CODE
                        }), (0, ne.jsx)(j.ComplianceInfoHelpCenterBanner, {
                            xstyle: re.complianceInfoHelpCenterBanner
                        })]
                    })]
                }) : (0, ne.jsx)(D.FlexRow, {
                    align: "center",
                    justify: "center",
                    children: (0, ne.jsx)(D.FlexItem, {
                        children: (0, ne.jsx)(Y.Spinner, {})
                    })
                })
            }
            t.EditProductDrawerImpl = ie, ie.contextType = O.DrawerContext, ie.CONCERNS = {
                product: ["id", "additionalImageCdnUrl", "name", "priceAmount1000", "description", "productImageCollection", "reviewStatus", "url", "imageCdnUrl", "retailerId", "currency", "isHidden", "complianceInfo"]
            }, ie.displayName = "EditProductDrawerImpl";
            var le = (0, F.default)((0, $.default)((0, Q.default)((0, U.ListenerHOC)(ie), ie.CONCERNS)));
            t.EditProductDrawer = le
        },
        57315: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onBack,
                    n = e.onAddProductClick,
                    a = (0, e.isCreatingCatalogFn)(),
                    j = (0, y.jsx)("div", {
                        className: _.default.placeholderIcon
                    }),
                    E = (0, y.jsx)(d.default, {
                        href: S,
                        onClick: function(e) {
                            e.preventDefault(), (0, v.openExternalLink)(S)
                        },
                        children: l.fbt._("Facebook Product", null, {
                            hk: "3JyFEa"
                        })
                    }),
                    k = (0, y.jsx)(d.default, {
                        href: b,
                        onClick: function(e) {
                            e.preventDefault(), (0, v.openExternalLink)(b)
                        },
                        children: l.fbt._("Facebook Commercial Terms", null, {
                            hk: "3LS54M"
                        })
                    }),
                    w = (0, y.jsx)(d.default, {
                        href: i.default.WA_COMMERCE_POLICY_URL,
                        onClick: function(e) {
                            e.preventDefault(), (0, v.openExternalLink)(i.default.WA_COMMERCE_POLICY_URL)
                        },
                        children: l.fbt._("WhatsApp Commerce Policies", null, {
                            hk: "2wf95I"
                        })
                    }),
                    T = (0, y.jsx)(g.default, {
                        id: 263,
                        params: {
                            fb_product_link: E,
                            fb_commerce_link: k,
                            wa_commerce_policy_link: w
                        }
                    }),
                    I = (0, o.default)((0, r.default)({}, _.default.isLoading, a)),
                    P = a ? (0, y.jsx)("div", {
                        className: _.default.spinner,
                        children: (0, y.jsx)(x.Spinner, {
                            size: 50,
                            stroke: 3
                        })
                    }) : null,
                    M = a ? (0, y.jsx)(u.default, {
                        onClick: function() {},
                        theme: "default",
                        idle: !!a
                    }) : (0, y.jsx)(p.DrawerContext.Consumer, {
                        children: function() {
                            return (0, y.jsx)(u.default, {
                                onClick: function() {
                                    n()
                                },
                                theme: "default",
                                idle: !1
                            })
                        }
                    });
                return (0, y.jsxs)(c.default, {
                    children: [(0, y.jsx)(h.DrawerHeader, {
                        title: l.fbt._("Catalog", null, {
                            hk: "3YVOSV"
                        }),
                        type: h.DRAWER_HEADER_TYPE.LARGE,
                        onBack: t
                    }), (0, y.jsx)(f.default, {
                        className: I,
                        children: (0, y.jsxs)(m.default, {
                            theme: "padding-small",
                            animation: !1,
                            children: [P, (0, y.jsx)(C.TextDiv, {
                                theme: "title",
                                children: l.fbt._("Add items to your catalog so customers can see what you're offering", null, {
                                    hk: "3z35i1"
                                })
                            }), M, (0, y.jsx)(C.TextDiv, {
                                theme: "plain",
                                children: T
                            }), (0, y.jsxs)("div", {
                                className: _.default.placeholderContainer,
                                children: [(0, y.jsx)(s.default, {
                                    theme: "add-item-placeholder",
                                    image: j,
                                    customImage: !0,
                                    className: _.default.addItemPlaceholder,
                                    primary: "",
                                    secondary: "",
                                    idle: !0
                                }), (0, y.jsx)("div", {
                                    className: _.default.divider
                                }), (0, y.jsx)(s.default, {
                                    theme: "add-item-placeholder",
                                    image: j,
                                    customImage: !0,
                                    className: _.default.addItemPlaceholder,
                                    primary: "",
                                    secondary: "",
                                    idle: !0
                                }), (0, y.jsx)("div", {
                                    className: _.default.divider
                                })]
                            })]
                        })
                    })]
                }, "catalog-link-drawer")
            };
            var r = a(n(59713)),
                i = a(n(3208)),
                o = a(n(94184)),
                l = n(48360),
                u = a(n(66863)),
                s = a(n(88186)),
                d = a(n(81288)),
                c = a(n(53187)),
                f = a(n(18345)),
                p = n(96706),
                h = n(19288),
                m = a(n(46821)),
                v = n(49012),
                g = a(n(62848)),
                _ = a(n(12162)),
                x = n(85651),
                C = n(22552),
                y = n(85893),
                S = "https://www.facebook.com/legal/terms",
                b = "https://www.facebook.com/policies/commerce"
        },
        70047: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.ProductInfoDrawer = function(e) {
                var t = e.onCancel,
                    n = e.collectionId,
                    a = e.catalog,
                    M = e.onEditProduct,
                    O = e.onShareProduct,
                    L = e.isPushed,
                    A = void 0 === L || L,
                    D = (0, o.useContext)(d.DrawerContext),
                    R = (0, I.useModelValues)(e.product, ["id", "catalogWid", "name", "priceAmount1000", "description", "productImageCollection", "reviewStatus", "url", "canAppeal", "imageCdnUrl", "retailerId", "currency", "isHidden"]),
                    N = (0, o.useState)(!0),
                    F = (0, r.default)(N, 2),
                    B = F[0],
                    U = F[1];
                (0, o.useEffect)((function() {
                    var e = (0, h.getMaybeMeUser)();
                    A && (0, g.qplAnnotateProductView)(!(null == e ? void 0 : e.equals(R.catalogWid))), a.pullProduct(R.id.toString(), A).then((function() {
                        A && (0, g.qplEndProductView)(k.QuickLogActionType.SUCCESS)
                    })).catch((function() {
                        A && (0, g.qplEndProductView)(k.QuickLogActionType.FAIL)
                    })).finally((function() {
                        U(!1)
                    })), (0, v.logProductDetailView)({
                        product: R,
                        catalogContext: (0, x.getProductCatalogContext)(D),
                        collectionId: n
                    })
                }), []);
                var G = (0, h.getMaybeMeUser)(),
                    H = w.StatusCollection.get(G),
                    W = (0, P.jsx)(T.TextDiv, {
                        theme: "muted",
                        className: S.default.businessInfoTitle,
                        children: i.fbt._("Business Info", null, {
                            hk: "20HLtr"
                        })
                    }),
                    V = R.reviewStatus !== C.PRODUCT_REVIEW_STATUS.APPROVED || R.isHidden,
                    z = (0, P.jsxs)("div", {
                        children: [(0, P.jsx)("div", {
                            className: S.default.buttonSeparator,
                            children: (0, P.jsx)(l.default, {
                                type: "strong",
                                onClick: function() {
                                    M && M(R)
                                },
                                a8nText: "product-info-drawer edit-button",
                                children: m.default.t(402)
                            })
                        }), (0, P.jsx)(l.default, {
                            type: "strong-primary",
                            onClick: function() {
                                O && O(R)
                            },
                            disabled: V,
                            a8nText: "product-info-drawer share-button",
                            children: i.fbt._("Share", null, {
                                hk: "3RmUA"
                            })
                        })]
                    }),
                    q = (0, P.jsxs)("div", {
                        className: S.default.drawerHeader,
                        children: [(0, P.jsx)("div", {
                            className: S.default.productName,
                            children: R.name
                        }), (0, P.jsx)("div", {
                            className: S.default.drawerHeaderButtonContainer,
                            children: z
                        })]
                    }),
                    K = H ? (0, P.jsx)(f.default, {
                        title: W,
                        theme: "no-padding",
                        children: (0, P.jsx)(E.default, {
                            status: H
                        })
                    }) : null,
                    Y = B ? (0, P.jsx)(p.default, {}) : (0, P.jsxs)(P.Fragment, {
                        children: [(0, P.jsx)(j.default, {
                            product: R,
                            isAvailable: !0,
                            fetching: !1
                        }), (0, P.jsx)(b.default, {
                            product: R
                        }), (0, P.jsx)(y.default, {
                            product: R,
                            collectionId: n,
                            onSendChat: function() {
                                t(), (0, _.sendProductToChat)(R, a), (0, v.logProductMessageBusinessClick)(R, (0, x.getProductCatalogContext)(D))
                            },
                            isAvailable: !0
                        })]
                    });
                return (0, P.jsxs)(u.default, {
                    theme: "catalog",
                    children: [(0, P.jsx)(c.DrawerHeader, {
                        a8n: "catalog-product-title",
                        title: q,
                        type: c.DRAWER_HEADER_TYPE.SMALL,
                        onCancel: t,
                        headingLevel: "2",
                        focusBackOrCancel: !0
                    }), (0, P.jsxs)(s.default, {
                        children: [(0, P.jsx)(f.default, {
                            theme: "center-column-fixed-width",
                            children: Y
                        }), (0, P.jsx)("div", {
                            className: S.default.productWrapper,
                            children: K
                        })]
                    })]
                }, "catalog-link-drawer")
            };
            var r = a(n(63038)),
                i = n(48360),
                o = n(67294),
                l = a(n(51599)),
                u = a(n(53187)),
                s = a(n(18345)),
                d = n(96706),
                c = n(19288),
                f = a(n(46821)),
                p = a(n(5029)),
                h = n(1577),
                m = a(n(45159)),
                v = n(56264),
                g = n(56003),
                _ = n(36949),
                x = n(52867),
                C = n(46408),
                y = a(n(31529)),
                S = a(n(37870)),
                b = a(n(98082)),
                j = a(n(41756)),
                E = a(n(19203)),
                k = n(3298),
                w = n(48341),
                T = n(22552),
                I = n(69283),
                P = n(85893)
        },
        98082: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.product;
                var n = (0, x.jsx)(u.default, {
                    href: i.default.WA_COMMERCE_POLICY_URL,
                    onClick: function(e) {
                        e.preventDefault(), (0, c.openExternalLink)(i.default.WA_COMMERCE_POLICY_URL)
                    },
                    children: f.default.t(554)
                });
                if (t.reviewStatus === m.PRODUCT_REVIEW_STATUS.APPROVED) return t.isHidden ? (0, x.jsxs)("div", {
                    className: v.default.root,
                    children: [(0, x.jsx)("div", {
                        className: v.default.icon,
                        children: (0, x.jsx)(g.default, {
                            name: "hide"
                        })
                    }), (0, x.jsx)("div", {
                        className: v.default.text,
                        children: (0, x.jsx)(_.TextDiv, {
                            children: o.fbt._("You hid this item. Your customers can't see it in your catalog", null, {
                                hk: "28Rw4y"
                            })
                        })
                    })]
                }) : null;
                if (t.reviewStatus === m.PRODUCT_REVIEW_STATUS.REJECTED) {
                    if (!0 === t.canAppeal) {
                        var a = (0, x.jsx)(p.default, {
                                id: 266,
                                params: {
                                    learn_more_link: n
                                }
                            }),
                            C = (0, x.jsx)(u.default, {
                                onClick: function() {
                                    s.Cmd.openModal((0, x.jsx)(d.DrawerContext.Consumer, {
                                        children: function(e) {
                                            return (0, x.jsx)(l.default, {
                                                product: t,
                                                sessionId: (0, h.getProductCatalogSessionId)(e)
                                            })
                                        }
                                    }))
                                },
                                a8n: "product-appeal-button",
                                children: o.fbt._("request another review", null, {
                                    hk: "1edAPz"
                                })
                            }),
                            y = (0, x.jsx)(p.default, {
                                id: 264,
                                params: {
                                    request_review_link: C
                                },
                                className: v.default.appealText,
                                tabIndex: "0"
                            });
                        return (0, x.jsxs)("div", {
                            className: v.default.root,
                            "data-a8n": r.default.key("product-appeal-rejected-initial-review"),
                            children: [(0, x.jsx)("div", {
                                className: v.default.icon,
                                children: (0, x.jsx)(g.default, {
                                    name: "info"
                                })
                            }), (0, x.jsxs)("div", {
                                className: v.default.text,
                                children: [a, y]
                            })]
                        })
                    }
                    var S = (0, x.jsx)(p.default, {
                        id: 265,
                        params: {
                            learn_more_link: n
                        }
                    });
                    return (0, x.jsx)("div", {
                        className: v.default.root,
                        "data-a8n": r.default.key("product-appeal-rejected-final"),
                        children: S
                    })
                }
                if (t.reviewStatus === m.PRODUCT_REVIEW_STATUS.NO_REVIEW || t.reviewStatus === m.PRODUCT_REVIEW_STATUS.OUTDATED) {
                    var b = t.isHidden ? (0, x.jsx)(p.default, {
                        id: 268,
                        params: {
                            learn_more_link: n
                        }
                    }) : (0, x.jsx)(p.default, {
                        id: 267,
                        params: {
                            learn_more_link: n
                        }
                    });
                    return (0, x.jsx)("div", {
                        className: v.default.root,
                        "data-a8n": r.default.key("product-appeal-pending-initial-review"),
                        children: b
                    })
                }
                if (!1 === t.canAppeal) {
                    var j = o.fbt._("Your appeal was submitted. If it’s approved, your item will be added to your catalog. If it’s not approved, you’ll be notified.", null, {
                        hk: "4aNdXt"
                    });
                    return (0, x.jsx)("div", {
                        className: v.default.root,
                        "data-a8n": r.default.key("product-appeal-pending-appeal"),
                        children: j
                    })
                }
                return null
            };
            var r = a(n(84646)),
                i = a(n(3208)),
                o = n(48360),
                l = a(n(74360)),
                u = a(n(81288)),
                s = n(65901),
                d = n(96706),
                c = n(49012),
                f = a(n(45159)),
                p = a(n(62848)),
                h = n(52867),
                m = n(46408),
                v = a(n(95959)),
                g = a(n(7665)),
                _ = n(22552),
                x = n(85893)
        },
        19203: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = (0, u.useModelValues)(e.status, ["status"]);
                return (0, s.jsx)(r.default, {
                    image: (0, s.jsx)(o.DetailImage, {
                        id: (0, l.getMaybeMeUser)()
                    }),
                    primary: i.Conn.pushname,
                    secondary: t.status,
                    idle: !0
                })
            };
            var r = a(n(88186)),
                i = n(73929),
                o = n(66834),
                l = n(1577),
                u = n(69283),
                s = n(85893)
        },
        32892: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.businessProfile,
                    n = e.catalog,
                    a = e.openCatalog,
                    u = void 0 === a ? m : a,
                    v = (0, o.hasShop)(t),
                    g = Boolean(v && f.ServerProps.shopsProductGrid);
                if ((0, i.useEffect)((function() {
                        (0, d.logShopsManagementEvent)(c.default.SHOPS_MANAGEMENT_ACTION.ACTION_SHOPS_PRODUCT_PREVIEW_VISIBLE, {
                            shouldLogJid: !1,
                            isShopsProductPreviewVisible: g
                        })
                    }), [g]), v) return g ? (0, h.jsx)(p.default, {
                    isEditMode: !0,
                    subtitle: s.default.t(591),
                    businessProfile: t,
                    catalog: n,
                    productsToShow: 3
                }) : null;
                return (0, h.jsx)(l.default, {
                    catalog: n,
                    onProductDetail: u,
                    onProductCatalog: function() {
                        u()
                    },
                    productsToShow: 3,
                    catalogEntryLabel: null == n ? r.fbt._("Add catalog", null, {
                        hk: "2iihM5"
                    }) : r.fbt._("View or edit catalog", null, {
                        hk: "354QjL"
                    }),
                    showProductPlaceholders: !0,
                    seeMoreOverlay: !0,
                    sectionTheme: "refresh"
                })
            };
            var r = n(48360),
                i = n(67294),
                o = n(79614),
                l = a(n(69286)),
                u = n(31098),
                s = a(n(45159)),
                d = n(25780),
                c = a(n(50507)),
                f = n(43890),
                p = a(n(60401)),
                h = n(85893);

            function m(e) {
                (0, u.openCatalogManagementFlow)(e, c.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PROFILE)
            }
        },
        52788: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(63038)),
                i = n(48360),
                o = n(67294),
                l = a(n(27237)),
                u = a(n(62275)),
                s = n(94680),
                d = n(73008),
                c = a(n(7665)),
                f = n(16835),
                p = a(n(93820)),
                h = n(85893);

            function m(e) {
                var t, n = e.collection,
                    a = e.theme,
                    m = e.onDelete,
                    v = e.onEdit,
                    g = e.onSeeCollection,
                    _ = e.canManage,
                    x = (0, o.useState)(!1),
                    C = (0, r.default)(x, 1)[0],
                    y = (0, o.useState)(null),
                    S = (0, r.default)(y, 2),
                    b = S[0],
                    j = S[1],
                    E = function(e) {
                        e.preventDefault(), e.stopPropagation(), m && m(n)
                    },
                    k = function(e) {
                        e.preventDefault(), e.stopPropagation(), v && v(n)
                    },
                    w = (0, h.jsx)("div", {
                        className: u.default.collectionIcon,
                        children: (0, h.jsx)("div", {
                            className: u.default.iconContainer,
                            children: (0, h.jsx)(c.default, {
                                name: "collections_folder"
                            })
                        })
                    }),
                    T = (0, h.jsx)(d.EmojiText, {
                        text: n.name,
                        ellipsify: !0,
                        titlify: !0
                    });
                return b && (t = (0, h.jsx)(f.UIE, {
                    displayName: "CollectionContextMenu",
                    escapable: !0,
                    popable: !0,
                    requestDismiss: function() {
                        j(null)
                    },
                    children: (0, h.jsx)(p.default, {
                        contextMenu: b
                    })
                })), (0, h.jsxs)(h.Fragment, {
                    children: [(0, h.jsx)(l.default, {
                        customImage: !0,
                        image: w,
                        primary: T,
                        theme: a,
                        active: C,
                        contextEnabled: function() {
                            return e.canManage
                        },
                        onContext: function(e) {
                            if (b) j(null);
                            else {
                                var t = [];
                                _ && (t.push((0, h.jsx)(s.DropdownItem, {
                                    a8n: "mi-edit-collection",
                                    action: k,
                                    children: i.fbt._("Edit", null, {
                                        hk: "Xow6E"
                                    })
                                }, "EditLabel")), t.push((0, h.jsx)(s.DropdownItem, {
                                    a8n: "mi-delete-collection",
                                    action: E,
                                    children: i.fbt._("Delete", null, {
                                        hk: "1rLhBB"
                                    })
                                }, "DeleteLabel"))), j({
                                    menu: t,
                                    event: e.event,
                                    anchor: e.anchor
                                })
                            }
                        },
                        onClick: function(e) {
                            e.preventDefault(), e.stopPropagation(), g && g(n)
                        }
                    }, n.id.toString()), t]
                })
            }
            m.defaultProps = {
                theme: "collection-edit",
                isMuted: !1
            };
            var v = m;
            t.default = v
        },
        42425: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.data,
                    n = e.canManage,
                    a = e.onEditCollection,
                    h = e.onSeeCollection,
                    m = (0, f.useModelValues)(e.catalog, ["collections"]);
                return (0, p.jsx)(s.default, {
                    flatListControllers: [e.flatListController],
                    children: (0, p.jsx)(u.FlatList, {
                        flatListController: e.flatListController,
                        direction: "vertical",
                        forceConsistentRenderCount: !1,
                        data: (v = [], t.forEach((function(e) {
                            e.collection && v.push({
                                itemKey: e.collection.id,
                                collection: e.collection
                            })
                        })), v),
                        renderItem: function(e) {
                            var t = e.collection;
                            return (0, p.jsx)(l.DrawerContext.Consumer, {
                                children: function(e) {
                                    return (0, p.jsx)(o.default, {
                                        collection: t,
                                        canManage: n,
                                        onDelete: function() {
                                            return function(e, t) {
                                                (0, r.handleCollectionDelete)((0, c.unproxy)(m), e, t)
                                            }(t, (0, d.getProductCatalogContext)(e))
                                        },
                                        onEdit: a,
                                        onSeeCollection: h
                                    })
                                }
                            })
                        },
                        defaultItemHeight: i.PRODUCT_LIST_ITEM_HEIGHT
                    })
                });
                var v
            };
            var r = n(56734),
                i = n(66419),
                o = a(n(52788)),
                l = n(96706),
                u = n(73568),
                s = a(n(23803)),
                d = n(52867),
                c = n(68220),
                f = n(69283),
                p = n(85893)
        },
        65589: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.setScrollOffset,
                    n = e.editCollection,
                    a = e.onSeeCollection,
                    k = (0, S.default)(),
                    w = (0, y.default)((function() {
                        return k()
                    }), 100),
                    T = (0, b.default)((function() {
                        return new v.default
                    })),
                    I = (0, o.useState)(!0),
                    P = (0, r.default)(I, 2),
                    M = P[0],
                    O = P[1],
                    L = (0, o.useState)(null),
                    A = (0, r.default)(L, 2),
                    D = A[0],
                    R = A[1],
                    N = (0, o.useState)(null),
                    F = (0, r.default)(N, 2),
                    B = F[0],
                    U = F[1],
                    G = (0, o.useMemo)((function() {
                        var e = (0, _.getMeUser)();
                        return u.CatalogCollection.get(e)
                    }), []);
                (0, o.useEffect)((function() {
                    var t = e.isPushed,
                        n = void 0 === t || t;
                    if (G) {
                        var a = new d.CollectionsDataSource(G, !0, s.PRODUCT_LIST_ITEM_HEIGHT, n);
                        G.collections.on("add remove", w);
                        var r = new d.CatalogListItemScrollHelper(a);
                        R(a), U(r), a.loadInitialItems().then((function() {
                            O(!1), n && x.QPL.markerEnd(C.QuickLogMarkerId.WHATSAPP_COLLECTIONS_MANAGEMENT_VIEW, x.QuickLogActionType.SUCCESS)
                        })).catch((function() {
                            n && x.QPL.markerEnd(C.QuickLogMarkerId.WHATSAPP_COLLECTIONS_MANAGEMENT_VIEW, x.QuickLogActionType.FAIL)
                        }))
                    }
                }), []);
                var H = (0, j.default)((function(e) {
                    var n = e.currentTarget;
                    t && t(n.scrollTop), (null == B ? void 0 : B.willLoadMore(n)) && O(!0), null == B || B.onScroll(e, n).then((function(e) {
                        e && O(!1)
                    })).catch((function(e) {
                        throw O(!1), e
                    }))
                }), 100);
                return (0, E.jsxs)(p.default, {
                    theme: "products",
                    onDrop: e.onBack,
                    children: [(0, E.jsx)(m.DrawerHeader, {
                        title: i.fbt._("Collections", null, {
                            hk: "I9pEH"
                        }),
                        type: m.DRAWER_HEADER_TYPE.LARGE,
                        onBack: e.onBack,
                        menu: (0, E.jsx)(E.Fragment, {})
                    }), (0, E.jsx)(h.default, {
                        onScroll: H,
                        flatListControllers: [T.current],
                        scrollOffset: e.scrollOffset,
                        children: G && D ? (0, E.jsxs)("div", {
                            children: [(0, E.jsx)(l.default, {
                                onClick: function() {
                                    n(null)
                                },
                                theme: "collections",
                                title: i.fbt._("New collection", null, {
                                    hk: "2Q4UnS"
                                })
                            }), (0, E.jsx)(c.default, {
                                canManage: !0,
                                catalog: G,
                                onEditCollection: n,
                                data: D.getData(),
                                flatListController: T.current,
                                onSeeCollection: a
                            }), M && (0, E.jsx)("div", {
                                className: f.default.loadingSpinner,
                                children: (0, E.jsx)(g.default, {})
                            })]
                        }) : null
                    })]
                })
            };
            var r = a(n(63038)),
                i = n(48360),
                o = n(67294),
                l = a(n(66863)),
                u = n(72743),
                s = n(66419),
                d = n(70886),
                c = a(n(42425)),
                f = a(n(41171)),
                p = a(n(53187)),
                h = a(n(18345)),
                m = n(19288),
                v = a(n(92546)),
                g = a(n(5029)),
                _ = n(1577),
                x = n(3298),
                C = n(4099),
                y = a(n(8995)),
                S = a(n(57811)),
                b = a(n(39394)),
                j = a(n(15663)),
                E = n(85893)
        },
        62340: (e, t, n) => {
            "use strict";
            var a = n(21314).default,
                r = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(n(319)),
                o = r(n(63038)),
                l = n(40787),
                u = n(48360),
                s = n(67294),
                d = (r(n(56720)), n(71988)),
                c = n(65901),
                f = n(53802),
                p = n(18070),
                h = n(41655),
                m = n(45438),
                v = r(n(57393)),
                g = r(n(63077)),
                _ = n(47576),
                x = n(3298),
                C = n(4099),
                y = r(n(7665)),
                S = n(92428),
                b = r(n(76080)),
                j = r(n(60806)),
                E = n(85893),
                k = {
                    btnDelete: {
                        position: "lhggkp7q",
                        top: "hdpg1tjz",
                        end: "ltcz4qz9",
                        zIndex: "mb8var44",
                        color: "k17s6i4e",
                        filter: "rhe1kc9j"
                    },
                    btnAdd: {
                        display: "p357zi0d",
                        flexDirection: "f8m0rgwh",
                        alignItems: "gndfcl4n",
                        justifyContent: "ac2vgrno",
                        width: "jkv2xdwy",
                        height: "sptw4ec9",
                        fontSize: "lak21jic",
                        fontWeight: "hnx8ox4h",
                        lineHeight: "gz7w46tb",
                        letterSpacing: "hql59cr1"
                    }
                };

            function w(e) {
                var t = e.images,
                    n = e.deleteImage;
                return t.filter((function(e) {
                    return e.mediaData
                })).map((function(e, t) {
                    return (0, E.jsxs)("div", {
                        className: g.default.imageTile,
                        children: [(0, E.jsx)(b.default, {
                            xstyle: k.btnDelete,
                            "aria-label": u.fbt._("Remove image number {imageNumber}", [u.fbt._param("imageNumber", t + 1)], {
                                hk: "11vQtK"
                            }),
                            a8nText: "delete-image",
                            onClick: function() {
                                return n(e)
                            },
                            children: (0, E.jsx)(y.default, {
                                className: g.default.deleteIcon,
                                name: "x-alt"
                            })
                        }), (0, E.jsx)(_.ProductThumb, {
                            mediaData: e.mediaData,
                            className: g.default.imageThumb
                        })]
                    }, e.mediaData.filehash)
                }))
            }

            function T(e) {
                var t = e.inputRef,
                    n = e.handleFilePick;
                return (0, E.jsx)("input", {
                    ref: t,
                    type: "file",
                    accept: m.IMAGE_MIMES,
                    style: {
                        display: "none"
                    },
                    onChange: n,
                    multiple: !0
                })
            }

            function I(e) {
                var t = e.onAddFileClick;
                return (0, E.jsx)("div", {
                    className: g.default.btnAddContainer,
                    children: (0, E.jsxs)(b.default, {
                        xstyle: k.btnAdd,
                        "aria-label": u.fbt._("Add additional image", null, {
                            hk: "1zIuu3"
                        }),
                        onClick: t,
                        a8nText: "add-image",
                        children: [(0, E.jsx)(y.default, {
                            name: "camera"
                        }), (0, E.jsx)("div", {
                            className: g.default.btnAddText,
                            children: u.fbt._("Add Images", null, {
                                hk: "3yrGBr"
                            })
                        })]
                    })
                })
            }

            function P(e) {
                var t = e.error;
                return (0, E.jsx)("div", {
                    className: g.default.errorMessage,
                    role: "alert",
                    children: t
                })
            }

            function M(e, t) {
                var n = e.maxImageCount,
                    r = e.onChange,
                    _ = e.error,
                    y = e.product,
                    b = (0, s.useRef)(null),
                    k = (0, s.useState)((function() {
                        return y.productImageCollection.filter((function(e) {
                            return !e.old
                        })).map((function(e) {
                            return {
                                url: e.mediaUrl,
                                mediaData: e.mediaData
                            }
                        }))
                    })),
                    M = (0, o.default)(k, 2),
                    O = M[0],
                    L = M[1],
                    A = function(e) {
                        e.mediaPrep.waitForPrep().then((function(t) {
                            if (function(e) {
                                    return !(O.filter((function(t) {
                                        return t.mediaData.filehash === e.filehash
                                    })).length > 0 && (c.Cmd.openToast((0, E.jsx)(S.Toast, {
                                        id: (0, S.genId)(),
                                        msg: u.fbt._("Two or more images are the same. Delete any duplicates and try again.", null, {
                                            hk: "3qIMS6"
                                        })
                                    })), 1))
                                }(t)) {
                                t.mediaStage = h.MEDIA_DATA_STAGE.RESOLVED, t.renderableUrl = e.fullPreview;
                                var n = t.mediaBlob;
                                !n || n instanceof v.default || v.default.createFromData(n, n.type).then((function(e) {
                                    t.mediaBlob = e
                                }));
                                var a = [].concat((0, i.default)(O), [{
                                    url: null,
                                    mediaData: t
                                }]);
                                L(a), null == r || r(a)
                            }
                        }))
                    },
                    D = function(e) {
                        (0, f.getFiles)(e, m.IMAGE_MIMES).then((function(e) {
                            var t = n - O.length;
                            e.length > t && c.Cmd.openToast((0, E.jsx)(S.Toast, {
                                msg: u.fbt._("You've reached the maximum number of images to add.", null, {
                                    hk: "2ra3Nx"
                                }),
                                duration: 6e3,
                                action: {
                                    onAction: function() {},
                                    actionText: u.fbt._("GOT IT", null, {
                                        hk: "175geM"
                                    }),
                                    dismiss: !0,
                                    theme: "success"
                                },
                                id: (0, S.genId)()
                            })), e.slice(0, n - O.length).map((function(e) {
                                return {
                                    file: e,
                                    filename: e.name,
                                    mimetype: e.type,
                                    type: l.MSG_TYPE.PRODUCT
                                }
                            })).map((function(e) {
                                var t, n = new d.AttachMedia({
                                    file: a.resolve(e)
                                });
                                return null === (t = n.processPromise) || void 0 === t ? void 0 : t.then((function() {
                                    A(n)
                                }))
                            }))
                        })), e.target.value && (e.target.value = "")
                    },
                    R = function() {
                        var e = O.filter((function(e) {
                            return null == e.url
                        })).length;
                        x.QPL.markerAnnotate(C.QuickLogMarkerId.WHATSAPP_PRODUCT_SAVE, {
                            int: {
                                ImagesCount: e
                            }
                        }), x.QPL.markerPoint(C.QuickLogMarkerId.WHATSAPP_PRODUCT_SAVE, "images_upload_start");
                        var t = O.filter((function(e) {
                            return null == e.url
                        })).map((function(e) {
                            var t = e.mediaData,
                                n = t.mediaBlob,
                                a = t.filehash;
                            return n instanceof v.default ? (0, p.uploadProductImage)(n, a).then((function(t) {
                                e.url = t
                            })) : null
                        })).filter(Boolean);
                        return a.all(t).then((function() {
                            return x.QPL.markerPoint(C.QuickLogMarkerId.WHATSAPP_PRODUCT_SAVE, "images_upload_end"), O.map((function(e) {
                                return e.url || ""
                            }))
                        }))
                    };
                return (0, s.useImperativeHandle)(t, (function() {
                    return {
                        uploadImages: R,
                        handleFilePick: D
                    }
                })), (0, E.jsxs)("div", {
                    className: g.default.panel,
                    children: [(0, E.jsxs)("div", {
                        className: g.default.tileContainer,
                        children: [(0, E.jsxs)(j.default, {
                            transitionAppear: !0,
                            transitionName: "thumb-scale-flex",
                            children: [(0, E.jsx)(w, {
                                images: O,
                                deleteImage: function(e) {
                                    var t = O.filter((function(t) {
                                        return t !== e
                                    }));
                                    L(t), null == r || r(t)
                                }
                            }), O.length < n ? (0, E.jsx)(I, {
                                onAddFileClick: function() {
                                    b.current && b.current.click()
                                }
                            }) : null]
                        }), (0, E.jsx)(T, {
                            inputRef: b,
                            handleFilePick: D
                        })]
                    }), (0, E.jsx)(P, {
                        error: _
                    })]
                })
            }
            var O = (0, s.forwardRef)(M);
            t.default = O
        },
        80567: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, n = e.flatListController,
                    a = e.onProductDetail,
                    y = e.productMessageList,
                    S = y.productCollection.getProductModels(),
                    b = y.getSections(),
                    j = y.getSectionsCount() > 0,
                    E = y.getTotalProductsFetchedOrFailed(),
                    k = y.getProductSize() === E && 0 === S.length,
                    w = [];
                b.forEach((function(e, t) {
                    var n = e.title,
                        a = e.products,
                        r = [];
                    a.forEach((function(e) {
                        var n = e.productId,
                            a = S.find((function(e) {
                                return e.id === n
                            }));
                        null != a && r.push({
                            itemKey: `section-${t}-${a.id.toString()}`,
                            product: a,
                            type: "product",
                            height: l.PRODUCT_LIST_ITEM_HEIGHT
                        })
                    })), r.length > 0 && (null != n && "" !== n && w.push({
                        itemKey: `header-${t}-${n}`,
                        label: n,
                        type: "section",
                        height: 72
                    }), w.push.apply(w, r))
                }));
                var T = (0, o.useCallback)((function(e, t) {
                        return (0, f.logCatalogListDetailClick)({
                            product: (0, x.unproxy)(e),
                            catalogContext: t
                        }), (0, p.qplStartProductView)("PLM"), a(e)
                    }), [a]),
                    I = (0, o.useCallback)((function(e) {
                        var t = null;
                        switch (e.type) {
                            case "section":
                                var n = e.label;
                                t = (0, C.jsx)(_.default, {
                                    header: n
                                });
                                break;
                            case "product":
                                var a = e.product;
                                t = (0, C.jsx)(s.DrawerContext.Consumer, {
                                    children: function(e) {
                                        return (0, C.jsx)(m.default, {
                                            product: a,
                                            onClick: function() {
                                                return T(a, (0, h.getProductCatalogContext)(e))
                                            },
                                            canManageCatalog: !1
                                        })
                                    }
                                })
                        }
                        return t
                    }), [T]);
                return (0, o.useEffect)((function() {
                    k && u.Cmd.openModal((0, C.jsx)(g.default, {
                        onConfirm: function() {
                            u.Cmd.closeDrawerRight(), u.Cmd.closeModal()
                        }
                    }))
                }), [k]), (0, C.jsx)("div", {
                    className: (0, i.default)((t = {}, (0, r.default)(t, v.default.list, !0), (0, r.default)(t, v.default.noSections, !j), t)),
                    children: (0, C.jsx)(c.default, {
                        flatListControllers: [n],
                        children: (0, C.jsx)(d.FlatList, {
                            flatListController: n,
                            direction: "vertical",
                            forceConsistentRenderCount: !1,
                            data: w,
                            renderItem: I,
                            itemEnterAnimationsEnabled: !0
                        })
                    })
                })
            };
            var r = a(n(59713)),
                i = a(n(94184)),
                o = n(67294),
                l = n(66419),
                u = n(65901),
                s = n(96706),
                d = n(73568),
                c = a(n(23803)),
                f = n(56264),
                p = n(56003),
                h = n(52867),
                m = a(n(99262)),
                v = a(n(60197)),
                g = a(n(19655)),
                _ = a(n(44533)),
                x = n(68220),
                C = n(85893)
        },
        80270: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.ProductMessageListDrawer = function(e) {
                var t = e.productListId,
                    n = e.setScrollOffset,
                    a = e.onCartClick,
                    F = e.onProductDetail,
                    B = (0, R.default)(),
                    U = (0, L.default)((function() {
                        return new y.default
                    })),
                    G = (0, s.useContext)(v.DrawerContext),
                    H = (0, D.useModelValues)(e.contact, ["id"]),
                    W = (0, s.useState)(!1),
                    V = (0, o.default)(W, 2),
                    z = V[0],
                    q = V[1],
                    K = (0, s.useState)(0),
                    Y = (0, o.default)(K, 2),
                    Q = Y[0],
                    X = Y[1],
                    Z = (0, s.useState)(!1),
                    J = (0, o.default)(Z, 2),
                    $ = J[0],
                    ee = J[1],
                    te = (0, s.useState)((function() {
                        return T.ProductMessageListCollection.get(t)
                    })),
                    ne = (0, o.default)(te, 2),
                    ae = ne[0],
                    re = ne[1],
                    ie = (0, s.useState)((function() {
                        return d.CartCollection.findCart(H.id.toString())
                    })),
                    oe = (0, o.default)(ie, 1)[0],
                    le = (0, s.useState)(oe.itemCount),
                    ue = (0, o.default)(le, 2),
                    se = ue[0],
                    de = ue[1],
                    ce = (0, s.useState)(!1),
                    fe = (0, o.default)(ce, 2),
                    pe = fe[0],
                    he = fe[1],
                    me = (0, s.useState)(ae ? "SUCCESS" : "NONE"),
                    ve = (0, o.default)(me, 2),
                    ge = ve[0],
                    _e = ve[1],
                    xe = function(n) {
                        var a = e.isPushed,
                            r = (void 0 === a || a) && !0 === n,
                            i = T.ProductMessageListCollection.assertGet(t),
                            o = i.getTotalProductsFetchedOrFailed(),
                            l = i.getProductSize();
                        if ($ || o === l) return r && (P.QPL.markerAnnotate(M.QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW, {
                            int: {
                                ProductsCount: o
                            }
                        }), P.QPL.markerEnd(M.QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW, P.QuickLogActionType.SUCCESS)), void ee(!0);
                        q(!0), X(o);
                        var u = r ? M.QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW : void 0;
                        T.ProductMessageListCollection.update(t, {
                            markerId: u
                        }).then((function(e) {
                            if (B.aborted) r && P.QPL.markerDrop(M.QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW);
                            else {
                                q(!1);
                                var t = (Array.isArray(e) ? e[0] : e).getTotalProductsFetchedOrFailed();
                                t === Q && ee(!0), r && (P.QPL.markerAnnotate(M.QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW, {
                                    int: {
                                        ProductsCount: t
                                    }
                                }), P.QPL.markerEnd(M.QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW, P.QuickLogActionType.SUCCESS)), o * f.PRODUCT_LIST_ITEM_HEIGHT < window.innerHeight && xe()
                            }
                        })).catch((function() {
                            q(!1), ee(!0), r && P.QPL.markerEnd(M.QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW, P.QuickLogActionType.FAIL)
                        }))
                    },
                    Ce = function() {
                        var n = (0, i.default)(r.default.mark((function n() {
                            var a, i, o;
                            return r.default.wrap((function(n) {
                                for (;;) switch (n.prev = n.next) {
                                    case 0:
                                        return a = e.isPushed, i = void 0 === a || a, n.prev = 1, n.next = 4, T.ProductMessageListCollection.find(t);
                                    case 4:
                                        if (o = n.sent, !B.aborted) {
                                            n.next = 8;
                                            break
                                        }
                                        return i && P.QPL.markerDrop(M.QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW), n.abrupt("return");
                                    case 8:
                                        re(o), _e("SUCCESS"), xe(!0), n.next = 17;
                                        break;
                                    case 13:
                                        n.prev = 13, n.t0 = n.catch(1), (0, x.parseErrorState)(n.t0, (function(e) {
                                            return _e(e)
                                        })), i && P.QPL.markerEnd(M.QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW, P.QuickLogActionType.FAIL);
                                    case 17:
                                    case "end":
                                        return n.stop()
                                }
                            }), n, null, [
                                [1, 13]
                            ])
                        })));
                        return function() {
                            return n.apply(this, arguments)
                        }
                    }();
                (0, s.useEffect)((function() {
                    ae ? xe() : Ce(), (0, p.default)(H.id).then((function(e) {
                        B.aborted || he(e)
                    }))
                }), []), (0, A.useListener)(oe, "all", (function() {
                    de(oe.itemCount)
                }));
                var ye = function() {
                    (0, j.qplStartCartView)("PLM"), null == a || a(H.id.toString())
                };
                return (0, N.jsxs)(h.default, {
                    theme: "products",
                    onDrop: e.onBack,
                    children: [(0, N.jsx)(g.DrawerHeader, {
                        title: (0, N.jsx)("div", {
                            className: I.default.title,
                            children: (0, N.jsx)(_.EmojiText, {
                                text: null == ae ? void 0 : ae.title,
                                ellipsify: !0
                            })
                        }),
                        type: g.DRAWER_HEADER_TYPE.SMALL,
                        onBack: e.onBack,
                        menu: function() {
                            if (null == a || !pe) return null;
                            var e = (0, O.isNumber)(se) && se > 0 ? se.toString() : void 0,
                                t = (0, b.getOnCartClickWithLog)(ye, H.id.toString(), (0, k.getProductCatalogContext)(G));
                            return (0, N.jsx)(E.MenuBarItem, {
                                a8nText: "menu-bar-cart-link",
                                icon: (0, N.jsx)(c.default, {
                                    theme: "inherit-color"
                                }),
                                text: e,
                                title: u.fbt._("Your cart", null, {
                                    hk: "Sn66V"
                                }),
                                onClick: t
                            })
                        }()
                    }), (0, N.jsx)(m.default, {
                        onScroll: function(e) {
                            var t;
                            t = e.currentTarget, z || t.scrollTop + l.SCROLL_FUDGE > t.scrollHeight - t.clientHeight && xe(), null == n || n(e.currentTarget.scrollTop)
                        },
                        flatListControllers: [U.current],
                        scrollOffset: e.scrollOffset,
                        children: ae ? (0, N.jsx)(N.Fragment, {
                            children: (0, N.jsxs)("div", {
                                children: [(0, N.jsx)(w.default, {
                                    productMessageList: ae,
                                    flatListController: U.current,
                                    onProductDetail: F
                                }), z && (0, N.jsx)(S.default, {})]
                            })
                        }) : (0, N.jsx)(C.default, {
                            fetchState: ge
                        })
                    })]
                })
            };
            var r = a(n(87757)),
                i = a(n(48926)),
                o = a(n(63038)),
                l = n(80965),
                u = n(48360),
                s = n(67294),
                d = n(2133),
                c = a(n(18496)),
                f = n(66419),
                p = a(n(38345)),
                h = a(n(53187)),
                m = a(n(18345)),
                v = n(96706),
                g = n(19288),
                _ = n(73008),
                x = n(23519),
                C = a(n(22426)),
                y = a(n(92546)),
                S = a(n(5029)),
                b = n(71072),
                j = n(56003),
                E = n(91823),
                k = n(52867),
                w = a(n(80567)),
                T = n(31204),
                I = a(n(76624)),
                P = n(3298),
                M = n(4099),
                O = n(82118),
                L = a(n(39394)),
                A = n(8413),
                D = n(69283),
                R = a(n(1379)),
                N = n(85893)
        },
        19655: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onConfirm;
                return (0, l.jsx)(i.default, {
                    onOK: t,
                    okText: r.fbt._("OK", null, {
                        hk: "2KEeHb"
                    }),
                    children: (0, l.jsx)(o.EmojiText, {
                        text: r.fbt._("Items in this message are no longer available", null, {
                            hk: "1MclQl"
                        })
                    })
                })
            };
            var r = n(48360),
                i = a(n(86777)),
                o = n(73008),
                l = n(85893)
        },
        5457: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(63038)),
                i = a(n(272)),
                o = n(48360),
                l = n(67294),
                u = n(72743),
                s = n(64803),
                d = a(n(9451)),
                c = n(85893),
                f = function(e, t) {
                    var n = (0, l.useState)(!1),
                        a = (0, r.default)(n, 2),
                        f = a[0],
                        p = a[1],
                        h = (0, l.useState)([]),
                        m = (0, r.default)(h, 2),
                        v = m[0],
                        g = m[1],
                        _ = (0, c.jsx)(d.default, {
                            disabled: !f,
                            onClick: function() {
                                var t, n = (0, i.default)(null === (t = v[0]) || void 0 === t ? void 0 : t.catalogWid, "products[0]?.catalogWid"),
                                    a = (0, i.default)(u.CatalogCollection.get(n), "CatalogCollection.get(catalogWid)");
                                e.onShare(a)
                            }
                        });
                    return (0, c.jsx)(s.SelectModal, {
                        ref: t,
                        title: o.fbt._("Send products", null, {
                            hk: "3C7pQj"
                        }),
                        onCancel: e.onCancel,
                        onConfirm: e.onConfirm,
                        listType: s.ListType.PRODUCT_SELECT_MODAL,
                        enableSearchBox: !1,
                        customHeader: _,
                        onSelectionChanged: function(e, t, n) {
                            p(0 === n.length)
                        },
                        onDataLoaded: function(e) {
                            var t = e;
                            g(t), p(t.length > 0)
                        }
                    })
                },
                p = (0, l.forwardRef)(f);
            t.default = p
        },
        9451: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.disabled ? l.default.disabled : "",
                    n = e.disabled ? null : e.onClick,
                    a = (0, s.jsx)("span", {
                        className: l.default.title,
                        children: r.fbt._("Send catalog", null, {
                            hk: "BiYcl"
                        })
                    }),
                    d = (0, s.jsx)(o.default, {
                        theme: "compact",
                        disabled: e.disabled,
                        children: (0, s.jsx)(u.default, {
                            name: "catalog"
                        })
                    });
                return (0, s.jsx)(i.default, {
                    image: d,
                    onClick: n,
                    primary: a,
                    theme: "list-button-compact",
                    className: t
                })
            };
            var r = n(48360),
                i = a(n(88186)),
                o = a(n(84287)),
                l = a(n(47500)),
                u = a(n(7665)),
                s = n(85893)
        },
        91884: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(84646)),
                i = a(n(88186)),
                o = n(10399),
                l = a(n(72430)),
                u = n(85893);
            t.default = function(e) {
                var t = e.title,
                    n = e.icon,
                    a = e.t,
                    s = null != a ? o.Clock.relativeDateAndTimeStr(a) : "-",
                    d = (0, u.jsxs)("div", {
                        className: l.default.title,
                        "data-a8n": r.default.key("msg-info-title"),
                        children: [n, t]
                    });
                return (0, u.jsx)(i.default, {
                    primary: d,
                    secondary: s,
                    theme: "plain",
                    idle: !0
                })
            }
        },
        76997: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = (0, u.useModelValues)(e.msg, ["numTimesForwarded", "isFrequentlyForwarded"]),
                    n = t.numTimesForwarded,
                    a = t.isFrequentlyForwarded;
                if (n <= 0 || a) return null;
                var d = (0, s.jsx)(o.default, {
                        name: "forwarded",
                        display: "inline",
                        className: i.default.icon
                    }),
                    c = r.default.t(470, {
                        count: n,
                        _plural: n
                    });
                return (0, s.jsxs)("div", {
                    className: i.default.title,
                    children: [d, (0, s.jsx)(l.TextSpan, {
                        theme: "title",
                        className: i.default.text,
                        children: c
                    })]
                })
            };
            var r = a(n(45159)),
                i = a(n(52904)),
                o = a(n(7665)),
                l = n(22552),
                u = n(69283),
                s = n(85893)
        },
        6080: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(319)),
                i = n(71857),
                o = n(48360),
                l = n(67294),
                u = a(n(56720)),
                s = a(n(23734)),
                d = n(97397),
                c = n(4481),
                f = n(65002),
                p = n(73568),
                h = n(32012),
                m = a(n(45159)),
                v = a(n(44533)),
                g = a(n(39916)),
                _ = a(n(39394)),
                x = a(n(3227)),
                C = n(85893),
                y = {
                    height: "ttegvvei",
                    overflowX: "gfz4du6o",
                    overflowY: "r7fjleex",
                    backgroundColor: "ihvf49ua"
                };

            function S(e, t) {
                var n = e.contacts,
                    a = e.frequentContacts,
                    S = e.onFocusSearch,
                    b = e.onClick,
                    j = e.showPersonGroupDivisionHeader,
                    E = (0, l.useRef)(null),
                    k = (0, _.default)((function() {
                        return new g.default([], (function(e) {
                            return e.id.toString()
                        }))
                    })),
                    w = function() {
                        k.current.setFirst(!0)
                    };
                (0, l.useImperativeHandle)(t, (function() {
                    return {
                        focusFirst: w
                    }
                }));
                var T, I, P = function(e, t) {
                        var n = (t ? f.FREQUENT_PREFIX : "") + e.id.toString();
                        if (e.isGroup) {
                            var a = c.ChatCollection.get(e.id);
                            return a ? {
                                itemKey: n,
                                data: a,
                                type: 3,
                                frequent: t
                            } : null
                        }
                        return {
                            itemKey: n,
                            data: e,
                            type: 2,
                            frequent: t
                        }
                    },
                    M = (0, l.useMemo)((function() {
                        var e = [];
                        return null == a || a.forEach((function(t) {
                            var n = P(t, !0);
                            n && e.push(n)
                        })), e
                    }), [a]),
                    O = (0, x.default)((function(e) {
                        if (0 === e.length) return [];
                        for (var t = e[0].isGroup ? "group" : "contact", n = [], a = e.length > 10, r = "XXX", i = 0; i < e.length; i++) {
                            var o = e[i];
                            if (a && o.header) {
                                var l = o.header;
                                if (l !== r) {
                                    var u = i < e.length - 1 && l !== e[i + 1].header;
                                    n.push({
                                        itemKey: `header-${t}-${l}`,
                                        data: l,
                                        separator: u,
                                        type: 1
                                    }), r = l
                                }
                            }
                            var s = P(o);
                            s && n.push(s)
                        }
                        return n
                    })),
                    L = (0, l.useMemo)((function() {
                        var t = [],
                            a = [],
                            i = [];
                        M.length && (t.push({
                            itemKey: "frequent-contacts-header",
                            type: 0
                        }), t.push.apply(t, (0, r.default)(M))), n.forEach((function(e) {
                            e.isGroup ? i.push(e) : a.push(e)
                        }));
                        var l, u = O(a),
                            s = O(i);
                        if (j && u.length > 0) {
                            var d = o.fbt._("Contacts", null, {
                                hk: "2jWpt9"
                            });
                            t.push({
                                itemKey: `header-${d.toString()}`,
                                data: d.toString(),
                                separator: !0,
                                type: 1
                            })
                        }(t.push.apply(t, (0, r.default)(u)), j && s.length > 0) && (l = !0 === e.isCommunityCreation ? o.fbt._("Groups you're an admin of", null, {
                            hk: "YrVyI"
                        }).toString() : o.fbt._("Groups", null, {
                            hk: "4bUoVs"
                        }).toString(), t.push({
                            itemKey: `header-${l}`,
                            data: l,
                            separator: !0,
                            type: 1
                        }));
                        return t.push.apply(t, (0, r.default)(s)), t
                    }), [n, M, O, j, e.isCommunityCreation]);
                return k.current.init((T = [], I = [], n.forEach((function(e) {
                    if (e.isGroup) {
                        var t = c.ChatCollection.get(e.id);
                        t && I.push(t)
                    } else T.push(e)
                })), (a || []).concat(T).concat(I))), (0, C.jsx)(h.HotKeys, {
                    onRef: function(e) {
                        E.current = e
                    },
                    handlers: {
                        down: function(e) {
                            e.preventDefault(), e.stopPropagation(), k.current.setNext(!0)
                        },
                        up: function(e) {
                            e.preventDefault(), e.stopPropagation();
                            var t = k.current;
                            t.prev() > -1 ? t.setPrev(!0) : (t.unset(), S(e))
                        }
                    },
                    onFocus: function(e) {
                        if (e.target === E.current) {
                            var t = k.current;
                            t.index < 0 ? w() : t.reset(!0)
                        }
                    },
                    "data-tab": i.TAB_ORDER.CHAT_CONTACT_LIST,
                    "data-testid": "contact-list-key",
                    children: (0, C.jsx)(p.FlatList, {
                        data: L,
                        renderItem: function(t) {
                            switch (t.type) {
                                case 0:
                                    return (0, C.jsx)(v.default, {
                                        header: m.default.t(883)
                                    }, "frequent-contacts-header");
                                case 3:
                                    return function(t, n) {
                                        return !0 === e.disabled ? (0, C.jsx)(d.Chat, {
                                            chat: t,
                                            mode: d.Mode.INFO,
                                            noContext: !0,
                                            frequent: n,
                                            theme: "disabled"
                                        }) : (0, C.jsx)(d.Chat, {
                                            active: k.current,
                                            chat: t,
                                            mode: d.Mode.INFO,
                                            noContext: !0,
                                            onClick: b,
                                            frequent: n
                                        })
                                    }(t.data, t.frequent);
                                case 2:
                                    var n = t.data,
                                        a = t.frequent;
                                    return c = a, (l = n).isBlocked() && (h = o.fbt._("Contact is blocked", null, {
                                        hk: "284Coh"
                                    })), (0, C.jsx)(f.Contact, {
                                        active: k.current,
                                        contact: l,
                                        onClick: b,
                                        secondary: h,
                                        frequent: c,
                                        waitIdle: !0
                                    });
                                case 1:
                                    var r = t.data,
                                        i = t.separator;
                                    return (0, C.jsxs)("div", {
                                        className: (0, u.default)(y),
                                        children: [i ? (0, C.jsx)(s.default, {}, `separator-${r}`) : null, (0, C.jsx)(v.default, {
                                            header: r
                                        })]
                                    });
                                default:
                                    throw new p.UnknownDataError(t)
                            }
                            var l, c, h
                        },
                        flatListController: e.flatListController,
                        direction: "vertical"
                    })
                })
            }
            var b = (0, l.forwardRef)(S);
            t.default = b
        },
        98755: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(35161)),
                i = n(67294),
                o = n(65002),
                l = n(32012),
                u = a(n(45159)),
                s = a(n(39916)),
                d = a(n(39394)),
                c = n(85893);

            function f(e, t) {
                var n = e.contacts,
                    a = e.onFocusSearch,
                    f = e.onDelete,
                    p = (0, d.default)((function() {
                        return new s.default(n, (function(e) {
                            return e.id.toString()
                        }))
                    })),
                    h = function() {
                        (null == n ? void 0 : n.length) && p.current.setLast(!0)
                    },
                    m = function(e) {
                        e.preventDefault(), e.stopPropagation(), p.current.prev() > -1 && p.current.setPrev(!0)
                    },
                    v = function(e) {
                        e.preventDefault(), e.stopPropagation();
                        var t = p.current.next();
                        p.current.index === t ? (p.current.unset(), a && a(e)) : p.current.setNext(!0)
                    },
                    g = function(e, t) {
                        p.current.setVal(t)
                    };
                if ((0, i.useEffect)((function() {
                        p.current.init(n, !0)
                    }), [n, p]), (0, i.useImperativeHandle)(t, (function() {
                        return {
                            focusLast: h
                        }
                    })), !n) return null;
                var _ = n.length ? (0, r.default)(n, (function(t) {
                        return (0, c.jsx)(o.Contact, {
                            contact: t,
                            active: p.current,
                            onDelete: e.onDelete,
                            onClick: g,
                            type: o.Type.SMALL,
                            theme: e.theme,
                            waitIdle: !0
                        }, t.id.toString())
                    })) : null,
                    x = {
                        up: m,
                        down: v
                    };
                e.onDelete && (x[u.default.LR("left", "right")] = m, x[u.default.LR("right", "left")] = v, x.backspace = function(e) {
                    e.preventDefault(), e.stopPropagation();
                    var t = p.current.getVal();
                    if (t) {
                        var a = n.find((function(e) {
                            return e === t
                        }));
                        a && f && f(e, a)
                    }
                });
                var C = (0, c.jsx)("ul", {
                    children: _
                });
                return (0, c.jsx)(l.HotKeys, {
                    handlers: x,
                    children: C
                })
            }
            var p = (0, i.forwardRef)(f);
            t.default = p
        },
        99633: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, n, a = e.ids,
                    s = e.size,
                    d = e.onClick,
                    c = e.showCount,
                    f = e.square,
                    p = e.border,
                    h = a.length;
                if (0 === h) return null;
                if (1 === h) return (0, u.jsx)(l.DetailImage, {
                    id: a[0],
                    size: 40,
                    onClick: d,
                    border: p
                });
                var m = a.slice(0, 4).map((function(e, t) {
                        var n;
                        return (0, u.jsx)("div", {
                            className: (0, i.default)(o.default.avatar, (n = {}, (0, r.default)(n, o.default.first, 0 === t), (0, r.default)(n, o.default.second, 1 === t), (0, r.default)(n, o.default.third, 2 === t), (0, r.default)(n, o.default.fourth, 3 === t), n)),
                            children: (0, u.jsx)(l.DetailImage, {
                                id: e,
                                size: s,
                                square: !0
                            })
                        }, `avatar-combo-image-${t}`)
                    })),
                    v = (0, i.default)(o.default.container, (t = {}, (0, r.default)(t, o.default.square, f), (0, r.default)(t, o.default.border, p), t), (n = {}, (0, r.default)(n, o.default.two, 2 === h), (0, r.default)(n, o.default.three, 3 === h), (0, r.default)(n, o.default.four, h >= 4), n)),
                    g = (0, l.getSize)(s),
                    _ = {
                        height: g,
                        width: g,
                        cursor: d ? "pointer" : void 0
                    },
                    x = c ? (0, u.jsx)("div", {
                        className: o.default.count,
                        style: _,
                        children: a.length
                    }) : null;
                return (0, u.jsxs)("div", {
                    className: v,
                    style: _,
                    onClick: d,
                    children: [m, x]
                })
            };
            var r = a(n(59713)),
                i = a(n(94184)),
                o = a(n(23167)),
                l = n(66834),
                u = n(85893)
        },
        2210: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.AvatarOverlay = function(e) {
                return (0, o.jsxs)("div", {
                    className: (0, i.default)([u.overlay, e.theme === l.Community && u.noBorderRadius]),
                    children: [(0, o.jsx)("div", {
                        className: (0, i.default)(u.icon),
                        children: e.icon
                    }), (0, o.jsx)("div", {
                        "data-a8n": r.default.key("avatar-text"),
                        className: (0, i.default)(u.text),
                        children: e.text
                    })]
                }, "avatar-overlay")
            }, t.AvatarOverlayTheme = void 0;
            var r = a(n(84646)),
                i = a(n(56720)),
                o = n(85893),
                l = n(76672).Mirrored(["DEFAULT", "Community"]);
            t.AvatarOverlayTheme = l;
            var u = {
                overlay: {
                    position: "lhggkp7q",
                    top: "qq0sjtgm",
                    start: "tkdu00h0",
                    zIndex: "ercejckq",
                    boxSizing: "cm280p3y",
                    display: "p357zi0d",
                    flexDirection: "f8m0rgwh",
                    alignItems: "gndfcl4n",
                    justifyContent: "ac2vgrno",
                    width: "ln8gz9je",
                    height: "ppled2lx",
                    paddingTop: "pxvlsfnc",
                    fontSize: "ovllcyds",
                    lineHeight: "tkq7s68q",
                    color: "k239c91b",
                    textTransform: "ofejerhi",
                    backgroundColor: "epdck8xl",
                    borderTopStartRadius: "g9p5wyxn",
                    borderTopEndRadius: "i0tg5vk9",
                    borderBottomEndRadius: "aoogvgrq",
                    borderBottomStartRadius: "o2zu3hjb"
                },
                noBorderRadius: {
                    borderTopStartRadius: "bi2mdrpt",
                    borderTopEndRadius: "hsk1pqkj",
                    borderBottomEndRadius: "e3yfz9gx",
                    borderBottomStartRadius: "a0vc5f8u"
                },
                icon: {
                    color: "k17s6i4e"
                },
                text: {
                    width: "gbtdc75f",
                    marginTop: "opp68qpq",
                    textAlign: "qfejxiq4",
                    overflowWrap: "fd365im1"
                }
            }
        },
        53473: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(81109)),
                i = a(n(6479)),
                o = n(67294),
                l = a(n(56720)),
                u = n(85893),
                s = ["breakpoint", "inverseToContainer", "maxWidth", "minWidth", "xstyle"],
                d = {
                    boxSizing: "cm280p3y",
                    flexShrink: "oq44ahr5",
                    position: "g0rxnol2"
                };

            function c(e, t) {
                var n = e.breakpoint,
                    a = e.inverseToContainer,
                    o = void 0 !== a && a,
                    c = e.maxWidth,
                    f = e.minWidth,
                    p = e.xstyle,
                    h = (0, i.default)(e, s);
                return (0, u.jsx)("div", (0, r.default)((0, r.default)({}, h), {}, {
                    className: (0, l.default)(d, p),
                    ref: t,
                    style: {
                        maxWidth: c,
                        minWidth: f,
                        width: o ? `calc((${n}px - 100%) * 9999)` : `calc((100% - ${n-.1}px) * 9999)`
                    }
                }))
            }
            var f = (0, o.forwardRef)(c);
            t.default = f
        },
        32784: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.children,
                    n = e.download,
                    a = e.file,
                    u = e.extension;
                return (0, o.jsx)(i.default, {
                    xstyle: l.button,
                    onClick: function() {
                        null != a && r.FileSaver.downloadData(a, n, u)
                    },
                    children: t
                })
            };
            a(n(56720));
            var r = n(76151),
                i = a(n(76080)),
                o = n(85893),
                l = {
                    button: {
                        display: "f804f6gw"
                    }
                }
        },
        95081: (e, t, n) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 200,
                    t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : window,
                    n = (0, a.useRef)(null);
                (0, r.useListener)(t, "mousedown", (function() {
                    n.current = performance.now()
                })), (0, r.useListener)(t, "mouseup", (function() {
                    n.current = null
                }));
                var i = (0, a.useCallback)((function() {
                    var t = n.current;
                    return null != t && performance.now() - t >= e
                }), [e]);
                return i
            };
            var a = n(67294),
                r = n(8413)
        },
        11122: (e, t, n) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = (0, a.useRef)(null),
                    n = (0, a.useRef)(!1);
                return (0, a.useEffect)((function() {
                    if (null != e) {
                        var a = "PointerEvent" in window;
                        return a ? (document.addEventListener("pointerdown", i), document.addEventListener("pointermove", o), document.addEventListener("pointerup", l)) : document.addEventListener("click", u),
                            function() {
                                a ? (document.removeEventListener("pointerdown", i), document.removeEventListener("pointermove", o), document.removeEventListener("pointerup", l)) : document.removeEventListener("click", u)
                            }
                    }

                    function r(e) {
                        var n = t.current;
                        return !!n && (e instanceof Node && !n.contains(e))
                    }

                    function i(e) {
                        if (e.isPrimary) {
                            var t = r(e.target);
                            n.current = t
                        }
                    }

                    function o(e) {
                        "touch" !== e.pointerType && "pen" !== e.pointerType || (n.current = !1)
                    }

                    function l(t) {
                        var a = r(t.target);
                        n.current && a && t.isPrimary && e(t), n.current = !1
                    }

                    function u(t) {
                        r(t.target) && e(t)
                    }
                }), [e]), t
            };
            var a = n(67294)
        },
        27216: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.useSendIq = function(e, t) {
                var n = (0, i.useState)(!1),
                    a = (0, r.default)(n, 2),
                    l = a[0],
                    u = a[1];
                return [l, function() {
                    return u(!0), (0, o.sendIq)(e, t).finally((function() {
                        return u(!1)
                    }))
                }]
            };
            var r = a(n(63038)),
                i = n(67294),
                o = n(34733)
        },
        42787: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e, t) {
                var n = (0, o.default)(t),
                    a = (0, i.useState)(e),
                    l = (0, r.default)(a, 2),
                    u = l[0],
                    s = l[1],
                    d = (0, i.useCallback)((function() {
                        return s((function(e) {
                            var t = !e;
                            return n(t), t
                        }))
                    }), [n]);
                return [u, d]
            };
            var r = a(n(63038)),
                i = n(67294),
                o = a(n(3227))
        },
        5282: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(59713)),
                i = a(n(63038)),
                o = a(n(35161)),
                l = a(n(272)),
                u = a(n(22060)),
                s = a(n(11845)),
                d = n(80965),
                c = n(71857),
                f = a(n(94184)),
                p = n(48360),
                h = n(67294),
                m = n(32012),
                v = a(n(15922)),
                g = n(34238),
                _ = a(n(98249)),
                x = a(n(39916)),
                C = n(85651),
                y = a(n(76080)),
                S = a(n(39394)),
                b = a(n(15663)),
                j = n(85893);

            function E(e, t) {
                var n = e.onImageClick,
                    a = e.isLoadingMore,
                    E = e.canLoadMore,
                    k = e.onRequestMoreImages,
                    w = e.onFocusPrev,
                    T = e.thumbnails,
                    I = (0, h.useRef)(null),
                    P = (0, S.default)((function() {
                        return new Map
                    })),
                    M = (0, h.useRef)(null),
                    O = (0, S.default)((function() {
                        return new x.default(T, (function(e) {
                            return e.id
                        }))
                    })),
                    L = (0, h.useState)(null),
                    A = (0, i.default)(L, 2),
                    D = A[0],
                    R = A[1],
                    N = (0, h.useCallback)((function() {
                        var e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                            t = O.current,
                            n = t.getVal();
                        if (n && D !== n && (R(n), t.index > -1)) {
                            var a = P.current.get(`${t.index}`);
                            s.default.focus(a), e && a && (0, g.scrollIntoViewIfNeeded)(a, !1)
                        }
                    }), [P, D, O]),
                    F = new _.default((function(e, t) {
                        t ? P.current.set(e, t) : P.current.delete(e)
                    })),
                    B = function(e) {
                        var t = e.target;
                        n && 1 === t.nodeType && "IMG" === t.tagName && n(t.src)
                    },
                    U = (0, h.useCallback)((function() {
                        if (!a && E && k) {
                            if (!I.current) throw new Error("Requesting more images when body not rendered");
                            I.current.scrollTop + d.SCROLL_FUDGE > I.current.scrollHeight - I.current.clientHeight && k()
                        }
                    }), [E, a, k]),
                    G = (0, b.default)(U, 100),
                    H = function() {
                        O.current.unset(), R(void 0)
                    };
                (0, h.useEffect)((function() {
                    U(), O.current.init(T, !1), N()
                }), [U, O, T, N]);
                var W = function() {
                    M.current && M.current.focus()
                };
                (0, h.useImperativeHandle)(t, (function() {
                    return {
                        focus: W,
                        handleRequestDismiss: H
                    }
                }));
                var V = (0, o.default)(e.thumbnails, (function(e, t) {
                        var n = e.id,
                            a = e.name,
                            i = e.thumbUrl,
                            o = !!D && D.id === n,
                            l = (0, f.default)(v.default.imageGalleryItem, (0, r.default)({}, v.default.selected, o)),
                            u = (0, j.jsx)("div", {
                                className: v.default.imageGalleryItemOverlay
                            });
                        return (0, j.jsxs)("div", {
                            ref: F.getRefSetter(`${t}`),
                            className: l,
                            tabIndex: -1,
                            children: [u, (0, j.jsx)(y.default, {
                                onClick: B,
                                children: (0, j.jsx)("img", {
                                    alt: p.fbt._("Result: {name}", [p.fbt._param("name", a)], {
                                        hk: "1u9YJJ"
                                    }),
                                    className: v.default.imageGalleryItemImage,
                                    src: i
                                })
                            })]
                        }, n)
                    })),
                    z = e.isLoadingMore ? (0, j.jsx)("div", {
                        tabIndex: -1,
                        className: v.default.imageGalleryFooter,
                        children: (0, j.jsx)(C.Spinner, {
                            stroke: 6,
                            size: 24
                        })
                    }) : null;
                return (0, j.jsx)(m.HotKeys, {
                    className: v.default.imageGallery,
                    "data-tab": c.TAB_ORDER.CHAT_IMAGE_GALLERY,
                    handlers: {
                        down: function(e) {
                            e.preventDefault(), e.stopPropagation(), O.current.set(O.current.index + 3, !1, !1), N(!0, !0)
                        },
                        enter: function() {
                            var e = O.current.getVal();
                            e || (__LOG__(4, void 0, new Error, !0)`Assertion failed!`, SEND_LOGS("No value selected, but enter clicked")), n && e && n(e.thumbUrl)
                        },
                        left: function(e) {
                            e.preventDefault(), e.stopPropagation(), O.current.setPrev(!1), N(!0, !0)
                        },
                        right: function(e) {
                            e.preventDefault(), e.stopPropagation(), O.current.setNext(!1), N(!0, !0)
                        },
                        up: function(e) {
                            if (e.preventDefault(), e.stopPropagation(), 0 === O.current.index && w) w();
                            else {
                                var t = Math.max(O.current.index - 3, 0);
                                O.current.set(t, !1, !1), N(!0, !0)
                            }
                        }
                    },
                    onFocus: function(e) {
                        e.stopPropagation(), e.preventDefault(), (null == O.current.index || O.current.index < 0) && O.current.setFirst(!1), N(!0, !1);
                        var t = (0, l.default)(P.current.get(`${O.current.index}`), "imagesRef.current.get(`${selectionRef.current.index}`)").getElementsByClassName(v.default.imageGalleryItemOverlay);
                        if (1 !== t.length) throw new Error(`Unexpected number of overlay elements ${t.length}`);
                        u.default.maybeIndicateFocus(t[0], v.default.focusAnimation)
                    },
                    onMouseDown: function(e) {
                        e.preventDefault(), e.stopPropagation()
                    },
                    onRef: function(e) {
                        M.current = e
                    },
                    children: (0, j.jsxs)("div", {
                        ref: I,
                        className: v.default.imageGalleryList,
                        onScroll: G,
                        children: [V, (0, j.jsx)("div", {
                            tabIndex: -1,
                            className: v.default.imageGalleryItemSpacer
                        }), (0, j.jsx)("div", {
                            tabIndex: -1,
                            className: v.default.imageGalleryItemSpacer
                        }), (0, j.jsx)("div", {
                            tabIndex: -1,
                            className: v.default.imageGalleryItemSpacer
                        }), z]
                    })
                })
            }
            var k = (0, h.forwardRef)(E);
            t.default = k
        },
        88175: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.KeyboardShortcut = function(e) {
                var t = e.action,
                    n = e.addModifiers,
                    a = void 0 === n || n,
                    d = (0, i.getShortcutKey)(t);
                if (!d) return null;
                var c, f = s(d);
                c = -1 === f.indexOf(u) ? (0, l.jsx)("span", {
                    className: r.default.key,
                    children: f
                }) : (0, l.jsxs)(l.Fragment, {
                    children: [(0, l.jsx)("span", {
                        className: r.default.key,
                        children: "Shift"
                    }), (0, l.jsx)("span", {
                        className: r.default.key,
                        children: f.substr(u.length)
                    })]
                });
                var p = a ? [o.UA.os === o.OS_TYPE.MAC ? "Cmd" : "Ctrl"].map((function(e) {
                    return (0, l.jsx)("span", {
                        className: r.default.key,
                        children: e
                    }, e)
                })) : null;
                return (0, l.jsxs)(l.Fragment, {
                    children: [p, c]
                })
            }, t.expandRawShortcut = s;
            var r = a(n(1906)),
                i = n(79459),
                o = n(692),
                l = n(85893),
                u = "Shift+";

            function s(e) {
                if (1 !== e.length) return e;
                switch (e) {
                    case ">":
                        return "Shift+.";
                    case "<":
                        return "Shift+,"
                }
                return e.toLowerCase() !== e ? `Shift+${e}` : e.toUpperCase()
            }
        },
        93646: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(63038)),
                i = n(67294),
                o = n(14154),
                l = function(e, t) {
                    var n = (0, o.useLottie)(e),
                        a = (0, r.default)(n, 2),
                        l = a[0],
                        u = a[1];
                    return (0, i.useImperativeHandle)(t, (function() {
                        return u
                    })), l
                },
                u = (0, i.forwardRef)(l);
            t.default = u
        },
        14154: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.Renderer = void 0, t.useLottie = function(e) {
                var t = e.autoplay,
                    n = void 0 !== t && t,
                    a = e.data,
                    c = e.direction,
                    f = void 0 === c ? 1 : c,
                    p = e.fallback,
                    h = void 0 === p ? null : p,
                    m = e.loop,
                    v = void 0 !== m && m,
                    g = e.path,
                    _ = e.placeholder,
                    x = void 0 === _ ? null : _,
                    C = e.renderer,
                    y = void 0 === C ? d.SVG : C,
                    S = e.speed,
                    b = void 0 === S ? 1 : S,
                    j = e.xstyle;
                (0, i.default)(null == a && null != g || null != a && null == g, "These opts are mutually exclusive");
                var E = (0, l.useRef)(),
                    k = (0, l.useRef)(),
                    w = (0, l.useState)(!0),
                    T = (0, r.default)(w, 2),
                    I = T[0],
                    P = T[1],
                    M = (0, l.useState)(!1),
                    O = (0, r.default)(M, 2),
                    L = O[0],
                    A = O[1],
                    D = (0, l.useCallback)((function() {
                        var e;
                        null === (e = E.current) || void 0 === e || e.play()
                    }), []),
                    R = (0, l.useCallback)((function() {
                        var e;
                        null === (e = E.current) || void 0 === e || e.stop()
                    }), []),
                    N = (0, l.useCallback)((function() {
                        var e;
                        null === (e = E.current) || void 0 === e || e.pause()
                    }), []),
                    F = (0, l.useCallback)((function(e, t) {
                        var n;
                        null === (n = E.current) || void 0 === n || n.goToAndPlay(e, t)
                    }), []),
                    B = (0, l.useCallback)((function(e, t) {
                        var n;
                        null === (n = E.current) || void 0 === n || n.goToAndStop(e, t)
                    }), []),
                    U = (0, l.useCallback)((function(e) {
                        var t;
                        null === (t = E.current) || void 0 === t || t.getDuration(e)
                    }), []);
                return (0, l.useEffect)((function() {
                    var e = o.default.loadAnimation({
                        container: k.current,
                        animationData: a,
                        path: g,
                        renderer: y,
                        loop: v,
                        autoplay: n
                    });
                    E.current = e;
                    var t = [{
                        name: "data_ready",
                        handler: function() {
                            return P(!1)
                        }
                    }, {
                        name: "data_failed",
                        handler: function() {
                            return A(!0)
                        }
                    }].map((function(t) {
                        return e.addEventListener(t.name, t.handler),
                            function() {
                                return e.removeEventListener(t.name, t.handler)
                            }
                    }));
                    return function() {
                        t.forEach((function(e) {
                            return e()
                        })), e.destroy()
                    }
                }), [a, g, y, v, n]), (0, l.useEffect)((function() {
                    var e;
                    null === (e = E.current) || void 0 === e || e.setSpeed(b)
                }), [b]), (0, l.useEffect)((function() {
                    var e;
                    null === (e = E.current) || void 0 === e || e.setDirection(f)
                }), [f]), [(0, s.jsxs)("div", {
                    className: (0, u.default)(j),
                    ref: k,
                    children: [I && !L ? x : null, L ? h : null]
                }), {
                    play: D,
                    stop: R,
                    pause: N,
                    goToAndPlay: F,
                    goToAndStop: B,
                    getDuration: U
                }]
            };
            var r = a(n(63038)),
                i = a(n(41143)),
                o = a(n(11248)),
                l = n(67294),
                u = a(n(56720)),
                s = n(85893),
                d = n(76672)({
                    SVG: "svg",
                    Canvas: "canvas"
                });
            t.Renderer = d
        },
        80233: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(67294),
                i = a(n(90474)),
                o = a(n(73016)),
                l = n(69283),
                u = n(23232),
                s = n(85893);

            function d(e, t) {
                var n = (0, r.useRef)(null),
                    a = (0, l.useModelValues)(e.chatPreference, ["wallpaperColor", "showDoodle"]);
                (0, r.useImperativeHandle)(t, (function() {
                    return {
                        get container() {
                            return n.current
                        }
                    }
                }));
                var d = a.wallpaperColor,
                    c = a.showDoodle,
                    f = {};
                return d !== u.DEFAULT_CHAT_WALLPAPER && (f = {
                    backgroundColor: d
                }), (0, s.jsx)("div", {
                    className: o.default.container,
                    ref: n,
                    children: (0, s.jsxs)("div", {
                        className: o.default.body,
                        style: f,
                        children: [(0, s.jsx)(i.default, {
                            wallpaperColor: d,
                            showDoodle: c
                        }), e.children]
                    })
                })
            }
            var c = (0, r.forwardRef)(d);
            t.default = c
        },
        94580: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(59713)),
                i = a(n(34575)),
                o = a(n(93913)),
                l = a(n(2205)),
                u = a(n(99842)),
                s = a(n(63105)),
                d = a(n(84646)),
                c = a(n(11845)),
                f = a(n(94184)),
                p = n(48360),
                h = n(67294),
                m = n(2210),
                v = a(n(60256)),
                g = n(65901),
                _ = a(n(86777)),
                x = n(20050),
                C = a(n(94513)),
                y = n(94680),
                S = a(n(60445)),
                b = n(50157),
                j = a(n(16556)),
                E = a(n(93531)),
                k = n(32012),
                w = a(n(89902)),
                T = a(n(22935)),
                I = a(n(45159)),
                P = function(e, t) {
                    if (!t && e && e.__esModule) return e;
                    if (null === e || "object" != typeof e && "function" != typeof e) return {
                        default: e
                    };
                    var n = V(t);
                    if (n && n.has(e)) return n.get(e);
                    var a = {},
                        r = Object.defineProperty && Object.getOwnPropertyDescriptor;
                    for (var i in e)
                        if ("default" !== i && Object.prototype.hasOwnProperty.call(e, i)) {
                            var o = r ? Object.getOwnPropertyDescriptor(e, i) : null;
                            o && (o.get || o.set) ? Object.defineProperty(a, i, o) : a[i] = e[i]
                        } a.default = e, n && n.set(e, a);
                    return a
                }(n(6006)),
                M = n(73454),
                O = a(n(58497)),
                L = a(n(37743)),
                A = a(n(49309)),
                D = a(n(40071)),
                R = n(85493),
                N = a(n(7665)),
                F = a(n(89647)),
                B = n(692),
                U = n(16835),
                G = a(n(93820)),
                H = a(n(60806)),
                W = n(85893);

            function V(e) {
                if ("function" != typeof WeakMap) return null;
                var t = new WeakMap,
                    n = new WeakMap;
                return (V = function(e) {
                    return e ? n : t
                })(e)
            }
            var z = function(e) {
                (0, l.default)(n, e);
                var t = (0, u.default)(n);

                function n() {
                    var e;
                    (0, i.default)(this, n);
                    for (var a = arguments.length, r = new Array(a), o = 0; o < a; o++) r[o] = arguments[o];
                    return (e = t.call.apply(t, [this].concat(r))).state = {
                        img: e.props.startImage,
                        hover: !1,
                        imageSize: null
                    }, e._setRefImageContainer = function(t) {
                        e._refImageContainer = t
                    }, e._setRefImageInput = function(t) {
                        e._refImageInput = t
                    }, e._handleUpload = function() {
                        var t = e._refImageInput;
                        if (t) return t.click(), !0
                    }, e._removeImage = function() {
                        e.props.onImageSet(), g.Cmd.closeModal()
                    }, e._handleRemove = function() {
                        var t;
                        switch (e.props.type) {
                            case A.default.GROUP:
                                t = I.default.t(718);
                                break;
                            case A.default.COMMUNITY:
                                t = p.fbt._("", null, {
                                    hk: "1jy3zx"
                                });
                                break;
                            case A.default.PROFILE:
                                t = I.default.t(721)
                        }
                        g.Cmd.openModal((0, W.jsx)(_.default, {
                            onOK: e._removeImage,
                            okText: I.default.t(717),
                            onCancel: function() {
                                return g.Cmd.closeModal()
                            },
                            cancelText: p.fbt._("Cancel", null, {
                                hk: "H0gNq"
                            }),
                            children: t
                        }))
                    }, e._handleView = function() {
                        var t = e._refImageContainer,
                            n = e.props,
                            a = n.id,
                            r = n.attachToChat;
                        if (t && a) {
                            var i = x.ContactCollection.assertGet(a),
                                o = {
                                    transition: "profile-viewer"
                                };
                            r && (o.uim = e.props.uim), g.Cmd.openModalMedia((0, W.jsx)(D.default, {
                                contact: i,
                                profilePicThumb: i.getProfilePicThumb(),
                                animateBorderRadius: !0,
                                getZoomNode: function(e) {
                                    e(t)
                                }
                            }), o)
                        }
                    }, e.handlePaste = function(t) {
                        if (e.state.contextMenu) {
                            var n = new C.default(t.clipboardData),
                                a = (0, s.default)(n.getFiles(), (function(e) {
                                    return "image" === (0, b.typeFromMimetype)(e.type)
                                }));
                            if (a.length) {
                                t.preventDefault(), t.stopPropagation(), e.closeContextMenu();
                                var r = a[0];
                                e._handleImagePick(r)
                            }
                        }
                    }, e.handleImageSelected = function(t) {
                        e.closeContextMenu();
                        var n = t.target.files[0];
                        if (!n) return !1;
                        e._handleImagePick(n), t.target.value = "", e._refImageContainer && c.default.focus(e._refImageContainer)
                    }, e._handleImageReceived = function(t, n) {
                        t ? P.loadImage(t).then((function() {
                            e.setState({
                                img: t
                            }), e.props.onImageSet(t, n)
                        })).catch((function(t) {
                            var n;
                            switch (__LOG__(3)`PhotoPicker:onImageReceived failed to load image: ${String(t)}`, e.props.type) {
                                case A.default.GROUP:
                                    n = I.default.t(62);
                                    break;
                                case A.default.COMMUNITY:
                                    n = p.fbt._("", null, {
                                        hk: "2CWmRt"
                                    });
                                    break;
                                case A.default.PROFILE:
                                    n = I.default.t(116)
                            }
                            g.Cmd.openModal((0, W.jsx)(_.default, {
                                onOK: function() {
                                    return g.Cmd.closeModal()
                                },
                                children: n
                            }))
                        })) : e.setState({
                            img: null,
                            imageSize: null
                        })
                    }, e.handleSearch = function() {
                        g.Cmd.openModal((0, W.jsx)(M.Modal, {
                            type: M.ModalTheme.Box,
                            children: (0, W.jsx)(w.default, {
                                onFinished: e._handleImageReceived
                            })
                        }))
                    }, e._handleImagePick = function(t) {
                        var n = URL.createObjectURL(t);
                        P.loadImage(n).then((function(n) {
                            n && (n.width < R.PROF_PIC_MIN_SIDE || n.height < R.PROF_PIC_MIN_SIDE) ? g.Cmd.openModal((0, W.jsx)(_.default, {
                                onOK: function() {
                                    return g.Cmd.closeModal()
                                },
                                children: I.default.t(709, {
                                    size: R.PROF_PIC_MIN_SIDE,
                                    _plural: R.PROF_PIC_MIN_SIDE
                                })
                            })) : g.Cmd.openModal((0, W.jsx)(M.Modal, {
                                type: M.ModalTheme.Box,
                                children: (0, W.jsx)(S.default, {
                                    img: t,
                                    onFinished: e._handleImageReceived,
                                    onRetake: e._handleUpload
                                })
                            }))
                        })).catch((function() {
                            var t;
                            switch (e.props.type) {
                                case A.default.GROUP:
                                    t = I.default.t(62);
                                    break;
                                case A.default.COMMUNITY:
                                    t = p.fbt._("", null, {
                                        hk: "2CWmRt"
                                    });
                                    break;
                                case A.default.PROFILE:
                                    t = I.default.t(116)
                            }
                            g.Cmd.openModal((0, W.jsx)(_.default, {
                                onOK: function() {
                                    return g.Cmd.closeModal()
                                },
                                children: t
                            }))
                        })).finally((function() {
                            URL.revokeObjectURL(n)
                        }))
                    }, e._createMenu = function() {
                        var t = [];
                        return e.props.id && e.state.img && t.push((0, W.jsx)(y.DropdownItem, {
                            a8n: "mi-view-photo",
                            action: e._handleView,
                            children: I.default.t(820)
                        }, "view")), j.default && t.push((0, W.jsx)(F.default, {
                            onImageTake: e._handleImageReceived
                        }, "take")), t.push((0, W.jsx)(y.DropdownItem, {
                            a8n: "mi-upload-photo",
                            action: e._handleUpload,
                            children: I.default.t(810)
                        }, "upload")), B.UA.isElectron && (e.props.type !== A.default.GROUP && e.props.type !== A.default.COMMUNITY || t.push((0, W.jsx)(y.DropdownItem, {
                            a8n: "mi-search-photo",
                            action: e.handleSearch,
                            children: p.fbt._("Web Search", null, {
                                hk: "3otQk8"
                            })
                        }, "search"))), e.state.img && t.push((0, W.jsx)(y.DropdownItem, {
                            a8n: "mi-remove-photo",
                            action: e._handleRemove,
                            children: I.default.t(720)
                        }, "remove")), t
                    }, e.handleImageKeypress = function() {
                        var t = e._createMenu();
                        e.setState({
                            contextMenu: {
                                menu: t,
                                anchor: e._refImageContainer
                            }
                        })
                    }, e.handleImageClick = function(t) {
                        if (e.props.readOnly) e.state.img && e._handleView();
                        else {
                            t.stopPropagation(), t.preventDefault();
                            var n = e._createMenu();
                            e.setState({
                                contextMenu: {
                                    menu: n,
                                    event: t
                                }
                            })
                        }
                    }, e.closeContextMenu = function() {
                        e.setState({
                            contextMenu: null
                        })
                    }, e.handleMouseOver = function() {
                        e.state.hover || e.setState({
                            hover: !0
                        })
                    }, e.handleMouseEnter = function() {
                        e.state.hover || e.setState({
                            hover: !0
                        })
                    }, e.handleMouseLeave = function() {
                        e.state.hover && e.setState({
                            hover: !1
                        })
                    }, e.handleLoad = function(t) {
                        var n = t.currentTarget.clientWidth,
                            a = t.currentTarget.clientHeight;
                        e.setState({
                            imageSize: {
                                width: n,
                                height: a
                            }
                        })
                    }, e
                }
                return (0, o.default)(n, [{
                    key: "_getContainerStyle",
                    value: function() {
                        return null != this.props.size ? {
                            width: this.props.size,
                            height: this.props.size
                        } : void 0
                    }
                }, {
                    key: "render",
                    value: function() {
                        var e, t;
                        this.state.img && (e = (0, W.jsx)(O.default, {
                            type: "cover",
                            size: this.state.imageSize,
                            children: (0, W.jsx)(T.default, {
                                src: this.state.img,
                                crossOrigin: !1,
                                style: {
                                    height: "100%",
                                    width: "100%"
                                },
                                onLoad: this.handleLoad
                            })
                        })), (this.props.pending || this.state.img && !this.state.imageSize) && (t = (0, W.jsx)(v.default, {}));
                        var n = null;
                        if (!this.props.pending && !this.props.readOnly && (!this.state.img || this.state.imageSize) && (!this.state.img || this.state.contextMenu || this.state.hover)) {
                            var a = "";
                            switch (this.props.type) {
                                case A.default.GROUP:
                                    a = this.state.img ? I.default.t(273) : I.default.t(138);
                                    break;
                                case A.default.COMMUNITY:
                                    a = this.state.img ? p.fbt._("", null, {
                                        hk: "2qce1Y"
                                    }) : p.fbt._("", null, {
                                        hk: "3suXp9"
                                    });
                                    break;
                                case A.default.PROFILE:
                                    a = this.state.img ? I.default.t(277) : I.default.t(139)
                            }
                            n = (0, W.jsx)(m.AvatarOverlay, {
                                icon: (0, W.jsx)(N.default, {
                                    name: "camera"
                                }),
                                text: a,
                                theme: this.props.type === A.default.COMMUNITY ? m.AvatarOverlayTheme.Community : m.AvatarOverlayTheme.DEFAULT
                            })
                        }
                        var i, o, l = this.props.pending || !this.state.imageSize && this.state.img ? function() {} : this.handleImageClick;
                        if (this.state.contextMenu && (i = (0, W.jsx)(U.UIE, {
                                displayName: "PhotoPickerContextMenu",
                                escapable: !0,
                                popable: !0,
                                requestDismiss: this.closeContextMenu,
                                children: (0, W.jsx)(G.default, {
                                    contextMenu: this.state.contextMenu
                                })
                            })), this.props.pending || !this.state.img || this.state.img && !this.state.imageSize) {
                            var u;
                            switch (this.props.type) {
                                case A.default.PROFILE:
                                    u = "default-user";
                                    break;
                                case A.default.COMMUNITY:
                                    u = "community-squircle";
                                    break;
                                default:
                                    u = "default-group"
                            }
                            o = (0, W.jsx)("div", {
                                className: L.default.defaultIcon,
                                children: (0, W.jsx)(N.default, {
                                    name: u
                                })
                            })
                        }
                        return (0, W.jsxs)(k.HotKeys, {
                            className: L.default.container,
                            style: this._getContainerStyle(),
                            handlers: {
                                space: this.handleImageKeypress,
                                enter: this.handleImageKeypress
                            },
                            children: [(0, W.jsxs)("div", {
                                className: (0, f.default)(L.default.body, (0, r.default)({}, L.default.squircleBackground, this.props.type === A.default.COMMUNITY)),
                                onClick: l,
                                onMouseOver: this.handleMouseOver,
                                onMouseEnter: this.handleMouseEnter,
                                onMouseLeave: this.handleMouseLeave,
                                onPaste: this.handlePaste,
                                onFocus: this.handleMouseEnter,
                                onBlur: this.handleMouseLeave,
                                ref: this._setRefImageContainer,
                                title: p.fbt._("Photo Picker", null, {
                                    hk: "3TURye"
                                }),
                                dir: "ltr",
                                tabIndex: 0,
                                role: "button",
                                "data-a8n": d.default.key(this.props.a8nText),
                                children: [(0, W.jsxs)("div", {
                                    className: L.default.imageContainer,
                                    children: [e, o]
                                }), (0, W.jsxs)(H.default, {
                                    transitionName: "fade",
                                    children: [t, n]
                                })]
                            }), (0, W.jsx)("input", {
                                ref: this._setRefImageInput,
                                type: "file",
                                accept: "image/gif,image/jpeg,image/jpg,image/png",
                                style: {
                                    display: "none"
                                },
                                onChange: this.handleImageSelected
                            }), i]
                        })
                    }
                }], [{
                    key: "getDerivedStateFromProps",
                    value: function(e) {
                        return e.startImage ? {
                            img: e.startImage
                        } : {
                            img: e.startImage,
                            imageSize: null
                        }
                    }
                }]), n
            }(h.Component);
            z.displayName = "PhotoPicker";
            var q = (0, E.default)(z);
            t.default = q
        },
        2011: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(59713)),
                i = a(n(94184)),
                o = n(80385),
                l = a(n(31113)),
                u = n(85893),
                s = function(e) {
                    var t = e.ariaLabel,
                        n = e.large,
                        a = e.a8nText,
                        s = e.onClick,
                        d = e.icon,
                        c = e.count,
                        f = e.disabled;
                    return (0, u.jsxs)("div", {
                        className: (0, i.default)(l.default.container, (0, r.default)({}, l.default.disabled, f)),
                        children: [(0, u.jsx)(o.Round, {
                            label: t,
                            large: n,
                            a8nText: a,
                            onClick: s,
                            disabled: f,
                            children: d
                        }), null != c && (0, u.jsx)("div", {
                            className: (0, i.default)(l.default.count, (0, r.default)({}, l.default.large, n)),
                            children: (0, u.jsx)("span", {
                                children: c
                            })
                        })]
                    })
                };
            t.default = s
        },
        6393: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(81109)),
                i = a(n(63038)),
                o = n(67294),
                l = n(65901),
                u = a(n(86777)),
                s = n(19288),
                d = a(n(45159)),
                c = n(73454),
                f = n(95317),
                p = n(85893);
            t.default = function(e) {
                var t = e.doSave,
                    n = e.afterSave,
                    a = e.isValid,
                    h = e.children,
                    m = e.modalConfig,
                    v = e.onError,
                    g = e.title,
                    _ = e.onCancel,
                    x = (0, o.useState)(f.EditType.EDITING),
                    C = (0, i.default)(x, 2),
                    y = C[0],
                    S = C[1],
                    b = (0, p.jsx)(s.DrawerHeader, {
                        title: g,
                        type: s.DRAWER_HEADER_TYPE.POPUP,
                        onCancel: function() {
                            l.Cmd.closeModal(), _ && _()
                        }
                    });
                return (0, p.jsx)(u.default, (0, r.default)({
                    children: h,
                    okText: d.default.t(729),
                    type: c.ModalTheme.Auto,
                    onOK: function() {
                        S(f.EditType.PENDING), t().then((function() {
                            S(f.EditType.DONE), n && n(), l.Cmd.closeModal()
                        }), (function(e) {
                            S(f.EditType.ERROR), v && v(e)
                        }))
                    },
                    okSpinner: y === f.EditType.PENDING,
                    okDisabled: y === f.EditType.PENDING || !a,
                    title: b
                }, m))
            }
        },
        14536: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(63038)),
                i = n(67294),
                o = a(n(56720)),
                l = n(32012),
                u = a(n(19762)),
                s = a(n(38933)),
                d = n(85893),
                c = {
                    tabContainer: {
                        display: "p357zi0d",
                        backgroundColor: "rv6u8h8g"
                    },
                    tab: {
                        boxSizing: "cm280p3y",
                        display: "p357zi0d",
                        flexGrow: "ggj6brxn",
                        flexDirection: "f8m0rgwh",
                        alignItems: "gndfcl4n",
                        justifyContent: "ac2vgrno",
                        height: "qmp0wt83",
                        color: "a633jkfz",
                        textTransform: "ofejerhi"
                    },
                    focused: {
                        boxShadow: "lgn58c33"
                    },
                    selected: {
                        paddingTop: "eujn52yf",
                        color: "ky3f94nk",
                        borderBottom: "qldwl5fi"
                    }
                },
                f = function(e) {
                    var t = e.tabConfigs,
                        n = e.selectedId,
                        a = e.onSelect,
                        r = e.tabXstyle,
                        u = e.xstyle,
                        s = (0, i.useRef)(n),
                        f = (0, i.useRef)([]),
                        h = t.map((function(e) {
                            return e.id
                        })),
                        m = h.length - 1;
                    return (0, d.jsx)(l.HotKeys, {
                        handlers: {
                            right: function() {
                                var e = h.indexOf(s.current),
                                    t = e === m ? 0 : e + 1,
                                    n = f.current[t];
                                n && n.focus()
                            },
                            left: function() {
                                var e = h.indexOf(s.current),
                                    t = 0 === e ? m : e - 1,
                                    n = f.current[t];
                                n && n.focus()
                            }
                        },
                        children: (0, d.jsx)("div", {
                            role: "tablist",
                            className: (0, o.default)(c.tabContainer, u),
                            children: t.map((function(e, t) {
                                var i = e.title,
                                    o = e.id;
                                return (0, d.jsx)(p, {
                                    ref: function(e) {
                                        f.current[t] = e
                                    },
                                    selected: o === n,
                                    onSelect: function() {
                                        return a(o)
                                    },
                                    onFocus: function() {
                                        s.current = o
                                    },
                                    xstyle: r,
                                    children: i
                                }, i)
                            }))
                        })
                    })
                };
            t.default = f;
            var p = (0, i.forwardRef)((function(e, t) {
                var n = e.selected,
                    a = e.onSelect,
                    i = e.onFocus,
                    l = e.children,
                    f = e.xstyle,
                    p = (0, u.default)(),
                    h = (0, r.default)(p, 2),
                    m = h[0],
                    v = h[1],
                    g = (0, s.default)(t, m);
                return (0, d.jsx)("button", {
                    ref: g,
                    role: "tab",
                    tabIndex: n ? 0 : -1,
                    "aria-selected": Boolean(n),
                    title: l,
                    className: (0, o.default)(c.tab, v && c.focused, n && c.selected, f),
                    onClick: function() {
                        n || a()
                    },
                    onFocus: i,
                    children: l
                })
            }))
        },
        89647: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onImageTake;
                return (0, u.jsx)(i.DropdownItem, {
                    action: function() {
                        r.Cmd.openModal((0, u.jsx)(o.EditCaptureFlowLoadable, {
                            onFinished: t
                        }))
                    },
                    a8n: "mi-take-photo",
                    disabled: e.disabled,
                    children: l.default.t(779)
                })
            };
            var r = n(65901),
                i = n(94680),
                o = n(10762),
                l = a(n(45159)),
                u = n(85893)
        },
        68605: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.className;
                return (0, s.jsxs)(l.SelectableDiv, {
                    "data-a8n": r.default.key("version"),
                    className: (0, i.default)(u.default.versionInfo, t),
                    selectable: !0,
                    children: [o.default.t(813, {
                        version: ""
                    }), (0, s.jsx)("span", {
                        dir: "LTR",
                        children: "2.2208.15"
                    }), null, null]
                })
            };
            var r = a(n(84646)),
                i = a(n(94184)),
                o = (a(n(30381)), n(49012), a(n(24683)), a(n(45159))),
                l = n(96197),
                u = a(n(11300)),
                s = n(85893)
        },
        1550: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(93913)),
                o = a(n(2205)),
                l = a(n(99842)),
                u = a(n(11845)),
                s = n(48360),
                d = n(4481),
                c = n(65901),
                f = a(n(86777)),
                p = n(73008),
                h = a(n(50177)),
                m = a(n(50504)),
                v = a(n(45159)),
                g = n(87547),
                _ = n(85893),
                x = function(e) {
                    (0, o.default)(n, e);
                    var t = (0, l.default)(n);

                    function n() {
                        var e;
                        (0, r.default)(this, n);
                        for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++) i[o] = arguments[o];
                        return (e = t.call.apply(t, [this].concat(i))).filter = function(t) {
                            var n = t.groupMetadata;
                            return !(!t.isGroup || t.isGroup && !(null == n ? void 0 : n.participants.iAmMember())) && ((null == n ? void 0 : n.participants.get(e.props.contact.id)) ? s.fbt._("Already added to group", null, {
                                hk: "4hdDHF"
                            }).toString() : !!(null == n ? void 0 : n.participants.iAmAdmin()) || v.default.t(280))
                        }, e._confirmAddToGroup = function(t) {
                            e.props.requestFocus && e.props.requestFocus(), e.push((0, _.jsx)(f.default, {
                                cancelText: s.fbt._("Cancel", null, {
                                    hk: "H0gNq"
                                }),
                                okText: s.fbt._("Add participant", null, {
                                    hk: "48ECfz"
                                }),
                                onOK: e._addToGroup.bind(null, t),
                                onCancel: e._pop,
                                children: (0, _.jsx)(p.EmojiText, {
                                    text: v.default.t(341, {
                                        participant: e.props.contact.formattedName,
                                        subject: t.contact.name
                                    })
                                })
                            }))
                        }, e.requestFocus = function() {
                            if (e.refUIE) {
                                var t = e.refUIE.getNode();
                                t && !t.contains(document.activeElement) && u.default.focus(t)
                            }
                        }, e._addToGroup = function(t) {
                            (0, g.addParticipants)(t, [e.props.contact]).then((function() {
                                c.Cmd.openChatFromUnread(t).then((function(e) {
                                    e && c.Cmd.focusChatTextInput(t)
                                }))
                            })).catch((function() {})), e.end()
                        }, e._pop = function() {
                            e.pop()
                        }, e
                    }
                    return (0, i.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            this.push((0, _.jsx)(m.default, {
                                chats: d.ChatCollection.filter((function(e) {
                                    return e.isGroup
                                })),
                                filter: this.filter,
                                onCancel: this._pop,
                                onGroup: this._confirmAddToGroup
                            }))
                        }
                    }]), n
                }(h.default);
            t.default = x
        },
        13118: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(93913)),
                o = a(n(81506)),
                l = a(n(2205)),
                u = a(n(99842)),
                s = a(n(16525)),
                d = a(n(29754)),
                c = a(n(81629)),
                f = a(n(51463)),
                p = n(71988),
                h = n(65901),
                m = n(8113),
                v = a(n(50177)),
                g = n(38032),
                _ = a(n(37286)),
                x = n(69110),
                C = n(692),
                y = n(85893),
                S = function(e) {
                    (0, l.default)(n, e);
                    var t = (0, u.default)(n);

                    function n() {
                        var e, a;
                        (0, r.default)(this, n);
                        for (var i = arguments.length, l = new Array(i), u = 0; u < i; u++) l[u] = arguments[u];
                        return (a = t.call.apply(t, [this].concat(l)))._setRefMediaEditor = function(e) {
                            a._refMediaEditor = e
                        }, a.onCancel = function() {
                            a.props.onComplete && a.props.onComplete(!1), a._clearAttachMedia(), a.props.mediaCollection.mediaPickerStatsLogger.logCancel(), a.end()
                        }, a.onFailedMedias = function(e) {
                            var t = e.filter((function(e) {
                                return e.isGif
                            }));
                            if (t.length > 0) {
                                var n = t.map((function(e) {
                                    return e.filename
                                }));
                                h.Cmd.once("ui_idle", (function() {
                                    h.Cmd.pasteChatTextInput(a.props.chat, n.join(" "))
                                })), a.props.onComplete && a.props.onComplete(!1), a._clearAttachMedia(), a.props.mediaCollection.mediaPickerStatsLogger.logCancel(), a.end()
                            }
                        }, a._sendMediaWithMentions = function(e) {
                            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                                n = t.initCaptionUsed,
                                r = t.isViewOnce,
                                i = a.props.chat;
                            h.Cmd.once("ui_idle", (function() {
                                e.forEach((function(e, t) {
                                    var n, o = e.media,
                                        l = {};
                                    if (0 === t && (l.quotedMsg = i.composeQuotedMsg, i.composeQuotedMsg = null), l.isViewOnce = r, l.mentionedJidList = e.mentionedJidList, l.caption = o.caption, l.addEvenWhilePreparing = o.previewable && o.state === p.ATTACH_MEDIA_STATE.PROCESSING, null === (n = a.props.initCaption) || void 0 === n ? void 0 : n.ctwaContextLinkData) {
                                        var u = a.props.initCaption,
                                            s = u.ctwaContextLinkData,
                                            d = u.ctwaContext;
                                        l.ctwaContext = (0, x.prepareCtwaContextSend)(s, d)
                                    }
                                    o.sendToChat(i, l)
                                })), a._clearAttachMedia()
                            })), a.props.onComplete && a.props.onComplete(!0, {
                                initCaptionUsed: n
                            }), a.props.mediaCollection.mediaPickerStatsLogger.logSend({
                                isViewOnce: r
                            }), a.end()
                        }, a.setText = function(e) {
                            null != e && h.Cmd.once("ui_idle", (function() {
                                h.Cmd.pasteChatTextInput(a.props.chat, e)
                            })), a.end()
                        }, a.handleRequestDismiss = function(t) {
                            var r;
                            (null === (r = a._refMediaEditor) || void 0 === r ? void 0 : r.handleRequestDismiss()) && (!1 === t && a.onCancel(), (0, s.default)((e = (0, o.default)(a), (0, d.default)(n.prototype)), "handleRequestDismiss", e).call(e))
                        }, a._clearAttachMedia = function() {
                            a.props.chat && a.props.chat.setAttachMediaContents(null)
                        }, a
                    }
                    return (0, i.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            h.Cmd.closeContextMenu(), h.Cmd.closeTooltip(), this.push((0, y.jsx)(_.default, {
                                theme: "attach",
                                ref: this._setRefMediaEditor,
                                chat: this.props.chat,
                                onClose: this.onCancel,
                                initCaption: this.props.initCaption,
                                onSendMedia: (0, f.default)(this._sendMediaWithMentions),
                                mediaCollection: this.props.mediaCollection,
                                onDropText: (0, f.default)(this.setText),
                                sendAsSticker: this.props.sendAsSticker
                            })), g.GK.supportsFeature(g.GK.F.MD_BACKEND) && (0, m.eagerlyEstablishE2EESessionForMedia)(this.props.chat)
                        }
                    }, {
                        key: "componentWillUnmount",
                        value: function() {
                            var e = this;
                            C.UA.isGecko ? (0, c.default)((function() {
                                return h.Cmd.focusChatTextInput(e.props.chat)
                            })) : h.Cmd.focusChatTextInput(this.props.chat)
                        }
                    }]), n
                }(v.default);
            t.default = S
        },
        80987: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(81109)),
                i = a(n(34575)),
                o = a(n(93913)),
                l = a(n(2205)),
                u = a(n(99842)),
                s = a(n(50177)),
                d = a(n(45159)),
                c = n(64803),
                f = a(n(76411)),
                p = n(43890),
                h = a(n(92717)),
                m = n(85893),
                v = function(e) {
                    (0, l.default)(n, e);
                    var t = (0, u.default)(n);

                    function n() {
                        var e;
                        (0, i.default)(this, n);
                        for (var a = arguments.length, r = new Array(a), o = 0; o < a; o++) r[o] = arguments[o];
                        return (e = t.call.apply(t, [this].concat(r)))._confirmSendContacts = function(t) {
                            e.push((0, m.jsx)(h.default, {
                                contactList: t,
                                onSend: function() {
                                    return e._sendContacts(t)
                                },
                                onBack: e._popNone,
                                chat: e.props.chat
                            }), "none"), e.contacts = t
                        }, e._sendContacts = function(t) {
                            var n = e.props.chat,
                                a = n.composeQuotedMsg,
                                r = n.getComposeContents().ctwaContext || void 0;
                            (0, f.default)(t, n, a, r), n.composeQuotedMsg = null, e.props.onContactsSent(), e.end()
                        }, e._getContacts = function() {
                            return e.contacts
                        }, e._pop = function() {
                            e.pop()
                        }, e._popNone = function() {
                            e.pop("none")
                        }, e
                    }
                    return (0, o.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this.props.serverProps.maxParticipants;
                            this.contacts = [], this.push((0, m.jsx)(c.SelectModal, {
                                title: d.default.t(751),
                                onCancel: this._pop,
                                onConfirm: this._confirmSendContacts,
                                getInitialItems: this._getContacts,
                                listType: c.ListType.CONTACT_SELECT_MODAL,
                                maxItems: e,
                                allowBlockedContacts: !0
                            }))
                        }
                    }]), n
                }(s.default);
            t.default = function(e) {
                return (0, m.jsx)(v, (0, r.default)((0, r.default)({}, e), {}, {
                    serverProps: p.ServerProps
                }))
            }
        },
        41271: (e, t, n) => {
            "use strict";
            var a = n(21314).default,
                r = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(n(34575)),
                o = r(n(93913)),
                l = r(n(2205)),
                u = r(n(99842)),
                s = n(48360),
                d = n(65901),
                c = r(n(50177)),
                f = n(56264),
                p = n(81310),
                h = r(n(5457)),
                m = n(91240),
                v = n(85893),
                g = function(e) {
                    (0, l.default)(n, e);
                    var t = (0, u.default)(n);

                    function n() {
                        var e;
                        (0, i.default)(this, n);
                        for (var r = arguments.length, o = new Array(r), l = 0; l < r; l++) o[l] = arguments[l];
                        return (e = t.call.apply(t, [this].concat(o))).requestFocus = function() {
                            var t, n = null === (t = e.refUIE) || void 0 === t ? void 0 : t.getRef();
                            null != n && (n instanceof HTMLElement || "function" != typeof n.onFocusList || n.onFocusList())
                        }, e._sendProducts = function(t) {
                            var n = e.props.chat;
                            (0, p.qplStartProductSendMessage)("Attachment", t.length);
                            var r = t.map((function(t, a) {
                                var r = 0 === a ? n.composeQuotedMsg : null;
                                return n.sendProductMessage(t, r).then((function() {
                                    (0, f.logProductMessageSent)({
                                        product: t,
                                        catalogSessionId: e.props.sessionId
                                    })
                                }))
                            }));
                            (0, p.qplEndProductMessageSend)(a.all(r)), n.composeQuotedMsg = null, e.end()
                        }, e._shareCatalog = function(t) {
                            var n = e.props.chat,
                                a = (0, m.createCatalogLink)(t.id.user),
                                r = `${s.fbt._("Follow this link to view our catalog on WhatsApp:",null,{hk:"1bmMoC"}).toString()} ${a}`;
                            d.Cmd.pasteChatTextInput(n, r), (0, f.logSendCatalogClick)({
                                catalogOwnerWid: t.id,
                                catalogSessionId: e.props.sessionId
                            }), e.end()
                        }, e._pop = function() {
                            e.pop()
                        }, e._popNone = function() {
                            e.pop("none")
                        }, e
                    }
                    return (0, o.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            this.push((0, v.jsx)(h.default, {
                                onCancel: this._pop,
                                onConfirm: this._sendProducts,
                                onShare: this._shareCatalog
                            }))
                        }
                    }]), n
                }(c.default);
            t.default = g
        },
        17274: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(93913)),
                o = a(n(2205)),
                l = a(n(99842)),
                u = n(78708),
                s = n(65901),
                d = n(96706),
                c = a(n(50177)),
                f = n(2629),
                p = n(56003),
                h = a(n(50507)),
                m = n(52867),
                v = n(51416),
                g = n(3298),
                _ = n(4099),
                x = n(85893),
                C = function(e) {
                    (0, o.default)(n, e);
                    var t = (0, l.default)(n);

                    function n() {
                        var e;
                        (0, r.default)(this, n);
                        for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++) i[o] = arguments[o];
                        return (e = t.call.apply(t, [this].concat(i))).onProductCatalog = function() {
                            var t = e.props,
                                n = t.sellerJid,
                                a = t.chat;
                            (0, f.canViewCollections)() && g.QPL.markerStart(_.QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW, {
                                string: {
                                    EntryPoint: "Cart"
                                }
                            }), e.push((0, x.jsx)(v.ProductDetailsFlowLoadable, {
                                chat: a,
                                catalogOwnerJid: n
                            }))
                        }, e.onProductDetail = function(t) {
                            var n = e.props.chat;
                            (0, p.qplStartProductView)("Cart"), e.push((0, x.jsx)(v.ProductDetailsFlowLoadable, {
                                refreshCarousel: !0,
                                chat: n,
                                productInfo: t,
                                onEnd: e._pop
                            }))
                        }, e._end = function() {
                            e.end(!0)
                        }, e._pop = function() {
                            e.pop()
                        }, e
                    }
                    return (0, i.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this,
                                t = this.props,
                                n = t.sellerJid,
                                a = t.chat;
                            this.push((0, x.jsx)(d.DrawerContext.Consumer, {
                                children: function(t) {
                                    var r = (0, m.getProductCatalogContext)(t).entryPoint,
                                        i = e.state.isPushed;
                                    return (0, x.jsx)(u.CartDetailDrawer, {
                                        chat: a,
                                        sellerJid: n,
                                        onProductDetail: e.onProductDetail,
                                        onProductCatalog: e.onProductCatalog,
                                        onBack: e._end,
                                        closeDrawerRightOnSend: r === h.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PRODUCT_LIST_MESSAGE,
                                        isPushed: i
                                    })
                                }
                            })), s.Cmd.existsDrawerLeft((function(e) {
                                e && s.Cmd.closeDrawerLeft()
                            })), s.Cmd.existsDrawerMid((function(e) {
                                e && s.Cmd.closeDrawerMid()
                            }))
                        }
                    }]), n
                }(c.default);
            t.default = C
        },
        47389: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = ee;
            var r = a(n(81109)),
                i = a(n(63038)),
                o = a(n(87757)),
                l = a(n(48926)),
                u = a(n(34575)),
                s = a(n(93913)),
                d = a(n(2205)),
                c = a(n(99842)),
                f = n(15586),
                p = n(48360),
                h = n(67294),
                m = n(26141),
                v = n(72743),
                g = a(n(20859)),
                _ = n(49110),
                x = a(n(4988)),
                C = n(65901),
                y = n(39358),
                S = a(n(65589)),
                b = n(65971),
                j = n(49726),
                E = n(20050),
                k = a(n(53187)),
                w = a(n(18345)),
                T = n(96706),
                I = n(19288),
                P = a(n(7779)),
                M = a(n(62849)),
                O = a(n(50177)),
                L = n(1577),
                A = n(2629),
                D = n(56264),
                R = n(32065),
                N = n(56003),
                F = n(31779),
                B = a(n(57315)),
                U = n(3544),
                G = n(8842),
                H = n(52867),
                W = a(n(1270)),
                V = n(60425),
                z = n(3298),
                q = n(4099),
                K = n(60649),
                Y = a(n(40290)),
                Q = n(92428),
                X = n(59175),
                Z = n(85893),
                J = n(76672).Mirrored(["YES", "NO", "PENDING"]),
                $ = function(e) {
                    (0, d.default)(n, e);
                    var t = (0, c.default)(n);

                    function n() {
                        var e;
                        (0, u.default)(this, n);
                        for (var a = arguments.length, r = new Array(a), i = 0; i < a; i++) r[i] = arguments[i];
                        return (e = t.call.apply(t, [this].concat(r)))._isComplianceFormVisible = !1, e._isProductListVisible = !1, e._blockCartInterstitial = function() {
                            return e.props.mustCompleteCompliance !== J.NO
                        }, e._isCreatingCatalog = function() {
                            return e.props.isCreatingCatalog
                        }, e._showProductList = function(t) {
                            var n = (0, A.canManageCollections)() ? (0, Z.jsx)(x.default, {
                                contact: e.props.contact,
                                onCatalogLinkClick: e._onCatalogShare,
                                onProductShare: e.onProductShare,
                                onProductDetail: e.onEditProduct,
                                onAddProduct: e._onAddProduct,
                                onRemoveProduct: e._onRemoveProduct,
                                catalogId: e.props.catalogId,
                                onBack: e._end,
                                onCartClick: e.onCartClick,
                                businessProfile: null,
                                headerType: I.DRAWER_HEADER_TYPE.LARGE,
                                onCollectionSeeAll: e.onCollectionSeeAll,
                                canManageCatalog: !0,
                                autoUpdate: !0,
                                onOpenCollections: e.onOpenCollections,
                                onOpenMerchantDetailsForm: e._handleOpenMerchantDetailsForm,
                                onEditCollection: e._onEditCollection,
                                onOpenSettings: e.onOpenSettings,
                                blockCartInterstitialFn: e._blockCartInterstitial,
                                canLogQpl: t
                            }) : (0, Z.jsx)(V.ProductListDrawer, {
                                contact: e.props.contact,
                                onCatalogLinkClick: e._onCatalogShare,
                                onProductShare: e.onProductShare,
                                onProductDetail: e.onEditProduct,
                                onAddProduct: e._onAddProduct,
                                onRemoveProduct: e._onRemoveProduct,
                                catalogId: e.props.catalogId,
                                onBack: e._end,
                                onCartClick: e.onCartClick,
                                businessProfile: null,
                                headerType: I.DRAWER_HEADER_TYPE.LARGE,
                                canManageCatalog: !0,
                                autoUpdate: !0,
                                onOpenSettings: e.onOpenSettings,
                                blockCartInterstitialFn: e._blockCartInterstitial
                            });
                            e.push(n)
                        }, e._handleOpenMerchantDetailsForm = function() {
                            var t = (0, L.getMeUser)();
                            e.push((0, Z.jsx)(F.MerchantDetailsFormFlowLoadable, {
                                contactId: t,
                                onBack: e.pop
                            }))
                        }, e.onEditProduct = function(t) {
                            var n = v.CatalogCollection.assertGet(e.props.catalogId);
                            C.Cmd.openDrawerMid((0, Z.jsx)(M.default, {
                                catalog: n,
                                product: t
                            }), "slide-left", void 0, void 0, e.props.context, K.FocusType.TABBABLE)
                        }, e.onCartClick = function(t) {
                            (0, Y.default)(t, void 0, e.props.context)
                        }, e.onCollectionSeeAll = function(t) {
                            e.push((0, Z.jsx)(y.CollectionContentDrawer, {
                                contact: e.props.contact,
                                onProductDetail: e.onEditProduct,
                                onProductShare: e.onProductShare,
                                catalogId: e.props.catalogId,
                                onBack: e._pop,
                                onCatalogLinkClick: e._onCatalogShare,
                                onCartClick: e.onCartClick,
                                collection: t,
                                canManageCatalog: !0,
                                headerType: I.DRAWER_HEADER_TYPE.LARGE,
                                onEditCollection: e._onEditCollection
                            }))
                        }, e._onEditCollection = function(t) {
                            var n = v.CatalogCollection.get(e.props.catalogId);
                            t || (0, R.logCollectionCreateClicked)((0, H.getProductCatalogContext)(e.props.context)), n && e.push((0, Z.jsx)(P.default, {
                                onBack: e._pop,
                                collection: t,
                                catalog: n
                            }))
                        }, e._onCatalogShare = function(t, n) {
                            C.Cmd.openDrawerMid((0, Z.jsx)(g.default, {
                                onCancel: function() {
                                    C.Cmd.closeDrawerMid()
                                },
                                catalog: t,
                                contact: n,
                                prompt: p.fbt._("Anyone with WhatsApp can follow this link to browse catalog", null, {
                                    hk: "1Lofnu"
                                }),
                                onSend: function() {
                                    return C.Cmd.closeDrawerMid()
                                },
                                centerDrawer: !0
                            }), "slide-left", void 0, void 0, e.props.context, K.FocusType.TABBABLE)
                        }, e.onProductShare = function(t) {
                            C.Cmd.openDrawerMid((0, Z.jsx)(W.default, {
                                onCancel: function() {
                                    C.Cmd.closeDrawerMid()
                                },
                                product: t,
                                prompt: p.fbt._("Anyone with WhatsApp can follow this link to browse catalog", null, {
                                    hk: "1Lofnu"
                                }),
                                onSend: function() {
                                    return C.Cmd.closeDrawerMid()
                                },
                                centerDrawer: !0,
                                sendProductMsg: !0
                            }), "slide-left", void 0, void 0, e.props.context, K.FocusType.TABBABLE)
                        }, e.onOpenCollections = function() {
                            z.QPL.markerStart(q.QuickLogMarkerId.WHATSAPP_COLLECTIONS_MANAGEMENT_VIEW), e.push((0, Z.jsx)(S.default, {
                                onBack: e._pop,
                                editCollection: e.editCollection,
                                onSeeCollection: e.onSeeCollection
                            })), (0, R.logCollectionMenuClicked)((0, H.getProductCatalogContext)(e.props.context))
                        }, e.onSeeCollection = function(t) {
                            (0, N.qplStartCollectionViewAll)("Collection"), e.push((0, Z.jsx)(ee, {
                                catalogId: e.props.catalogId,
                                collection: t,
                                product: null
                            }))
                        }, e.editCollection = function(t) {
                            var n = v.CatalogCollection.get(e.props.catalogId);
                            t || (0, R.logCollectionCreateClicked)((0, H.getProductCatalogContext)(e.props.context)), n && e.push((0, Z.jsx)(P.default, {
                                onBack: e._pop,
                                collection: t,
                                catalog: n
                            }))
                        }, e.onOpenSettings = function() {
                            e.push((0, Z.jsx)(_.CatalogSettingsDrawer, {
                                onBack: e._pop
                            }))
                        }, e._onAddProduct = function() {
                            return e.props.onAddProduct()
                        }, e._onAddFirstProduct = function() {
                            return e.props.onAddFirstProduct()
                        }, e._onRemoveProduct = function() {
                            return e.props.onRemoveProduct()
                        }, e._onAddProductFromBusinessDetails = (0, l.default)(o.default.mark((function t() {
                            return o.default.wrap((function(t) {
                                for (;;) switch (t.prev = t.next) {
                                    case 0:
                                        return e._pop(), e._isComplianceFormVisible = !1, t.next = 4, e.props.onComplianceFormClosed();
                                    case 4:
                                        v.CatalogCollection.get(e.props.catalogId) ? e._onAddProduct() : e._onAddFirstProduct();
                                    case 6:
                                    case "end":
                                        return t.stop()
                                }
                            }), t)
                        }))), e._pop = function() {
                            e.pop(), C.Cmd.closeDrawerMid()
                        }, e._end = function() {
                            e.end(!0), C.Cmd.closeDrawerMid()
                        }, e
                    }
                    return (0, s.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            null != this.props.collection ? this.onCollectionSeeAll(this.props.collection) : null != this.props.catalog ? (this._showProductList(!0), null != this.props.product && this.onEditProduct(this.props.product)) : (z.QPL.markerDrop(q.QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW), this._showNewCatalog())
                        }
                    }, {
                        key: "componentDidUpdate",
                        value: function() {
                            this.props.showComplianceForm && !this._isComplianceFormVisible ? (this._isComplianceFormVisible = !0, this._showComplianceForm()) : this.props.showProductList && !this._isProductListVisible && (this._isProductListVisible = !0, this._showProductList(!1))
                        }
                    }, {
                        key: "_showNewCatalog",
                        value: function() {
                            this.push((0, Z.jsx)(B.default, {
                                isCreatingCatalogFn: this._isCreatingCatalog,
                                onBack: this._pop,
                                onAddProductClick: this._onAddFirstProduct
                            }))
                        }
                    }, {
                        key: "_showComplianceForm",
                        value: function() {
                            var e = this;
                            this.push((0, Z.jsx)(F.MerchantDetailsFormFlowLoadable, {
                                contactId: this.props.contact.id,
                                enableCatalogCreationContext: !0,
                                enableBusinessProfileAddress: !0,
                                onAddProduct: this._onAddProductFromBusinessDetails,
                                onBack: function() {
                                    e._pop(), e._isComplianceFormVisible = !1, e.props.onComplianceFormClosed()
                                },
                                onUnmount: function() {
                                    e._isComplianceFormVisible = !1, e.props.onComplianceFormClosed()
                                }
                            }))
                        }
                    }]), n
                }(O.default);

            function ee(e) {
                var t = (0, h.useContext)(T.DrawerContext),
                    n = (0, h.useState)(J.PENDING),
                    a = (0, i.default)(n, 2),
                    u = a[0],
                    s = a[1],
                    d = E.ContactCollection.get(e.catalogId),
                    c = (0, h.useState)(!1),
                    g = (0, i.default)(c, 2),
                    _ = g[0],
                    x = g[1],
                    y = (0, h.useState)(!1),
                    S = (0, i.default)(y, 2),
                    P = S[0],
                    O = S[1],
                    L = (0, h.useState)(!1),
                    R = (0, i.default)(L, 2),
                    N = R[0],
                    F = R[1],
                    B = (0, h.useState)(!1),
                    W = (0, i.default)(B, 2),
                    V = W[0],
                    Y = W[1],
                    ee = (0, h.useCallback)((function() {
                        return v.CatalogCollection.get(e.catalogId)
                    }), [e.catalogId]),
                    te = (0, h.useCallback)((0, l.default)(o.default.mark((function e() {
                        var t, n, a, r;
                        return o.default.wrap((function(e) {
                            for (;;) switch (e.prev = e.next) {
                                case 0:
                                    if (d) {
                                        e.next = 3;
                                        break
                                    }
                                    return __LOG__(4, void 0, new Error, !0)`Cannot update compliance for non existing user`, SEND_LOGS("catalog-management-flow-compliance-no-contact-error"), e.abrupt("return");
                                case 3:
                                    if (s(J.PENDING), n = null === (t = m.BusinessProfileCollection.get(d.id)) || void 0 === t ? void 0 : t.address, a = J.NO, r = ee(), e.t0 = (0, A.canSeeECommerceComplianceIndiaHardEnforcementBusinessJourney)(d.id.user) && (!r || !r.productCollection.length), !e.t0) {
                                        e.next = 16;
                                        break
                                    }
                                    return e.t1 = j.isBusinessCompliant, e.t2 = n, e.next = 13, (0, b.getLegalEntityDetails)(d.id);
                                case 13:
                                    e.t3 = e.sent, e.t4 = d.id, e.t0 = !(0, e.t1)(e.t2, e.t3, e.t4);
                                case 16:
                                    if (!e.t0) {
                                        e.next = 18;
                                        break
                                    }
                                    a = J.YES;
                                case 18:
                                    s(a);
                                case 19:
                                case "end":
                                    return e.stop()
                            }
                        }), e)
                    }))), [d, ee]),
                    ne = (0, h.useCallback)((function() {
                        var e = ee();
                        if (u === J.YES) x(!0);
                        else if (u === J.PENDING) F(!0);
                        else if (e) {
                            var n = new U.Product({
                                catalogWid: e.id,
                                additionalImageCdnUrl: []
                            });
                            C.Cmd.openDrawerMid((0, Z.jsx)(M.default, {
                                catalog: e,
                                product: n,
                                onCreate: function(n) {
                                    C.Cmd.openDrawerMid((0, Z.jsx)(M.default, {
                                        catalog: e,
                                        product: n
                                    }), "slide-left", void 0, void 0, t, K.FocusType.TABBABLE)
                                },
                                newProduct: !0
                            }), "slide-left", void 0, void 0, t, K.FocusType.TABBABLE)
                        }
                    }), [u, t, ee]),
                    ae = (0, h.useCallback)((0, l.default)(o.default.mark((function n() {
                        var a, r;
                        return o.default.wrap((function(n) {
                            for (;;) switch (n.prev = n.next) {
                                case 0:
                                    return Y(!0), a = (0, H.getProductCatalogContext)(t), (0, D.logCreateProductCatalogClick)(a), z.QPL.markerStart(q.QuickLogMarkerId.WHATSAPP_CATALOG_CREATE), r = !0, n.prev = 5, n.next = 8, (0, G.createCatalog)();
                                case 8:
                                    return (0, D.logCreateProductCatalogSuccess)(a), r = !1, z.QPL.markerEnd(q.QuickLogMarkerId.WHATSAPP_CATALOG_CREATE, z.QuickLogActionType.SUCCESS), n.prev = 11, n.next = 14, v.CatalogCollection.find(e.catalogId);
                                case 14:
                                    O(!0), ne(), n.next = 21;
                                    break;
                                case 18:
                                    n.prev = 18, n.t0 = n.catch(11), (0, f.filteredCatch)(X.ServerStatusCodeError, (function() {
                                        __LOG__(3)`Failed to fetch product catalog from server`
                                    }));
                                case 21:
                                    n.next = 26;
                                    break;
                                case 23:
                                    n.prev = 23, n.t1 = n.catch(5), (0, f.filteredCatch)(X.ServerStatusCodeError, (function(e) {
                                        (0, D.logCreateProductCatalogFailed)(a, e.statusCode), C.Cmd.openToast((0, Z.jsx)(Q.Toast, {
                                            msg: p.fbt._("Catalog already created.", null, {
                                                hk: "1s2DFD"
                                            }),
                                            id: (0, Q.genId)("err_catalog_already_created")
                                        })), O(!0)
                                    }));
                                case 26:
                                    return n.prev = 26, r && z.QPL.markerEnd(q.QuickLogMarkerId.WHATSAPP_CATALOG_CREATE, z.QuickLogActionType.FAIL), n.finish(26);
                                case 29:
                                    Y(!1);
                                case 30:
                                case "end":
                                    return n.stop()
                            }
                        }), n, null, [
                            [5, 23, 26, 29],
                            [11, 18]
                        ])
                    }))), [e.catalogId, t, ne]),
                    re = (0, h.useCallback)((0, l.default)(o.default.mark((function e() {
                        return o.default.wrap((function(e) {
                            for (;;) switch (e.prev = e.next) {
                                case 0:
                                    if (u !== J.YES) {
                                        e.next = 4;
                                        break
                                    }
                                    x(!0), e.next = 10;
                                    break;
                                case 4:
                                    if (u !== J.PENDING) {
                                        e.next = 8;
                                        break
                                    }
                                    F(!0), e.next = 10;
                                    break;
                                case 8:
                                    return e.next = 10, ae();
                                case 10:
                                case "end":
                                    return e.stop()
                            }
                        }), e)
                    }))), [u, ae]),
                    ie = (0, h.useCallback)((0, l.default)(o.default.mark((function e() {
                        return o.default.wrap((function(e) {
                            for (;;) switch (e.prev = e.next) {
                                case 0:
                                    return e.next = 2, te();
                                case 2:
                                case "end":
                                    return e.stop()
                            }
                        }), e)
                    }))), [te]);
                return (0, h.useEffect)((function() {
                    te()
                }), []), (0, h.useEffect)((function() {
                    var e = ee();
                    N && u !== J.PENDING && (F(!1), u === J.YES ? x(!0) : e ? ne() : ae()), u === J.YES && C.Cmd.closeDrawerMid()
                }), [N, u, ee, ae, ne]), d ? N ? (0, Z.jsxs)(k.default, {
                    children: [(0, Z.jsx)(I.DrawerHeader, {
                        title: p.fbt._("Add new item", null, {
                            hk: "2Tc6p3"
                        }),
                        onCancel: function() {
                            x(!1), F(!1)
                        },
                        type: I.DRAWER_HEADER_TYPE.LARGE
                    }), (0, Z.jsx)(w.default, {
                        theme: "center-content",
                        children: (0, Z.jsx)(b.ComplianceInfoLoading, {})
                    })]
                }) : (0, Z.jsx)(T.DrawerContext.Consumer, {
                    children: function(t) {
                        return (0, Z.jsx)($, (0, r.default)({
                            contact: d,
                            context: t,
                            mustCompleteCompliance: u,
                            showComplianceForm: _,
                            showProductList: P,
                            isCreatingCatalog: V,
                            onAddProduct: ne,
                            onAddFirstProduct: re,
                            onRemoveProduct: ie,
                            onComplianceFormClosed: function() {
                                return x(!1), te()
                            }
                        }, e))
                    }
                }) : null
            }
        },
        62849: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(93913)),
                o = a(n(2205)),
                l = a(n(99842)),
                u = n(48360),
                s = n(65901),
                d = n(5839),
                c = a(n(50177)),
                f = n(56003),
                p = n(70047),
                h = a(n(1270)),
                m = n(85893),
                v = function(e) {
                    (0, o.default)(n, e);
                    var t = (0, l.default)(n);

                    function n() {
                        var e;
                        (0, r.default)(this, n);
                        for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++) i[o] = arguments[o];
                        return (e = t.call.apply(t, [this].concat(i)))._onEditSuccess = function(t) {
                            (0, f.qplStartProductView)("EditProduct"), e._showInfoDrawer(t)
                        }, e._showInfoDrawer = function(t) {
                            var n = e.props.catalog;
                            e.push((0, m.jsx)(p.ProductInfoDrawer, {
                                catalog: n,
                                product: t,
                                onCancel: e.end,
                                onEditProduct: e._onProductEdit,
                                onShareProduct: e.onShareProduct
                            }))
                        }, e.onShareProduct = function(t) {
                            e.push((0, m.jsx)(h.default, {
                                onBack: e._pop,
                                product: t,
                                prompt: (0, m.jsx)("div", {
                                    children: u.fbt._("Anyone with WhatsApp can follow this link to browse catalog", null, {
                                        hk: "1Lofnu"
                                    })
                                }),
                                onSend: function() {
                                    return s.Cmd.closeDrawerMid()
                                },
                                centerDrawer: !0,
                                sendProductMsg: !0
                            }))
                        }, e._onProductEdit = function(t) {
                            e.push((0, m.jsx)(d.EditProductDrawer, {
                                catalog: e.props.catalog,
                                onBack: e._pop,
                                onEditSuccess: e._onEditSuccess,
                                product: t,
                                onDelete: e._handleDelete
                            }))
                        }, e._handleDelete = function(t) {
                            var n, a;
                            e.props.product.id === t.id && s.Cmd.closeDrawerMid(), null === (n = (a = e.props).onDelete) || void 0 === n || n.call(a)
                        }, e._pop = function() {
                            e.pop()
                        }, e._end = function() {
                            e.end(!0)
                        }, e
                    }
                    return (0, i.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this,
                                t = this.props,
                                n = t.catalog,
                                a = t.product,
                                r = t.onCreate,
                                i = t.newProduct;
                            n.productCollection.on("remove", this._handleDelete), i ? this.push((0, m.jsx)(d.EditProductDrawer, {
                                onCancel: this._pop,
                                onEditSuccess: function(t) {
                                    return r ? r(t) : e._onEditSuccess(a)
                                },
                                catalog: n,
                                product: a,
                                newProduct: !0
                            })) : this._showInfoDrawer(a)
                        }
                    }, {
                        key: "componentWillUnmount",
                        value: function() {
                            this.props.catalog.productCollection.off("remove", this._handleDelete)
                        }
                    }]), n
                }(c.default);
            t.default = v
        },
        88208: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(93913)),
                o = a(n(2205)),
                l = a(n(99842)),
                u = a(n(3208)),
                s = a(n(94362)),
                d = n(65901),
                c = a(n(86777)),
                f = a(n(50177)),
                p = a(n(45159)),
                h = n(14093),
                m = a(n(73012)),
                v = a(n(89187)),
                g = n(35558),
                _ = n(85893),
                x = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, l.default)(a);

                    function a() {
                        var e;
                        (0, r.default)(this, a);
                        for (var i = arguments.length, o = new Array(i), l = 0; l < i; l++) o[l] = arguments[l];
                        return (e = t.call.apply(t, [this].concat(o))).onDeleteLabel = function(e) {
                            e.forEach((function(e) {
                                var t = e.id;
                                h.LabelCollection.deleteLabel(t)
                            }))
                        }, e._onManageLabels = function(e) {
                            d.Cmd.openModal((0, _.jsx)(g.ManageLabelFlowLoadable, {
                                modelsToUpdate: e
                            }))
                        }, e.onEditLabel = function(t) {
                            d.Cmd.openModal((0, _.jsx)(s.default, {
                                labelId: t,
                                onUpdateLabel: e.onUpdateLabel,
                                onCancel: d.Cmd.closeModal()
                            }))
                        }, e.onLabelClick = function(t) {
                            var a = n(90882).Z;
                            e.push((0, _.jsx)(a, {
                                openLabelColorDrawer: e.openLabelColorDrawer,
                                labelId: t,
                                onManageLabels: e._onManageLabels,
                                onClose: e._pop,
                                onRemoveLabel: e.onRemoveLabel,
                                onEditLabel: e.onEditLabel
                            }))
                        }, e.openAddLabel = function() {
                            h.LabelCollection.toArray().length >= u.default.MAX_SMB_LABEL_COUNT ? d.Cmd.openModal((0, _.jsx)(c.default, {
                                okText: p.default.t(689),
                                onOK: function() {
                                    return d.Cmd.closeModal()
                                },
                                children: p.default.t(1040, {
                                    count: u.default.MAX_SMB_LABEL_COUNT
                                })
                            })) : d.Cmd.openModal((0, _.jsx)(s.default, {
                                onAddLabel: e.onAddLabel,
                                onCancel: d.Cmd.closeModal()
                            }))
                        }, e.onUpdateLabel = function(e, t) {
                            h.LabelCollection.updateLabel(e, t)
                        }, e.openLabelColorDrawer = function(t, n) {
                            e.push((0, _.jsx)(m.default, {
                                labelId: t,
                                onClose: e._pop,
                                onUpdateColor: e.onUpdateLabel,
                                currentColor: n
                            }))
                        }, e._pop = function() {
                            e.pop()
                        }, e
                    }
                    return (0, i.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this.push((0, _.jsx)(v.default, {
                                onDeleteLabel: this.onDeleteLabel,
                                onLabelClick: this.onLabelClick,
                                onClose: this._pop,
                                openAddLabel: this.openAddLabel
                            }))
                        }
                    }, {
                        key: "onAddLabel",
                        value: function(e, t) {
                            h.LabelCollection.addNewLabel(e, t)
                        }
                    }, {
                        key: "onRemoveLabel",
                        value: function(e, t) {
                            h.LabelCollection.addOrRemoveLabels([{
                                id: e,
                                type: "remove"
                            }], t)
                        }
                    }]), a
                }(f.default);
            t.default = x
        },
        92044: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(93913)),
                o = a(n(2205)),
                l = a(n(99842)),
                u = a(n(3208)),
                s = a(n(94362)),
                d = n(29656),
                c = n(65901),
                f = a(n(86777)),
                p = a(n(50177)),
                h = a(n(45159)),
                m = n(14093),
                v = n(72104),
                g = a(n(42724)),
                _ = a(n(50507)),
                x = n(85893),
                C = function(e) {
                    (0, o.default)(n, e);
                    var t = (0, l.default)(n);

                    function n() {
                        var e;
                        (0, r.default)(this, n);
                        for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++) i[o] = arguments[o];
                        return (e = t.call.apply(t, [this].concat(i)))._newlyAddedLabels = new Set, e._logWamEvent = function() {
                            var t = e.props.modelsToUpdate.length;
                            e._labelViewType = 1 === t ? e.props.modelsToUpdate[0] instanceof d.Chat ? _.default.LABEL_TARGETS.LABEL_CHAT_DIALOG : _.default.LABEL_TARGETS.LABEL_MESSAGE_DIALOG : _.default.LABEL_TARGETS.LABEL_COMBINED_DIALOG, (0, v.logLabelOperationEvent)(_.default.LABEL_OPERATIONS.VIEW, t, e._labelViewType)
                        }, e.onLabelUpdateComplete = function() {
                            e.props.onLabelUpdateComplete && e.props.onLabelUpdateComplete(), e._pop()
                        }, e.onAddLabel = function(t, n) {
                            m.LabelCollection.addNewLabel(t, n).then((function() {
                                e._newlyAddedLabels.add(t)
                            }))
                        }, e.shouldScrollIntoViewAndSelect = function(t) {
                            return e._newlyAddedLabels.has(t) ? (e._newlyAddedLabels.delete(t), {
                                shouldScrollIntoView: !0,
                                shouldSelect: !0
                            }) : {
                                shouldScrollIntoView: !1,
                                shouldSelect: !1
                            }
                        }, e.onAddNewLabel = function() {
                            m.LabelCollection.toArray().length >= u.default.MAX_SMB_LABEL_COUNT ? c.Cmd.openModal((0, x.jsx)(f.default, {
                                okText: h.default.t(689),
                                onOK: function() {
                                    return c.Cmd.closeModal()
                                },
                                children: h.default.t(1040, {
                                    count: u.default.MAX_SMB_LABEL_COUNT
                                })
                            })) : e.push((0, x.jsx)(s.default, {
                                onAddLabel: e.onAddLabel,
                                onCancel: e._pop
                            }))
                        }, e._popAndLogEvent = function() {
                            e._labelViewType && (0, v.logLabelOperationEvent)(_.default.LABEL_OPERATIONS.CLICK_NEGATIVE, e.props.modelsToUpdate.length, e._labelViewType), e.pop()
                        }, e._pop = function() {
                            e.pop()
                        }, e
                    }
                    return (0, i.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            this._logWamEvent(), this.push((0, x.jsx)(g.default, {
                                shouldScrollIntoViewAndSelect: this.shouldScrollIntoViewAndSelect,
                                onAddNewLabel: this.onAddNewLabel,
                                onLabelUpdateComplete: this.onLabelUpdateComplete,
                                onCancel: this._popAndLogEvent,
                                modelsToUpdate: this.props.modelsToUpdate
                            }))
                        }
                    }]), n
                }(p.default);
            t.default = C, C.defaultProps = {
                removeTopDrawer: !0,
                pushTransition: "none",
                popTransition: "none"
            }
        },
        61834: (e, t, n) => {
            "use strict";
            var a = n(21314).default,
                r = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(n(81109)),
                o = r(n(59713)),
                l = r(n(87757)),
                u = r(n(48926)),
                s = r(n(63038)),
                d = r(n(34575)),
                c = r(n(93913)),
                f = r(n(2205)),
                p = r(n(99842)),
                h = n(78672),
                m = n(48360),
                v = n(67294),
                g = (r(n(56720)), n(88768)),
                _ = r(n(69542)),
                x = n(26141),
                C = n(16419),
                y = n(65901),
                S = n(98381),
                b = n(65971),
                j = n(49726),
                E = r(n(53187)),
                k = r(n(18345)),
                w = n(19288),
                T = r(n(46821)),
                I = r(n(76722)),
                P = r(n(50177)),
                M = n(1577),
                O = n(2629),
                L = n(58771),
                A = n(22552),
                D = n(68544),
                R = n(97843),
                N = n(85893),
                F = {
                    complianceInfoHelpCenterBanner: {
                        color: "hp667wtd",
                        paddingTop: "nlnf8xo7",
                        paddingEnd: "bcymb0na",
                        paddingBottom: "r219jyu0",
                        paddingStart: "e8k79tju"
                    },
                    formContainer: {
                        paddingTop: "a4bywxmn",
                        paddingEnd: "bcymb0na",
                        paddingBottom: "ekpn4oxx",
                        paddingStart: "e8k79tju",
                        marginBottom: "brac1wpa"
                    },
                    formTitle: {
                        paddingTop: "i5tg98hk",
                        paddingEnd: "f9ovudaz",
                        paddingBottom: "przvwfww",
                        paddingStart: "gx1rr48f",
                        marginBottom: "oqp0d33z"
                    },
                    formTitleWithSubtitle: {
                        paddingTop: "i5tg98hk",
                        paddingEnd: "f9ovudaz",
                        paddingBottom: "przvwfww",
                        paddingStart: "gx1rr48f",
                        marginBottom: "inww9tbj"
                    },
                    subtitle: {
                        color: "hp667wtd",
                        marginBottom: "oqp0d33z"
                    },
                    containingBlock: {
                        transform: "cgi16xlc"
                    }
                },
                B = function(e) {
                    (0, f.default)(n, e);
                    var t = (0, p.default)(n);

                    function n() {
                        return (0, d.default)(this, n), t.apply(this, arguments)
                    }
                    return (0, c.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this;
                            this.push((0, N.jsx)(K, {
                                contactId: this.props.contactId,
                                enableCatalogCreationContext: this.props.enableCatalogCreationContext,
                                enableBusinessProfileAddress: this.props.enableBusinessProfileAddress,
                                onBack: function() {
                                    e.props.onBack()
                                },
                                onAddProduct: this.props.onAddProduct
                            }))
                        }
                    }, {
                        key: "componentWillUnmount",
                        value: function() {
                            var e, t;
                            null === (e = (t = this.props).onUnmount) || void 0 === e || e.call(t)
                        }
                    }]), n
                }(P.default);
            t.default = B;
            var U = function(e) {
                    return e ? F.formTitleWithSubtitle : F.formTitle
                },
                G = function() {
                    return m.fbt._("Add a legal name of business", null, {
                        hk: "1Dgk4f"
                    })
                },
                H = function() {
                    return m.fbt._("Add a business address", null, {
                        hk: "2x7w3h"
                    })
                },
                W = function(e) {
                    return e ? m.fbt._("Incorrect email address format", null, {
                        hk: "1KuwvT"
                    }) : m.fbt._("Add an email address", null, {
                        hk: "KeJaU"
                    })
                },
                V = function() {
                    return m.fbt._("Add a grievance officer name", null, {
                        hk: "29OUSc"
                    })
                },
                z = function(e) {
                    return !e || (0, h.isPotentiallyPhoneNumber)(e)
                },
                q = (0, M.getMeUser)(),
                K = (0, v.forwardRef)((function(e, t) {
                    var n = e.contactId,
                        r = e.onBack,
                        d = e.enableCatalogCreationContext,
                        c = (e.enableBusinessProfileAddress, e.onAddProduct),
                        f = (0, v.useRef)(null);
                    (0, v.useImperativeHandle)(t, (function() {
                        return {
                            getElement: function() {
                                return f.current
                            }
                        }
                    }));
                    var p = (0, v.useState)({}),
                        h = (0, s.default)(p, 2),
                        g = h[0],
                        P = h[1],
                        M = (0, v.useState)({}),
                        L = (0, s.default)(M, 2),
                        D = L[0],
                        B = L[1],
                        K = (0, v.useState)(!0),
                        Q = (0, s.default)(K, 2),
                        Z = Q[0],
                        J = Q[1],
                        $ = (0, v.useState)(!1),
                        ee = (0, s.default)($, 2),
                        te = ee[0],
                        ne = ee[1],
                        ae = (0, v.useState)(),
                        re = (0, s.default)(ae, 2),
                        ie = re[0],
                        oe = re[1],
                        le = (0, v.useState)(!1),
                        ue = (0, s.default)(le, 2),
                        se = ue[0],
                        de = ue[1];
                    (0, v.useEffect)((function() {
                        var e = !0;
                        return (0, u.default)(l.default.mark((function t() {
                                var r, i, o, u;
                                return l.default.wrap((function(t) {
                                    for (;;) switch (t.prev = t.next) {
                                        case 0:
                                            return t.next = 2, a.all([(0, b.getLegalEntityDetails)(n), x.BusinessProfileCollection.find(n)]);
                                        case 2:
                                            r = t.sent, i = (0, s.default)(r, 2), o = i[0], u = i[1], e && (P(o), oe(u.serialize()), J(!1));
                                        case 7:
                                        case "end":
                                            return t.stop()
                                    }
                                }), t)
                            })))(),
                            function() {
                                e = !1
                            }
                    }), [n]), (0, v.useEffect)((function() {
                        de(!Object.keys(D).length && (0, j.isBusinessCompliant)(null == ie ? void 0 : ie.address, g, n))
                    }), [g, D, null == ie ? void 0 : ie.address, n]);
                    var ce = function() {
                            var e = (0, u.default)(l.default.mark((function e(t) {
                                var n, a;
                                return l.default.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            return e.next = 2, (0, C.editBusinessCompliance)(t);
                                        case 2:
                                            return e.next = 4, x.BusinessProfileCollection.update(q, {
                                                getMerchantCompliance: !0
                                            });
                                        case 4:
                                            return n = e.sent, a = Array.isArray(n) ? n[0] : n, e.abrupt("return", a.serialize().legalEntityDetails);
                                        case 7:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function() {
                                return e.apply(this, arguments)
                            }
                        }(),
                        fe = (0, v.useCallback)(function() {
                            var e = (0, u.default)(l.default.mark((function e(t, n) {
                                var a, r, u;
                                return l.default.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            return a = {}, (0, o.default)(a, t, n), (0, o.default)(a, "isRegistered", null == g ? void 0 : g.isRegistered), r = a, P((0, i.default)((0, i.default)({}, g), r)), e.next = 4, ce(r);
                                        case 4:
                                            u = e.sent, P(u);
                                        case 6:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function() {
                                return e.apply(this, arguments)
                            }
                        }(), [g]),
                        pe = (0, v.useCallback)((function(e, t) {
                            B((function(n) {
                                return (0, i.default)((0, i.default)({}, n), {}, (0, o.default)({}, `${e}.${t}`, !0))
                            }))
                        }), []),
                        he = (0, v.useCallback)((function(e, t) {
                            B((function(n) {
                                var a = (0, i.default)({}, n);
                                return delete a[`${e}.${t}`], a
                            }))
                        }), []),
                        me = (0, v.useCallback)(function() {
                            var e = (0, u.default)(l.default.mark((function e(t, n, a) {
                                var r, u, s;
                                return l.default.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            return r = {}, (0, o.default)(r, t, (0, o.default)({}, n, a)), (0, o.default)(r, "isRegistered", null == g ? void 0 : g.isRegistered), u = r, P((0, i.default)((0, i.default)({}, g), {}, (0, o.default)({}, t, (0, i.default)((0, i.default)({}, null == g ? void 0 : g[t]), u[t])))), e.prev = 2, pe(t, n), e.next = 6, ce(u);
                                        case 6:
                                            s = e.sent, P(s), he(t, n), e.next = 14;
                                            break;
                                        case 11:
                                            throw e.prev = 11, e.t0 = e.catch(2), new Error(e.t0);
                                        case 14:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e, null, [
                                    [2, 11]
                                ])
                            })));
                            return function() {
                                return e.apply(this, arguments)
                            }
                        }(), [g, pe, he]),
                        ve = (0, v.useCallback)(function() {
                            var e = (0, u.default)(l.default.mark((function e(t) {
                                return l.default.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            return oe(t), e.next = 3, x.BusinessProfileCollection.update(q);
                                        case 3:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function() {
                                return e.apply(this, arguments)
                            }
                        }(), []),
                        ge = (0, v.useCallback)(function() {
                            var e = (0, u.default)(l.default.mark((function e(t, a) {
                                return l.default.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            return e.t0 = P, e.next = 3, (0, b.getLegalEntityDetails)(n);
                                        case 3:
                                            e.t1 = e.sent, (0, e.t0)(e.t1), he(t, a);
                                        case 6:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function() {
                                return e.apply(this, arguments)
                            }
                        }(), [n, he]),
                        _e = (0, v.useCallback)(function() {
                            var e = (0, u.default)(l.default.mark((function e(t, n, a) {
                                var r, i;
                                return l.default.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            if (!t && !n) {
                                                e.next = 8;
                                                break
                                            }
                                            return r = {
                                                entityType: t,
                                                entityTypeCustom: n,
                                                isRegistered: a
                                            }, ne(!0), e.next = 5, ce(r);
                                        case 5:
                                            i = e.sent, ne(!1), P(i);
                                        case 8:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function() {
                                return e.apply(this, arguments)
                            }
                        }(), []),
                        xe = g || {},
                        Ce = xe.entityName,
                        ye = xe.customerCareDetails,
                        Se = xe.grievanceOfficerDetails,
                        be = (0, v.useMemo)((function() {
                            return (0, j.getEntityTypeText)(g)
                        }), [g]),
                        je = (0, v.useCallback)((function(e) {
                            return (0, j.existsField)(e, n)
                        }), [n]),
                        Ee = (0, v.useRef)(null),
                        ke = (0, O.canSeeECommerceComplianceIndiaHardEnforcementBusinessJourney)(q.user);
                    return (0, N.jsx)("div", {
                        ref: f,
                        children: (0, N.jsxs)(E.default, {
                            xstyle: F.containingBlock,
                            children: [(0, N.jsx)(w.DrawerHeader, {
                                title: m.fbt._("Business details", null, {
                                    hk: "m9xzp"
                                }),
                                onBack: r,
                                type: w.DRAWER_HEADER_TYPE.LARGE
                            }), (0, N.jsx)(k.default, {
                                theme: Z ? "center-content" : void 0,
                                ref: Ee,
                                children: Z ? (0, N.jsx)(b.ComplianceInfoLoading, {}) : (0, N.jsxs)(N.Fragment, {
                                    children: [(0, N.jsx)(b.ComplianceInfoHelpCenterBanner, {
                                        xstyle: F.complianceInfoHelpCenterBanner
                                    }), (0, N.jsxs)(T.default, {
                                        titleXStyle: F.formTitle,
                                        xstyle: [F.formContainer],
                                        children: [(0, N.jsx)(Y, {
                                            value: Ce,
                                            maxLength: S.COMPLIANCE_INFO_LENGTH.ENTITY_NAME,
                                            placeholder: m.fbt._("Legal Name of Business", null, {
                                                hk: "2s9jD"
                                            }),
                                            icon: "info",
                                            validate: je,
                                            errorFn: G,
                                            onSave: function(e) {
                                                return fe("entityName", e)
                                            }
                                        }), (0, N.jsx)(Y, {
                                            value: be,
                                            placeholder: m.fbt._("Business Type", null, {
                                                hk: "48J73B"
                                            }),
                                            icon: "account-balance",
                                            onFocus: function() {
                                                return y.Cmd.showMerchantDetailsEntityTypePopup(g, _e)
                                            },
                                            isLoading: te
                                        }), ke ? (0, N.jsx)(X, {
                                            rawBusinessProfile: ie,
                                            validate: je,
                                            onAfterSave: ve,
                                            errorFn: H
                                        }) : null]
                                    }), (0, N.jsxs)(T.default, {
                                        title: m.fbt._("Customer Care Information", null, {
                                            hk: "qlYos"
                                        }),
                                        titleXStyle: U(ke),
                                        xstyle: [F.formContainer],
                                        children: [ke ? (0, N.jsx)(A.TextDiv, {
                                            xstyle: F.subtitle,
                                            children: m.fbt._("Provide at least one phone number and email address", null, {
                                                hk: "IKXYK"
                                            })
                                        }) : null, (0, N.jsx)(Y, {
                                            value: null == ye ? void 0 : ye.mobileNumber,
                                            maxLength: S.COMPLIANCE_INFO_LENGTH.MOBILE_NUMBER,
                                            placeholder: m.fbt._("Mobile Phone Number", null, {
                                                hk: "PMTTg"
                                            }),
                                            icon: "phone",
                                            validate: function(e) {
                                                return (0, j.existsCustomerCareDetailsContact)(ye, n, "mobileNumber", e) && z(e)
                                            },
                                            onSave: function(e) {
                                                return me("customerCareDetails", "mobileNumber", e)
                                            },
                                            onCancel: function() {
                                                return ge("customerCareDetails", "mobileNumber")
                                            },
                                            onError: function(e) {
                                                return (0, b.handleCustomerCareDetailsError)(ye, n, "mobileNumber", e)
                                            },
                                            errorFn: function(e) {
                                                return (0, j.getCustomerCareDetailsError)(ye, "mobileNumber", e, m.fbt._("Incorrect phone number format", null, {
                                                    hk: "3lFQ1f"
                                                }), n)
                                            }
                                        }), (0, N.jsx)(Y, {
                                            value: null == ye ? void 0 : ye.landlineNumber,
                                            maxLength: S.COMPLIANCE_INFO_LENGTH.LANDLINE_NUMBER,
                                            placeholder: m.fbt._("Landline Phone Number", null, {
                                                hk: "tXYaf"
                                            }),
                                            icon: "phone",
                                            validate: function(e) {
                                                return (0, j.existsCustomerCareDetailsContact)(ye, n, "landlineNumber", e) && z(e)
                                            },
                                            onSave: function(e) {
                                                return me("customerCareDetails", "landlineNumber", e)
                                            },
                                            onCancel: function() {
                                                return ge("customerCareDetails", "landlineNumber")
                                            },
                                            onError: function(e) {
                                                return (0, b.handleCustomerCareDetailsError)(ye, n, "landlineNumber", e)
                                            },
                                            errorFn: function(e) {
                                                return (0, j.getCustomerCareDetailsError)(ye, "landlineNumber", e, m.fbt._("Incorrect landline phone number format", null, {
                                                    hk: "4zXlsw"
                                                }), n)
                                            }
                                        }), (0, N.jsx)(Y, {
                                            value: null == ye ? void 0 : ye.email,
                                            maxLength: S.COMPLIANCE_INFO_LENGTH.EMAIL,
                                            placeholder: m.fbt._("Email Address", null, {
                                                hk: "2jYxR1"
                                            }),
                                            icon: "business-email",
                                            validate: function(e) {
                                                return je(e) && (0, R.validateEmail)(e)
                                            },
                                            onSave: function(e) {
                                                return me("customerCareDetails", "email", e)
                                            },
                                            errorFn: W
                                        })]
                                    }), (0, N.jsxs)(T.default, {
                                        title: m.fbt._("Grievance Officer Information", null, {
                                            hk: "3emd7I"
                                        }),
                                        titleXStyle: U(ke),
                                        xstyle: [F.formContainer],
                                        children: [ke ? (0, N.jsx)(A.TextDiv, {
                                            xstyle: F.subtitle,
                                            children: m.fbt._("Provide name and at least one contact method", null, {
                                                hk: "2Fjw3Y"
                                            })
                                        }) : null, (0, N.jsx)(Y, {
                                            value: null == Se ? void 0 : Se.name,
                                            maxLength: S.COMPLIANCE_INFO_LENGTH.GRIEVANCE_OFFICER_NAME,
                                            placeholder: m.fbt._("Name", null, {
                                                hk: "2vEs6r"
                                            }),
                                            validate: je,
                                            icon: "assignment-ind",
                                            onSave: function(e) {
                                                return me("grievanceOfficerDetails", "name", e)
                                            },
                                            errorFn: V
                                        }), (0, N.jsx)(Y, {
                                            value: null == Se ? void 0 : Se.mobileNumber,
                                            maxLength: S.COMPLIANCE_INFO_LENGTH.MOBILE_NUMBER,
                                            placeholder: m.fbt._("Mobile Phone Number", null, {
                                                hk: "3kk5I"
                                            }),
                                            icon: "phone",
                                            validate: function(e) {
                                                return (0, j.existsGrievanceOfficerDetailsContact)(Se, n, "mobileNumber", e) && z(e)
                                            },
                                            onSave: function(e) {
                                                return me("grievanceOfficerDetails", "mobileNumber", e)
                                            },
                                            onCancel: function() {
                                                return ge("grievanceOfficerDetails", "mobileNumber")
                                            },
                                            onError: function(e) {
                                                return (0, b.handleGrievanceOfficerDetailsError)(Se, n, "mobileNumber", e)
                                            },
                                            errorFn: function(e) {
                                                return (0, j.getGrievanceOfficerDetailsError)(Se, "mobileNumber", e, m.fbt._("Incorrect phone number format", null, {
                                                    hk: "3lFQ1f"
                                                }), n)
                                            }
                                        }), (0, N.jsx)(Y, {
                                            value: null == Se ? void 0 : Se.landlineNumber,
                                            maxLength: S.COMPLIANCE_INFO_LENGTH.LANDLINE_NUMBER,
                                            placeholder: m.fbt._("Landline Phone Number", null, {
                                                hk: "4GBzF0"
                                            }),
                                            icon: "phone",
                                            validate: function(e) {
                                                return (0, j.existsGrievanceOfficerDetailsContact)(Se, n, "landlineNumber", e) && z(e)
                                            },
                                            onSave: function(e) {
                                                return me("grievanceOfficerDetails", "landlineNumber", e)
                                            },
                                            onCancel: function() {
                                                return ge("grievanceOfficerDetails", "landlineNumber")
                                            },
                                            onError: function(e) {
                                                return (0, b.handleGrievanceOfficerDetailsError)(Se, n, "landlineNumber", e)
                                            },
                                            errorFn: function(e) {
                                                return (0, j.getGrievanceOfficerDetailsError)(Se, "landlineNumber", e, m.fbt._("Incorrect landline phone number format", null, {
                                                    hk: "4zXlsw"
                                                }), n)
                                            }
                                        }), (0, N.jsx)(Y, {
                                            value: null == Se ? void 0 : Se.email,
                                            maxLength: S.COMPLIANCE_INFO_LENGTH.EMAIL,
                                            placeholder: m.fbt._("Email Address", null, {
                                                hk: "3SvbLl"
                                            }),
                                            icon: "business-email",
                                            validate: function(e) {
                                                return (0, j.existsGrievanceOfficerDetailsContact)(Se, n, "email", e) && (0, R.validateEmail)(e)
                                            },
                                            onSave: function(e) {
                                                return me("grievanceOfficerDetails", "email", e)
                                            },
                                            onError: function(e) {
                                                return (0, b.handleGrievanceOfficerDetailsError)(Se, n, "email", e)
                                            },
                                            errorFn: function(e) {
                                                return (0, j.getGrievanceOfficerDetailsError)(Se, "email", e, m.fbt._("Incorrect email address format", null, {
                                                    hk: "1KuwvT"
                                                }), n)
                                            }
                                        })]
                                    }), null != d && null != c ? (0, N.jsx)(I.default, {
                                        disabled: !se,
                                        rootRef: Ee.current,
                                        onClick: function() {
                                            return (0, _.default)(c)
                                        },
                                        children: m.fbt._("Next: Add Items", null, {
                                            hk: "4gxzId"
                                        })
                                    }) : null]
                                })
                            })]
                        })
                    })
                }));

            function Y(e) {
                var t = e.value,
                    n = void 0 === t ? "" : t,
                    a = e.maxLength,
                    r = e.placeholder,
                    i = e.icon,
                    o = e.isLoading,
                    d = void 0 !== o && o,
                    c = e.validate,
                    f = e.errorFn,
                    p = (e.onChange, e.onSave),
                    h = e.onCancel,
                    m = e.onError,
                    g = e.onFocus,
                    _ = (0, v.useState)(n),
                    x = (0, s.default)(_, 2),
                    C = x[0],
                    y = x[1],
                    S = (0, v.useState)(),
                    b = (0, s.default)(S, 2),
                    j = b[0],
                    E = b[1],
                    k = (0, v.useState)(d),
                    w = (0, s.default)(k, 2),
                    T = w[0],
                    I = w[1];
                return (0, v.useEffect)((function() {
                    y(n)
                }), [n]), (0, v.useEffect)((function() {
                    (null == c ? void 0 : c(C)) && E(null)
                }), [C, c, f]), (0, v.useEffect)((function() {
                    I(d)
                }), [d]), (0, N.jsx)(L.IconSection, {
                    icon: i,
                    theme: L.IconSectionTheme.NoMargin,
                    content: (0, N.jsx)(D.TextInput, {
                        value: C,
                        editable: !0,
                        maxLength: a,
                        pending: T,
                        inputPlaceholder: r,
                        showRemaining: !0,
                        managedError: !0,
                        validate: c,
                        error: j,
                        onChange: y,
                        onSave: (0, u.default)(l.default.mark((function e() {
                            return l.default.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        return I(!0), e.prev = 1, e.next = 4, null == p ? void 0 : p(C);
                                    case 4:
                                        e.next = 9;
                                        break;
                                    case 6:
                                        e.prev = 6, e.t0 = e.catch(1), f && E(f(C));
                                    case 9:
                                        I(!1);
                                    case 10:
                                    case "end":
                                        return e.stop()
                                }
                            }), e, null, [
                                [1, 6]
                            ])
                        }))),
                        onCancel: function() {
                            y(n), E(null), null == h || h()
                        },
                        onError: function() {
                            f && E(f(C)), null == m || m(C)
                        },
                        theme: "text-input",
                        onFocus: g,
                        blockFocusOnLock: !!g,
                        lockable: !0
                    })
                })
            }

            function Q(e, t, n) {
                return {
                    address: e,
                    categories: [],
                    hours: {
                        days: []
                    },
                    longitude: t,
                    latitude: n
                }
            }

            function X(e) {
                var t = e.rawBusinessProfile,
                    n = e.validate,
                    a = e.onAfterSave,
                    r = e.errorFn,
                    o = (0, v.useState)(),
                    d = (0, s.default)(o, 2),
                    c = d[0],
                    f = d[1],
                    p = (0, v.useState)(null == t ? void 0 : t.address),
                    h = (0, s.default)(p, 2),
                    m = h[0],
                    _ = h[1],
                    x = (0, v.useState)(),
                    y = (0, s.default)(x, 2),
                    S = y[0],
                    b = y[1],
                    j = t || {},
                    E = j.longitude,
                    k = j.latitude,
                    w = (0, v.useState)(Q(m, E, k)),
                    T = (0, s.default)(w, 2),
                    I = T[0],
                    P = T[1];
                return (0, v.useEffect)((function() {
                    return P(Q(m, E, k))
                }), [m, E, k]), (0, v.useEffect)((function() {
                    n(m) && b(null)
                }), [m, n]), null == t || null == I ? null : (0, N.jsx)(L.IconSection, {
                    icon: "business-address",
                    theme: L.IconSectionTheme.NoMargin,
                    content: (0, N.jsx)(g.BusinessAddressField, {
                        businessProfile: I,
                        activeField: c,
                        rawBusinessProfile: t,
                        value: m,
                        validate: n,
                        error: S,
                        lowProfile: !1,
                        onActive: f,
                        onChange: _,
                        onCancel: function() {
                            _(t.address)
                        },
                        onSaveBusinessProfile: (0, u.default)(l.default.mark((function e() {
                            return l.default.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        return e.next = 2, (0, C.editBusinessProfile)({
                                            address: m
                                        });
                                    case 2:
                                        return e.next = 4, a((0, i.default)((0, i.default)({}, t), {}, {
                                            address: m
                                        }));
                                    case 4:
                                    case "end":
                                        return e.stop()
                                }
                            }), e)
                        }))),
                        onError: function() {
                            r && b(r(m))
                        }
                    })
                })
            }
        },
        68362: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(68551)),
                i = a(n(34575)),
                o = a(n(93913)),
                l = a(n(2205)),
                u = a(n(99842)),
                s = n(48360),
                d = n(67294),
                c = a(n(56720)),
                f = n(65901),
                p = n(66834),
                h = a(n(53187)),
                m = a(n(18345)),
                v = n(19288),
                g = a(n(50177)),
                _ = n(1191),
                x = n(23208),
                C = n(23526),
                y = n(45311),
                S = n(18489),
                b = n(85651),
                j = a(n(7665)),
                E = n(22459),
                k = a(n(93958)),
                w = n(85893),
                T = function(e) {
                    (0, l.default)(n, e);
                    var t = (0, u.default)(n);

                    function n() {
                        return (0, i.default)(this, n), t.apply(this, arguments)
                    }
                    return (0, o.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            this.push((0, w.jsx)(L, {
                                onBack: this.end
                            }))
                        }
                    }]), n
                }(g.default);
            t.default = T;
            var I = {
                    orderButton: {
                        paddingTop: "emrlamx0",
                        paddingEnd: "itegkywt",
                        paddingBottom: "aiput80m",
                        paddingStart: "rppts313",
                        display: "p357zi0d",
                        borderBottom: "qmxv8cnq",
                        textAlign: "ljrqcn24",
                        width: "ln8gz9je"
                    },
                    orderManagementDrawerBody: {
                        backgroundColor: "ihvf49ua"
                    },
                    orderInfo: {
                        paddingTop: "i5tg98hk",
                        paddingEnd: "itegkywt",
                        paddingBottom: "przvwfww",
                        paddingStart: "rppts313",
                        flexGrow: "ggj6brxn"
                    },
                    orderInfoRow: {
                        display: "p357zi0d",
                        paddingTop: "qomlamqu",
                        paddingEnd: "lnjlmjd6",
                        paddingBottom: "bxcbqipq",
                        paddingStart: "mc6o24uu",
                        fontSize: "enbbiyaj"
                    },
                    flexGrow: {
                        flexGrow: "ggj6brxn"
                    },
                    orderSubDetails: {
                        color: "re3l9645"
                    },
                    canceled: {
                        color: "mvxzr2tb"
                    },
                    completed: {
                        color: "jq3rn4u7"
                    },
                    title: {
                        paddingTop: "emrlamx0",
                        paddingEnd: "l9g3jx6n",
                        paddingBottom: "aiput80m",
                        paddingStart: "lyvj5e2u",
                        color: "re3l9645",
                        fontWeight: "hnx8ox4h",
                        fontSize: "f8jlpxt4",
                        lineHeight: "nig63irp"
                    },
                    noHistoryWrpr: {
                        display: "p357zi0d",
                        flexDirection: "f8m0rgwh",
                        alignItems: "gndfcl4n",
                        paddingTop: "qlb265nb"
                    },
                    subTitle: {
                        paddingTop: "tvsr5v2h",
                        paddingEnd: "l9g3jx6n",
                        paddingBottom: "jd93c9cp",
                        paddingStart: "lyvj5e2u",
                        color: "re3l9645",
                        fontSize: "dsh4tgtl",
                        lineHeight: "geihefkw"
                    },
                    loader: {
                        paddingTop: "tvsr5v2h",
                        paddingEnd: "l9g3jx6n",
                        paddingBottom: "jd93c9cp",
                        paddingStart: "lyvj5e2u",
                        display: "p357zi0d",
                        justifyContent: "ac2vgrno"
                    }
                },
                P = function(e) {
                    var t = e.orderStatusInfo,
                        n = void 0 === t ? y.OrderStatus.Pending : t,
                        a = S.OrderStatusLabels[n];
                    return (0, w.jsx)("span", {
                        className: (0, c.default)(I[String(n)]),
                        children: a
                    })
                },
                M = function(e) {
                    var t = e.items,
                        n = void 0 === t ? [] : t;
                    if (0 === n.length) return null;
                    var a = (0, r.default)(n),
                        i = a[0],
                        o = a.slice(1);
                    return (0, w.jsxs)("span", {
                        className: (0, c.default)(I.flexGrow),
                        children: [i.name, " ", o.length > 0 && (0, w.jsxs)(w.Fragment, {
                            children: [s.fbt._("and", null, {
                                hk: "10D2a9"
                            }), " ", 1 === o.length ? o[0].name : s.fbt._({
                                "*": "{number_of_items} items",
                                _1: "1 item"
                            }, [s.fbt._plural(o.length, "number_of_items")], {
                                hk: "1kMaqb"
                            })]
                        })]
                    })
                },
                O = function() {
                    return (0, w.jsxs)(w.Fragment, {
                        children: [(0, w.jsx)("div", {
                            className: (0, c.default)(I.title),
                            children: s.fbt._("History", null, {
                                hk: "4glDgc"
                            })
                        }), (0, w.jsxs)("div", {
                            className: (0, c.default)(I.noHistoryWrpr),
                            children: [(0, w.jsx)(j.default, {
                                name: "payment-history-empty"
                            }), (0, w.jsx)("div", {
                                className: (0, c.default)(I.subTitle),
                                children: s.fbt._("No order history", null, {
                                    hk: "AiunH"
                                })
                            })]
                        })]
                    })
                },
                L = (0, d.forwardRef)((function(e) {
                    var t = (0, E.useGetOrders)(),
                        n = t.ordersInfoMap,
                        a = n.contactAndOrderInfoMap,
                        r = n.orderStatusInfoMap,
                        i = t.isLoading,
                        o = (0, d.useMemo)((function() {
                            return Object.keys(a).sort((function(e, t) {
                                return a[t].timestamp - a[e].timestamp
                            }))
                        }), [a]);
                    return (0, w.jsxs)(h.default, {
                        children: [(0, w.jsx)(v.DrawerHeader, {
                            title: s.fbt._("Orders", null, {
                                hk: "3cylXu"
                            }),
                            type: v.DRAWER_HEADER_TYPE.LARGE,
                            onBack: e.onBack
                        }), (0, w.jsxs)(m.default, {
                            className: (0, c.default)(I.orderManagementDrawerBody),
                            children: [o.map((function(e, t) {
                                return (0, w.jsxs)(d.Fragment, {
                                    children: [(0, w.jsx)(D, {
                                        date: (0, C.getOrderDisplayDate)(a, o, t)
                                    }), (0, w.jsx)(A, {
                                        contactAndOrderInfo: a[e],
                                        orderStatusInfo: r[e] ? r[e].status : y.OrderStatus.Pending
                                    })]
                                }, e)
                            })), i && (0, w.jsx)("div", {
                                className: (0, c.default)(I.loader),
                                children: (0, w.jsx)(b.Spinner, {
                                    color: "default",
                                    size: 24,
                                    stroke: 6
                                })
                            }), !i && !o.length && (0, w.jsx)(O, {})]
                        })]
                    })
                })),
                A = function(e) {
                    var t, n = e.contactAndOrderInfo,
                        a = e.orderStatusInfo,
                        r = (0, k.default)();
                    return (0, w.jsxs)("button", {
                        onClick: function() {
                            var e = n.interactiveMsg;
                            e && (f.Cmd.openChatFromUnread(e.chat), (0, x.openOrderDetailDrawer)(e, r))
                        },
                        className: (0, c.default)(I.orderButton),
                        children: [(0, w.jsx)(p.DetailImage, {
                            id: n.contact.id
                        }), (0, w.jsxs)("div", {
                            className: (0, c.default)(I.orderInfo),
                            children: [(0, w.jsxs)("div", {
                                className: (0, c.default)(I.orderInfoRow),
                                children: [(0, w.jsx)(_.Name, {
                                    className: (0, c.default)(I.flexGrow),
                                    contact: n.contact
                                }), (0, w.jsxs)("span", {
                                    children: [n.orderInfo.currency, " ", null !== (t = n.orderInfo.totalAmount) && void 0 !== t ? t : 0]
                                })]
                            }), (0, w.jsxs)("div", {
                                className: (0, c.default)(I.orderInfoRow, I.orderSubDetails),
                                children: [(0, w.jsx)(M, {
                                    items: n.orderInfo.items
                                }), (0, w.jsx)(P, {
                                    orderStatusInfo: a
                                })]
                            })]
                        })]
                    })
                },
                D = function(e) {
                    var t = e.date,
                        n = void 0 === t ? "" : t;
                    return n && (0, w.jsx)("div", {
                        className: (0, c.default)(I.title),
                        children: n.toUpperCase()
                    })
                }
        },
        53814: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = U;
            var r = a(n(81109)),
                i = a(n(87757)),
                o = a(n(48926)),
                l = a(n(34575)),
                u = a(n(93913)),
                s = a(n(2205)),
                d = a(n(99842)),
                c = n(84460),
                f = n(48360),
                p = n(67294),
                h = n(26141),
                m = a(n(20385)),
                v = a(n(20859)),
                g = a(n(4988)),
                _ = n(65901),
                x = n(39358),
                C = a(n(86777)),
                y = n(20050),
                S = n(96706),
                b = a(n(50177)),
                j = n(2629),
                E = n(56264),
                k = a(n(45093)),
                w = a(n(11519)),
                T = a(n(96663)),
                I = a(n(60581)),
                P = n(52867),
                M = a(n(77538)),
                O = n(75294),
                L = a(n(1270)),
                A = n(60425),
                D = n(80270),
                R = a(n(46989)),
                N = a(n(40290)),
                F = n(85893),
                B = function(e) {
                    (0, s.default)(n, e);
                    var t = (0, d.default)(n);

                    function n() {
                        var e;
                        (0, l.default)(this, n);
                        for (var a = arguments.length, r = new Array(a), u = 0; u < a; u++) r[u] = arguments[u];
                        return (e = t.call.apply(t, [this].concat(r))).scrollOffset = 0, e.setScrollOffset = function(t) {
                            e.scrollOffset = t
                        }, e.onCollectionSeeAll = function(t) {
                            var n = e.props,
                                a = n.catalogOwnerJid,
                                r = n.chat,
                                i = n.product,
                                o = n.productInfo,
                                l = n.sellerJid,
                                u = a || (null == i ? void 0 : i.catalogWid.toString()) || (null == o ? void 0 : o.businessOwnerJid) || l;
                            e.push((0, F.jsx)(U, {
                                chat: r,
                                catalogOwnerJid: u,
                                collection: t,
                                isAllItems: !t
                            }))
                        }, e._pushProductDetails = function(t, n) {
                            var a = e.props,
                                r = a.chat,
                                i = a.refreshCarousel,
                                o = (0, F.jsx)(M.default, {
                                    chat: r,
                                    product: t,
                                    onEnd: e._end,
                                    onBack: e._popAndUpdate,
                                    onProductDetail: e.onProductDetail,
                                    onProductCatalog: e.onProductCatalogHeaderClick,
                                    onProductLinkClick: e._onProductLinkClick,
                                    onProductMoreInformation: e.onProductMoreInformation,
                                    refreshCarousel: i,
                                    onCartClick: e._onCartClick,
                                    collectionId: n
                                });
                            e.push(o)
                        }, e._pushProductMoreInformation = function(t) {
                            var n = (0, F.jsx)(R.default, {
                                product: t,
                                onBack: e._popAndUpdate
                            });
                            e.push(n)
                        }, e._pushProductDetailsWithDeepLink = function(t) {
                            var n = (0, F.jsx)(O.ProductDetailsWithDeepLink, {
                                chat: e.props.chat,
                                productInfo: t,
                                onEnd: e._end,
                                onBack: e._pop,
                                onProductDetail: e.onProductDetail,
                                onProductCatalog: e.onProductCatalogHeaderClick,
                                onProductLinkClick: e._onProductLinkClick,
                                onProductMoreInformation: e.onProductMoreInformation,
                                onCartClick: e._onCartClick
                            });
                            e.push(n)
                        }, e.pushProductCatalog = function() {
                            var t = (0, o.default)(i.default.mark((function t(n) {
                                var a, r, o;
                                return i.default.wrap((function(t) {
                                    for (;;) switch (t.prev = t.next) {
                                        case 0:
                                            return a = y.ContactCollection.gadd(n), t.next = 3, h.BusinessProfileCollection.find(n);
                                        case 3:
                                            r = t.sent, o = (0, j.canViewCollections)() ? (0, F.jsx)(g.default, {
                                                contact: a,
                                                onProductDetail: e.onProductDetail,
                                                catalogId: n,
                                                onBack: e._pop,
                                                businessProfile: r,
                                                scrollOffset: e.scrollOffset,
                                                setScrollOffset: e.setScrollOffset,
                                                onCatalogLinkClick: e._onCatalogLinkClick,
                                                onCartClick: e._onCartClick,
                                                onCollectionSeeAll: e.onCollectionSeeAll
                                            }) : (0, F.jsx)(A.ProductListDrawer, {
                                                contact: a,
                                                onProductDetail: e.onProductDetail,
                                                catalogId: n,
                                                onBack: e._pop,
                                                businessProfile: r,
                                                setScrollOffset: e.setScrollOffset,
                                                onCatalogLinkClick: e._onCatalogLinkClick,
                                                onCartClick: e._onCartClick
                                            }), e.push(o);
                                        case 6:
                                        case "end":
                                            return t.stop()
                                    }
                                }), t)
                            })));
                            return function() {
                                return t.apply(this, arguments)
                            }
                        }(), e._pushCartOrderDetail = function(t, n, a, r, i, o, l) {
                            var u = (0, F.jsx)(m.default, {
                                orderId: t,
                                token: n,
                                sellerJid: a,
                                userIsCartOwner: r,
                                onProductDetail: e._onProductDetailFromInfo,
                                onOrderCreate: e.onOrderCreate,
                                onOrderCancel: e._handleOrderCancel,
                                ownerHasReviewed: i,
                                orderMessage: o,
                                chat: l
                            });
                            e.push(u)
                        }, e._pushProductList = function(t, n) {
                            var a = y.ContactCollection.gadd(n),
                                r = (0, F.jsx)(D.ProductMessageListDrawer, {
                                    contact: a,
                                    productListId: t,
                                    onProductDetail: e.onProductDetail,
                                    onCartClick: e._onCartClick,
                                    onBack: e._pop,
                                    onEnd: e._end,
                                    setScrollOffset: e.setScrollOffset
                                });
                            e.push(r)
                        }, e._handleProductSummaryClick = function(t) {
                            e._pushOrderDetailProductList(t)
                        }, e._handleOrderStatusUpdateClick = function() {
                            e._pushOrderStatusUpdate()
                        }, e.onOrderCreate = function(t) {
                            e._pushOrderCreate(t)
                        }, e.cancelOrder = function() {
                            var t = e.props,
                                n = t.orderId,
                                a = t.token,
                                r = t.sellerJid,
                                i = t.userIsCartOwner,
                                o = t.orderMessage,
                                l = t.chat;
                            null != n && null != a && null != r && null != i && e._pushCartOrderDetail(n, a, r, i, !0, o, l), _.Cmd.closeModal()
                        }, e._handleOrderCancel = function() {
                            _.Cmd.openModal((0, F.jsx)(C.default, {
                                onCancel: function() {
                                    _.Cmd.closeModal()
                                },
                                cancelText: f.fbt._("No", null, {
                                    hk: "4G38V6"
                                }),
                                onOK: e.cancelOrder,
                                okText: f.fbt._("Yes cancel", null, {
                                    hk: "N0ngG"
                                }),
                                title: f.fbt._("Cancel this order?", null, {
                                    hk: "dMHPf"
                                }),
                                children: f.fbt._("The user will be notified that the order has been canceled.", null, {
                                    hk: "2cf0Xl"
                                })
                            }))
                        }, e.onProductDetail = function(t, n) {
                            e._pushProductDetails(t, n)
                        }, e.onProductMoreInformation = function(t) {
                            e._pushProductMoreInformation(t)
                        }, e._onProductDetailFromInfo = function(t) {
                            e._pushProductDetailsWithDeepLink(t)
                        }, e.onProductCatalogHeaderClick = function(t, n) {
                            (0, E.logCarouselViewMoreClick)({
                                catalogOwnerWid: t,
                                catalogContext: n
                            }), e.pushProductCatalog(t)
                        }, e._onProductLinkClick = function(t) {
                            e.push((0, F.jsx)(L.default, {
                                product: t,
                                onBack: e._pop
                            }))
                        }, e._onCatalogLinkClick = function(t, n) {
                            e.push((0, F.jsx)(v.default, {
                                catalog: t,
                                contact: n,
                                onBack: e._pop
                            }))
                        }, e._onCartClick = function(t) {
                            var n = (0, P.getProductCatalogContext)(e.props.context),
                                a = (0, N.default)(t, e.props.chat, n);
                            a && e.push(a)
                        }, e._pop = function() {
                            e.pop()
                        }, e._end = function() {
                            e.end(!0)
                        }, e._popAndUpdate = function() {
                            e.popAndUpdate({
                                scrollOffset: e.scrollOffset
                            })
                        }, e
                    }
                    return (0, u.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this.props,
                                t = e.catalogOwnerJid,
                                n = e.orderId,
                                a = e.product,
                                r = e.productInfo,
                                i = e.productListId,
                                o = e.collection,
                                l = e.collectionId,
                                u = e.isAllItems,
                                s = e.token,
                                d = e.sellerJid,
                                f = e.userIsCartOwner,
                                p = e.orderMessage,
                                h = e.chat,
                                m = e.orderInfo;
                            if (t) o || u ? this.pushCollectionContent((0, c.createWid)(t)) : null != i ? this._pushProductList(i, (0, c.createWid)(t)) : this.pushProductCatalog((0, c.createWid)(t));
                            else if (a) this._pushProductDetails(a, l);
                            else if (r) this._pushProductDetailsWithDeepLink(r);
                            else if (n) null != s && null != d && null != f && this._pushCartOrderDetail(n, s, d, f, !1, p, h);
                            else {
                                if (null == m || null == d) throw new Error("ProductDetailsFlow:no-product");
                                this._pushOrderDetail(h, m, (0, c.createWid)(d))
                            }
                        }
                    }, {
                        key: "pushCollectionContent",
                        value: function(e) {
                            var t = y.ContactCollection.gadd(e);
                            this.push((0, F.jsx)(x.CollectionContentDrawer, {
                                contact: t,
                                onProductDetail: this.onProductDetail,
                                catalogId: e,
                                onBack: this._pop,
                                onCatalogLinkClick: this._onCatalogLinkClick,
                                onCartClick: this._onCartClick,
                                scrollOffset: this.scrollOffset,
                                setScrollOffset: this.setScrollOffset,
                                collection: this.props.collection
                            }))
                        }
                    }, {
                        key: "_pushOrderCreate",
                        value: function(e) {
                            this.push((0, F.jsx)(k.default, {
                                order: e,
                                chat: this.props.chat
                            }))
                        }
                    }, {
                        key: "_pushOrderDetailProductList",
                        value: function(e) {
                            this.push((0, F.jsx)(T.default, {
                                onBack: this._pop,
                                productItems: e
                            }))
                        }
                    }, {
                        key: "_pushOrderDetail",
                        value: function(e, t, n) {
                            this.push((0, F.jsx)(w.default, {
                                onBack: this._pop,
                                orderInfo: t,
                                sellerWid: n,
                                chat: e,
                                onProductSummaryClick: this._handleProductSummaryClick,
                                onOrderStatusUpdateClick: this._handleOrderStatusUpdateClick
                            }))
                        }
                    }, {
                        key: "_pushOrderStatusUpdate",
                        value: function() {
                            var e = this.props,
                                t = e.orderInfo,
                                n = e.sellerJid;
                            null != t && null != n && this.push((0, F.jsx)(I.default, {
                                chat: this.props.chat,
                                onBack: this._pop,
                                orderInfo: t,
                                sellerJid: n
                            }))
                        }
                    }]), n
                }(b.default);

            function U(e) {
                var t = (0, p.useContext)(S.DrawerContext);
                return (0, F.jsx)(B, (0, r.default)({
                    context: t
                }, e))
            }
        },
        96861: (e, t, n) => {
            "use strict";
            var a = n(21314).default,
                r = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(n(87757)),
                o = r(n(48926)),
                l = r(n(34575)),
                u = r(n(93913)),
                s = r(n(2205)),
                d = r(n(99842)),
                c = n(80965),
                f = n(84533),
                p = n(65901),
                h = r(n(50177)),
                m = r(n(45159)),
                v = n(81310),
                g = n(64803),
                _ = n(43890),
                x = n(85893),
                C = function(e) {
                    (0, s.default)(n, e);
                    var t = (0, d.default)(n);

                    function n() {
                        var e;
                        (0, l.default)(this, n);
                        for (var r = arguments.length, u = new Array(r), s = 0; s < r; s++) u[s] = arguments[s];
                        return (e = t.call.apply(t, [this].concat(u)))._handleForwardConfirmed = function(t) {
                            (0, v.qplStartProductSendMessage)("Forward", void 0, t.length);
                            var n = t.map(function() {
                                var t = (0, o.default)(i.default.mark((function t(n) {
                                    return i.default.wrap((function(t) {
                                        for (;;) switch (t.prev = t.next) {
                                            case 0:
                                                if (!n.isUser || !n.contact.isBlocked()) {
                                                    t.next = 3;
                                                    break
                                                }
                                                return t.next = 3, (0, f.unblockContact)(n.contact);
                                            case 3:
                                                return t.abrupt("return", e._sendProduct(n));
                                            case 4:
                                            case "end":
                                                return t.stop()
                                        }
                                    }), t)
                                })));
                                return function() {
                                    return t.apply(this, arguments)
                                }
                            }());
                            (0, v.qplEndProductMessageSend)(a.all(n)), e.end(), 1 === t.length && (p.Cmd.openChatFromUnread(t[0]), window.innerWidth <= c.LAYOUT_2COLUMNS_MAX_WIDTH && p.Cmd.closeDrawerRight()), e.props.onSend && e.props.onSend()
                        }, e._handleCancel = function() {
                            e.end()
                        }, e._sendProduct = function(t) {
                            var n = e.props.product;
                            return new a((function(e, a) {
                                p.Cmd.once("ui_idle", (function() {
                                    t.sendProductMessage(n).then((function() {
                                        return e()
                                    })).catch((function(e) {
                                        return a(e)
                                    }))
                                }))
                            }))
                        }, e
                    }
                    return (0, u.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            p.Cmd.closeContextMenu(), p.Cmd.closeTooltip(), this.push((0, x.jsx)(g.SelectModal, {
                                onConfirm: this._handleForwardConfirmed,
                                maxItems: _.ServerProps.multicastLimitGlobal,
                                title: m.default.t(641),
                                listType: g.ListType.CHAT_SELECT_MODAL,
                                onCancel: this._handleCancel
                            }))
                        }
                    }]), n
                }(h.default);
            t.default = C
        },
        53196: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(93913)),
                o = a(n(2205)),
                l = a(n(99842)),
                u = a(n(96002)),
                s = a(n(50177)),
                d = n(18070),
                c = n(85893),
                f = function(e) {
                    (0, o.default)(n, e);
                    var t = (0, l.default)(n);

                    function n() {
                        var e;
                        (0, r.default)(this, n);
                        for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++) i[o] = arguments[o];
                        return (e = t.call.apply(t, [this].concat(i))).sendMedia = function(t) {
                            var n = t.getImg,
                                a = t.caption,
                                r = t.isViewOnce,
                                i = t.mentionedJidList,
                                o = e.props.chat,
                                l = o.composeQuotedMsg;
                            o.composeQuotedMsg = null;
                            var u = o.getComposeContents().ctwaContext || void 0;
                            (0, d.prepRawMedia)(n, {}).sendToChat(o, {
                                caption: a,
                                mentionedJidList: i,
                                quotedMsg: l,
                                ctwaContext: u,
                                isViewOnce: r
                            }), e.props.onCaptureSent(), e.end()
                        }, e
                    }
                    return (0, i.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this;
                            this.push((0, c.jsx)(u.default, {
                                onBack: function() {
                                    e.end()
                                },
                                chat: this.props.chat,
                                caption: !0,
                                theme: "capture-contain",
                                onSend: this.sendMedia,
                                stream: this.props.stream,
                                disposeStream: this.props.disposeStream
                            }))
                        }
                    }]), n
                }(s.default);
            t.default = f
        },
        21043: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(93913)),
                o = a(n(2205)),
                l = a(n(99842)),
                u = a(n(54482)),
                s = a(n(50177)),
                d = n(51416),
                c = n(85893),
                f = function(e) {
                    (0, o.default)(n, e);
                    var t = (0, l.default)(n);

                    function n() {
                        var e;
                        (0, r.default)(this, n);
                        for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++) i[o] = arguments[o];
                        return (e = t.call.apply(t, [this].concat(i))).onProductClick = function(t) {
                            e.push((0, c.jsx)(d.ProductDetailsFlowLoadable, {
                                refreshCarousel: !0,
                                chat: e.props.msg.chat,
                                product: t,
                                onEnd: e._pop
                            }))
                        }, e._pop = function() {
                            e.pop()
                        }, e
                    }
                    return (0, i.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            this.push((0, c.jsx)(u.default, {
                                msg: this.props.msg,
                                onProductClick: this.onProductClick
                            }))
                        }
                    }]), n
                }(s.default);
            t.default = f
        },
        97545: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(93913)),
                o = a(n(2205)),
                l = a(n(99842)),
                u = n(15586),
                s = a(n(96002)),
                d = n(65901),
                c = n(5847),
                f = C(n(18286)),
                p = a(n(50177)),
                h = n(7244),
                m = C(n(94200)),
                v = n(73454),
                g = a(n(17746)),
                _ = n(85893);

            function x(e) {
                if ("function" != typeof WeakMap) return null;
                var t = new WeakMap,
                    n = new WeakMap;
                return (x = function(e) {
                    return e ? n : t
                })(e)
            }

            function C(e, t) {
                if (!t && e && e.__esModule) return e;
                if (null === e || "object" != typeof e && "function" != typeof e) return {
                    default: e
                };
                var n = x(t);
                if (n && n.has(e)) return n.get(e);
                var a = {},
                    r = Object.defineProperty && Object.getOwnPropertyDescriptor;
                for (var i in e)
                    if ("default" !== i && Object.prototype.hasOwnProperty.call(e, i)) {
                        var o = r ? Object.getOwnPropertyDescriptor(e, i) : null;
                        o && (o.get || o.set) ? Object.defineProperty(a, i, o) : a[i] = e[i]
                    } return a.default = e, n && n.set(e, a), a
            }
            var y = function(e) {
                    (0, o.default)(n, e);
                    var t = (0, l.default)(n);

                    function n() {
                        var e;
                        (0, r.default)(this, n);
                        for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++) i[o] = arguments[o];
                        return (e = t.call.apply(t, [this].concat(i)))._refCaptureDrawer = null, e._setRefCaptureDrawer = function(t) {
                            e._refCaptureDrawer = t
                        }, e._pushPermissionModal = function() {
                            e.push((0, _.jsx)(h.GuidePopup, {
                                messaging: h.Messaging.CAMERA,
                                type: h.TYPE.GUIDE_ALLOW,
                                onConfirm: e._popModal
                            }), "modal")
                        }, e._popModal = function() {
                            e.pop("modal")
                        }, e._startCaptureDrawer = function() {
                            var t, n;
                            null === (t = (n = e)._disposeStream) || void 0 === t || t.call(n);
                            var a = m.start("camera", e._pushPermissionModal),
                                r = a.asyncStream,
                                i = a.disposeStream;
                            e._disposeStream = i, r.then((function(t) {
                                e._refCaptureDrawer || e._popModal(), t && e._refCaptureDrawer && e._refCaptureDrawer.loadNewStream(t, i)
                            })).catch((0, u.filteredCatch)(f.GUM.NotAllowedError, (function() {
                                e.cleanUp(), d.Cmd.openModal((0, _.jsx)(h.GuidePopup, {
                                    messaging: h.Messaging.CAMERA_FAIL,
                                    type: h.TYPE.GUIDE_UNBLOCK
                                }))
                            }))).catch((0, u.filteredCatch)(f.GUM.GUMError, (function() {
                                e.cleanUp(), d.Cmd.openModal((0, _.jsx)(h.GuidePopup, {
                                    messaging: h.Messaging.CAMERA_MISSING,
                                    type: h.TYPE.GUIDE_NONE
                                }))
                            })))
                        }, e.onFinished = function(t, n) {
                            e.props.onFinished(t, n), e.cleanUp()
                        }, e.cleanUp = function() {
                            e.end()
                        }, e.onRetake = function() {
                            e.pop("flow-transition-box-size-drawer-pop"), e._startCaptureDrawer()
                        }, e.onCaptured = function(t) {
                            e.push((0, _.jsx)(v.Modal, {
                                type: v.ModalTheme.Box,
                                children: (0, _.jsx)(c.EditImageDrawer, {
                                    onRetake: e.onRetake,
                                    retryText: c.RETRY_OPTIONS.RETAKE,
                                    onFinished: e.onFinished,
                                    onCancel: e.cleanUp,
                                    img: t
                                })
                            }), "flow-transition-box-size-drawer-push")
                        }, e.handleRequestDismiss = function(t) {
                            !1 === t && e.stackSize() > 1 ? e.onRetake() : e.cleanUp()
                        }, e
                    }
                    return (0, i.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            this.push((0, _.jsx)(v.Modal, {
                                type: v.ModalTheme.Box,
                                children: (0, _.jsx)(s.default, {
                                    ref: this._setRefCaptureDrawer,
                                    stream: void 0,
                                    disposeStream: void 0,
                                    caption: !1,
                                    theme: "capture-cover",
                                    onBack: this.cleanUp,
                                    onSend: null,
                                    onCaptured: this.onCaptured,
                                    chat: void 0
                                })
                            })), this._startCaptureDrawer()
                        }
                    }, {
                        key: "componentWillUnmount",
                        value: function() {
                            var e;
                            null === (e = this._disposeStream) || void 0 === e || e.call(this)
                        }
                    }]), n
                }(p.default),
                S = (0, g.default)(y);
            t.default = S
        },
        60445: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(93913)),
                o = a(n(2205)),
                l = a(n(99842)),
                u = n(5847),
                s = a(n(50177)),
                d = n(85893),
                c = function(e) {
                    (0, o.default)(n, e);
                    var t = (0, l.default)(n);

                    function n() {
                        var e;
                        (0, r.default)(this, n);
                        for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++) i[o] = arguments[o];
                        return (e = t.call.apply(t, [this].concat(i))).onEnd = function() {
                            e.end()
                        }, e.onFinished = function(t, n) {
                            e.props.onFinished(t, n), e.end()
                        }, e
                    }
                    return (0, i.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            this.push((0, d.jsx)(u.EditImageDrawer, {
                                onCancel: this.onEnd,
                                onFinished: this.onFinished,
                                onRetake: this.props.onRetake,
                                retryText: u.RETRY_OPTIONS.RESTART,
                                img: this.props.img
                            }))
                        }
                    }]), n
                }(s.default);
            t.default = c
        },
        55036: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(93913)),
                o = a(n(2205)),
                l = a(n(99842)),
                u = n(15586),
                s = a(n(3208)),
                d = n(48360),
                c = n(4481),
                f = n(65901),
                p = a(n(86777)),
                h = a(n(50177)),
                m = a(n(80307)),
                v = a(n(15733)),
                g = a(n(45159)),
                _ = n(64803),
                x = n(43890),
                C = n(85893),
                y = function(e) {
                    (0, o.default)(n, e);
                    var t = (0, l.default)(n);

                    function n() {
                        var e;
                        (0, r.default)(this, n);
                        for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++) i[o] = arguments[o];
                        return (e = t.call.apply(t, [this].concat(i))).requestFocus = function() {
                            var t, n = null === (t = e.refUIE) || void 0 === t ? void 0 : t.getRef();
                            null != n && (n instanceof HTMLElement || "function" != typeof n.onFocusList || n.onFocusList())
                        }, e.onForwardConfirmed = function(t) {
                            var n = e.props,
                                a = n.msgs,
                                r = n.onForward;
                            c.ChatCollection.forwardMessagesToChats(a, t).catch((0, u.filteredCatch)(m.default, (function(t) {
                                e._showMediaSendError(t.reasons)
                            }))), e.end(), r && r(a), f.Cmd.openChatFromUnread(t[0])
                        }, e._showMediaSendError = function(e) {
                            var t = e.map((function(e) {
                                var t = e.chat,
                                    n = e.reason;
                                return (0, C.jsxs)("p", {
                                    children: [t.formattedTitle, " : ", n]
                                }, t.id.toString())
                            }));
                            f.Cmd.openModal((0, C.jsx)(p.default, {
                                onOK: function() {
                                    return f.Cmd.closeModal()
                                },
                                okText: d.fbt._("OK", null, {
                                    hk: "2KEeHb"
                                }),
                                children: t
                            }), void 0)
                        }, e
                    }
                    return (0, i.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            var e, t = this.props.msgs,
                                n = g.default.t(469, {
                                    _plural: t.length || 1
                                }),
                                a = t[0],
                                r = a.chat;
                            e = "video" !== a.type && "image" !== a.type ? "message" : a.type;
                            var i, o = t.some((function(e) {
                                    return e.isFrequentlyForwarded
                                })),
                                l = t.some((function(e) {
                                    return e.isForwarded
                                })),
                                u = t.filter((function(e) {
                                    return !e.isFrequentlyForwarded && e.getForwardingScoreWhenForwarded() === s.default.FREQUENTLY_FORWARDED_SENTINEL
                                }));
                            u.length && (i = (0, C.jsx)(v.default, {
                                frequentlyForwardedCount: u.length,
                                totalCount: t.length
                            }));
                            var d = o ? x.ServerProps.frequentlyForwardedMax : x.ServerProps.multicastLimitGlobal;
                            this.push((0, C.jsx)(_.SelectModal, {
                                onConfirm: this.onForwardConfirmed,
                                maxItems: d,
                                excludeChat: r,
                                excludeBroadcast: !0,
                                msgType: e,
                                title: n,
                                listType: _.ListType.CHAT_SELECT_MODAL,
                                customHeader: i,
                                hasFrequentlyForwarded: o,
                                hasForwarded: l,
                                ephemeralIcon: "chat-list"
                            }))
                        }
                    }]), n
                }(h.default);
            t.default = y
        },
        9025: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(93913)),
                o = a(n(2205)),
                l = a(n(99842)),
                u = a(n(50177)),
                s = a(n(4485)),
                d = n(85893),
                c = function(e) {
                    (0, o.default)(n, e);
                    var t = (0, l.default)(n);

                    function n() {
                        return (0, r.default)(this, n), t.apply(this, arguments)
                    }
                    return (0, i.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            this.push((0, d.jsx)(s.default, {
                                chat: this.props.chat,
                                onConfirm: this.props.onConfirm
                            }))
                        }
                    }]), n
                }(u.default);
            t.default = c
        },
        92025: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(93913)),
                o = a(n(2205)),
                l = a(n(99842)),
                u = a(n(50177)),
                s = a(n(57027)),
                d = n(51416),
                c = n(85893),
                f = function(e) {
                    (0, o.default)(n, e);
                    var t = (0, l.default)(n);

                    function n() {
                        var e;
                        (0, r.default)(this, n);
                        for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++) i[o] = arguments[o];
                        return (e = t.call.apply(t, [this].concat(i))).onProductClick = function(t) {
                            e.push((0, c.jsx)(d.ProductDetailsFlowLoadable, {
                                refreshCarousel: !0,
                                chat: e.props.msg.chat,
                                product: t,
                                onEnd: e._pop
                            }))
                        }, e._pop = function() {
                            e.pop()
                        }, e
                    }
                    return (0, i.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            this.push((0, c.jsx)(s.default, {
                                msg: this.props.msg,
                                onProductClick: this.onProductClick
                            }))
                        }
                    }]), n
                }(u.default);
            t.default = f
        },
        82700: (e, t, n) => {
            "use strict";
            var a = n(21314).default,
                r = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(n(87757)),
                o = r(n(48926)),
                l = r(n(34575)),
                u = r(n(93913)),
                s = r(n(2205)),
                d = r(n(99842)),
                c = n(48360),
                f = n(65901),
                p = r(n(86777)),
                h = n(68985),
                m = r(n(50177)),
                v = r(n(52336)),
                g = r(n(91522)),
                _ = r(n(45159)),
                x = r(n(82589)),
                C = n(1191),
                y = n(26237),
                S = n(92428),
                b = n(85893),
                j = function(e) {
                    (0, s.default)(n, e);
                    var t = (0, d.default)(n);

                    function n() {
                        var e;
                        (0, l.default)(this, n);
                        for (var r = arguments.length, u = new Array(r), s = 0; s < r; s++) u[s] = arguments[s];
                        return (e = t.call.apply(t, [this].concat(u))).onSendInvite = function() {
                            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "",
                                n = arguments.length > 1 ? arguments[1] : void 0;
                            f.Cmd.closeModal(), a.all(e.props.participantNeedInvite.map(function() {
                                var a = (0, o.default)(i.default.mark((function a(r) {
                                    var o, l, u, s, d, c;
                                    return i.default.wrap((function(a) {
                                        for (;;) switch (a.prev = a.next) {
                                            case 0:
                                                return o = r.contact, l = r.invite_code, u = r.invite_code_exp, a.next = 3, (0, h.findChat)(o.id);
                                            case 3:
                                                return s = a.sent, d = e.props.groupGid.toString(), c = v.default.assertGet(d), a.next = 8, s.sendGroupInviteMessage(d, e.props.subject, l || "", u, t, n);
                                            case 8:
                                                if (a.sent !== y.SendMsgResult.OK) {
                                                    a.next = 12;
                                                    break
                                                }
                                                return c.pendingParticipants.add({
                                                    id: o.id
                                                }), a.abrupt("return", !0);
                                            case 12:
                                                return a.abrupt("return", !1);
                                            case 13:
                                            case "end":
                                                return a.stop()
                                        }
                                    }), a)
                                })));
                                return function() {
                                    return a.apply(this, arguments)
                                }
                            }())).then((function(e) {
                                var t = e.filter(Boolean).length;
                                f.Cmd.openToast((0, b.jsx)(S.Toast, {
                                    msg: _.default.t(932, {
                                        num: t,
                                        _plural: t
                                    }),
                                    id: (0, S.genId)()
                                }))
                            }))
                        }, e._addInviteCommment = function(t) {
                            e.push((0, b.jsx)(g.default, {
                                participants: t,
                                gid: e.props.groupGid,
                                subject: e.props.subject,
                                groupDesc: e.props.groupDesc,
                                onClose: e._pop,
                                onSend: e.onSendInvite
                            }))
                        }, e._pop = function() {
                            e.pop()
                        }, e
                    }
                    return (0, u.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this.props.participantNeedInvite,
                                t = this._getFormattedNames(e.map((function(e) {
                                    return e.contact
                                })), !0),
                                n = _.default.t(512, {
                                    participant: t,
                                    _plural: e.length
                                });
                            this.push((0, b.jsx)(p.default, {
                                onOK: this._addInviteCommment.bind(this, e),
                                okText: c.fbt._("Invite to group", null, {
                                    hk: "FbMSO"
                                }),
                                onCancel: this._pop,
                                cancelText: c.fbt._("Cancel", null, {
                                    hk: "H0gNq"
                                }),
                                children: n
                            }))
                        }
                    }, {
                        key: "_getFormattedName",
                        value: function(e) {
                            var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                            return t ? e.formattedUser : (0, b.jsx)(C.Name, {
                                contact: e
                            })
                        }
                    }, {
                        key: "_getFormattedNames",
                        value: function(e) {
                            var t = this,
                                n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                            if (!Array.isArray(e)) return this._getFormattedName(e, n);
                            var a = e.map((function(e) {
                                return t._getFormattedName(e, n)
                            }));
                            return (0, x.default)(a, n)
                        }
                    }]), n
                }(m.default);
            t.default = j, j.defaultProps = {
                removeTopDrawer: !0,
                pushTransition: "none",
                popTransition: "none"
            }
        },
        89902: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(93913)),
                o = a(n(2205)),
                l = a(n(99842)),
                u = n(5847),
                s = a(n(50177)),
                d = a(n(79054)),
                c = n(85893),
                f = function(e) {
                    (0, o.default)(n, e);
                    var t = (0, l.default)(n);

                    function n() {
                        var e;
                        (0, r.default)(this, n);
                        for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++) i[o] = arguments[o];
                        return (e = t.call.apply(t, [this].concat(i))).onImageSelected = function(t, n) {
                            e.push((0, c.jsx)(u.EditImageDrawer, {
                                onCancel: e._handleCancel,
                                attributionUrl: n,
                                onFinished: e.onFinished,
                                onRetake: e._pop,
                                retryText: u.RETRY_OPTIONS.NONE,
                                img: t
                            }))
                        }, e._handleCancel = function() {
                            e.end()
                        }, e._pop = function() {
                            e.pop()
                        }, e.onFinished = function(t, n) {
                            e.props.onFinished(t, n), e.end()
                        }, e
                    }
                    return (0, i.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            this.push((0, c.jsx)(d.default, {
                                onCancel: this._pop,
                                onImageSelected: this.onImageSelected
                            }))
                        }
                    }]), n
                }(s.default);
            t.default = f
        },
        81310: (e, t, n) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.qplEndProductMessageSend = function(e) {
                var t = r.QuickLogMarkerId.WHATSAPP_PRODUCT_MESSAGE_SEND;
                e.then((function() {
                    a.QPL.markerEnd(t, a.QuickLogActionType.SUCCESS)
                })).catch((function() {
                    a.QPL.markerEnd(t, a.QuickLogActionType.FAIL)
                }))
            }, t.qplStartProductSendMessage = function(e, t, n) {
                var i = r.QuickLogMarkerId.WHATSAPP_PRODUCT_MESSAGE_SEND;
                a.QPL.markerStart(i, {
                    string: {
                        EntryPoint: e
                    }
                }), void 0 !== t && a.QPL.markerAnnotate(i, {
                    int: {
                        ProductCount: t
                    }
                }), void 0 !== n && a.QPL.markerAnnotate(i, {
                    int: {
                        ContactCount: n
                    }
                })
            };
            var a = n(3298),
                r = n(4099)
        },
        43186: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(93913)),
                o = a(n(81506)),
                l = a(n(2205)),
                u = a(n(99842)),
                s = n(65901),
                d = n(20050),
                c = a(n(15201)),
                f = n(94520),
                p = n(68985),
                h = a(n(50177)),
                m = a(n(45159)),
                v = n(26500),
                g = a(n(64533)),
                _ = a(n(93581)),
                x = n(85893),
                C = function(e) {
                    (0, l.default)(n, e);
                    var t = (0, u.default)(n);

                    function n() {
                        var e;
                        (0, r.default)(this, n);
                        for (var a = arguments.length, i = new Array(a), l = 0; l < a; l++) i[l] = arguments[l];
                        return (e = t.call.apply(t, [this].concat(i)))._handleClick = function(t, n) {
                            (0, p.findChat)(n.id).then(s.Cmd.openChatFromUnread.bind(s.Cmd)), e.end()
                        }, e._handleNewGroup = function() {
                            e.push((0, x.jsx)(_.default, {
                                onBack: e.pop,
                                onContinue: e._handleSetGroupInfo
                            }))
                        }, e._handleNewCommunity = function() {
                            e.push((0, x.jsx)(v.NewCommunityFlowLoadable, {
                                onBack: e.pop.bind((0, o.default)(e))
                            }))
                        }, e._handleSubmit = function(t, n, a, r) {
                            var i = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : [];
                            (0, f.createGroup)(t, n, a, i, r), e.end()
                        }, e._handleSetGroupInfo = function(t) {
                            e.push((0, x.jsx)(g.default, {
                                participants: t,
                                onBack: function() {
                                    e.popAndUpdate({
                                        participants: t
                                    })
                                },
                                onSubmit: e._handleSubmit
                            }))
                        }, e
                    }
                    return (0, i.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            d.ContactCollection.ensureSorted(), this.push((0, x.jsx)(c.default, {
                                title: m.default.t(675),
                                onBack: this.end,
                                onClick: this._handleClick,
                                onNewGroup: this._handleNewGroup,
                                onNewCommunity: this._handleNewCommunity
                            }))
                        }
                    }]), n
                }(h.default);
            t.default = C
        },
        76115: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = (0, c.useState)(""),
                    n = (0, l.default)(t, 2),
                    a = n[0],
                    I = n[1],
                    P = (0, c.useState)(),
                    M = (0, l.default)(P, 2),
                    O = M[0],
                    L = M[1],
                    A = (0, c.useState)(),
                    D = (0, l.default)(A, 2),
                    R = D[0],
                    N = D[1],
                    F = (0, b.default)(y.NUX.COMMUNITY),
                    B = (0, l.default)(F, 2),
                    U = B[0],
                    G = B[1],
                    H = (0, c.useState)([]),
                    W = (0, l.default)(H, 2),
                    V = W[0],
                    z = W[1],
                    q = (0, c.useState)([]),
                    K = (0, l.default)(q, 2),
                    Y = K[0],
                    Q = K[1],
                    X = (0, c.useState)(!0),
                    Z = (0, l.default)(X, 2),
                    J = Z[0],
                    $ = Z[1],
                    ee = (0, c.useState)(k.METADATA_DRAWER),
                    te = (0, l.default)(ee, 2),
                    ne = te[0],
                    ae = te[1],
                    re = (0, u.default)((function() {
                        e.onBack ? e.onBack() : h.Cmd.closeDrawerLeft()
                    }));

                function ie(e) {
                    $(!0), ae(e)
                }

                function oe(e) {
                    $(!1), ae(e)
                }

                function le() {
                    return ue.apply(this, arguments)
                }

                function ue() {
                    return (ue = (0, o.default)(r.default.mark((function e() {
                        return r.default.wrap((function(e) {
                            for (;;) switch (e.prev = e.next) {
                                case 0:
                                    return e.next = 2, (0, v.default)({
                                        name: a,
                                        desc: O,
                                        icon: R,
                                        existingGroups: V,
                                        newGroups: Y
                                    });
                                case 2:
                                    h.Cmd.closeDrawerLeft();
                                case 3:
                                case "end":
                                    return e.stop()
                            }
                        }), e)
                    })))).apply(this, arguments)
                }

                function se(e, t, n) {
                    var a = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0,
                        r = (0, s.randomHex)(8);
                    Q((function(t) {
                        return [{
                            tempId: r,
                            subject: e,
                            icon: n,
                            ephemeralDuration: a
                        }].concat((0, i.default)(t))
                    })), oe(k.GROUPS_MANAGER)
                }

                function de(e) {
                    var t = e.map((function(e) {
                        var t, n = (0, d.default)(p.ChatCollection.get(e.id.toString()), "ChatCollection.get(contact.id.toString())");
                        return {
                            id: e.id,
                            subject: n.title(),
                            participants: null === (t = n.groupMetadata) || void 0 === t ? void 0 : t.participants,
                            contact: e
                        }
                    }));
                    z(t), oe(k.GROUPS_MANAGER)
                }

                function ce(e) {
                    var t = Y.filter((function(t) {
                            return t.tempId !== e
                        })),
                        n = V.filter((function(t) {
                            return t.id.toString() !== e
                        }));
                    Y.length !== t && Q(t), V.length !== n && z(n)
                }
                var fe = w.indexOf(ne),
                    pe = function(e) {
                        switch (e) {
                            case k.METADATA_DRAWER:
                                return (0, E.jsx)(x.default, {
                                    name: a,
                                    description: O,
                                    imgBlob: R,
                                    onBack: re,
                                    onContinue: function(e, t, n) {
                                        I(e), L(t), N(n), ie(k.GROUPS_MANAGER)
                                    }
                                });
                            case k.GROUPS_MANAGER:
                                return (0, E.jsx)(_.default, {
                                    name: a,
                                    description: O,
                                    imgBlob: R,
                                    onBack: function() {
                                        return oe(k.METADATA_DRAWER)
                                    },
                                    onNewGroupFlow: function() {
                                        return ie(k.NEW_GROUP)
                                    },
                                    onExistingGroupFlow: function() {
                                        return ie(k.EXISTING_GROUP)
                                    },
                                    onRemoveGroup: ce,
                                    onCreateCommunity: le,
                                    groups: [].concat((0, i.default)(V), (0, i.default)(Y))
                                });
                            case k.NEW_GROUP:
                                return (0, E.jsx)(C.default, {
                                    onBack: function() {
                                        return oe(k.GROUPS_MANAGER)
                                    },
                                    onSubmit: se
                                });
                            case k.EXISTING_GROUP:
                                return t = V.reduce((function(e, t) {
                                    return null != t.contact && e.push(t.contact), e
                                }), []), (0, E.jsx)(g.default, {
                                    onBack: function() {
                                        return oe(k.GROUPS_MANAGER)
                                    },
                                    onSubmit: de,
                                    addedExistingGroups: t,
                                    newGroupsCount: Y.length
                                })
                        }
                        var t
                    }(ne);
                if (U) return (0, E.jsx)(m.default, {
                    onContinue: G
                });
                return (0, E.jsx)(j.default, {
                    transitionName: J ? "flow-transition-drawer-push" : "flow-transition-drawer-pop",
                    className: (0, f.default)(T),
                    children: (0, E.jsx)(S.UIE, {
                        displayName: `FlowDrawer${fe}`,
                        escapable: !0,
                        requestDismiss: function() {
                            re()
                        },
                        children: pe
                    }, fe)
                })
            };
            var r = a(n(87757)),
                i = a(n(319)),
                o = a(n(48926)),
                l = a(n(63038)),
                u = a(n(51463)),
                s = n(56985),
                d = a(n(272)),
                c = n(67294),
                f = a(n(56720)),
                p = n(4481),
                h = n(65901),
                m = a(n(15001)),
                v = a(n(94751)),
                g = a(n(88284)),
                _ = a(n(71115)),
                x = a(n(24980)),
                C = a(n(64533)),
                y = n(15849),
                S = n(16835),
                b = a(n(36387)),
                j = a(n(60806)),
                E = n(85893),
                k = n(76672).Mirrored(["METADATA_DRAWER", "GROUPS_MANAGER", "NEW_GROUP", "EXISTING_GROUP"]),
                w = Array.from(k.members()),
                T = {
                    position: "lhggkp7q",
                    top: "qq0sjtgm",
                    start: "tkdu00h0",
                    width: "ln8gz9je",
                    height: "ppled2lx",
                    overflowX: "gfz4du6o",
                    overflowY: "r7fjleex"
                }
        },
        40655: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(93913)),
                o = a(n(2205)),
                l = a(n(99842)),
                u = n(20050),
                s = n(94520),
                d = a(n(50177)),
                c = a(n(64533)),
                f = a(n(93581)),
                p = n(85893),
                h = function(e) {
                    (0, o.default)(n, e);
                    var t = (0, l.default)(n);

                    function n() {
                        var e;
                        (0, r.default)(this, n);
                        for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++) i[o] = arguments[o];
                        return (e = t.call.apply(t, [this].concat(i)))._handleSubmit = function(t, n, a, r) {
                            var i = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : [];
                            (0, s.createGroup)(t, n, a, i, r), e.end()
                        }, e.onSetGroupInfo = function(t) {
                            e.push((0, p.jsx)(c.default, {
                                participants: t,
                                onBack: function() {
                                    e.popAndUpdate({
                                        participants: t
                                    })
                                },
                                onSubmit: e._handleSubmit
                            }))
                        }, e
                    }
                    return (0, i.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            u.ContactCollection.ensureSorted(), this.push((0, p.jsx)(f.default, {
                                onBack: this.end,
                                onContinue: this.onSetGroupInfo
                            }))
                        }
                    }]), n
                }(d.default);
            t.default = h
        },
        53201: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(87757)),
                i = a(n(319)),
                o = a(n(48926)),
                l = a(n(34575)),
                u = a(n(93913)),
                s = a(n(2205)),
                d = a(n(99842)),
                c = a(n(70735)),
                f = n(84460),
                p = n(48360),
                h = n(65901),
                m = n(20050),
                v = a(n(50177)),
                g = a(n(45159)),
                _ = n(87957),
                x = n(64803),
                C = n(99451),
                y = n(54226),
                S = n(10066),
                b = n(92428),
                j = n(59175),
                E = n(85893);

            function k(e) {
                switch (e) {
                    case "about":
                        return _.PrivacyDisallowedListType.About;
                    case "profilePicture":
                        return _.PrivacyDisallowedListType.ProfilePicture;
                    case "lastSeen":
                        return _.PrivacyDisallowedListType.LastSeen;
                    case "groupAdd":
                        return _.PrivacyDisallowedListType.GroupAdd
                }
            }

            function w(e) {
                switch (e) {
                    case "about":
                        return p.fbt._("Hide About from...", null, {
                            hk: "1MC2Uy"
                        });
                    case "profilePicture":
                        return p.fbt._("Hide Profile photo from...", null, {
                            hk: "1j0ovi"
                        });
                    case "lastSeen":
                        return p.fbt._("Hide Last seen from...", null, {
                            hk: "1bZFrJ"
                        });
                    case "groupAdd":
                        return p.fbt._("My contacts except...", null, {
                            hk: "2tCWPL"
                        })
                }
            }
            var T = function(e) {
                (0, s.default)(a, e);
                var t, n = (0, d.default)(a);

                function a() {
                    var e;
                    (0, l.default)(this, a);
                    for (var t = arguments.length, u = new Array(t), s = 0; s < t; s++) u[s] = arguments[s];
                    return (e = n.call.apply(n, [this].concat(u)))._excludedContacts = [], e._handleConfirm = function() {
                        var t = (0, o.default)(r.default.mark((function t(n, a) {
                            var o, l, u, s, d, f;
                            return r.default.wrap((function(t) {
                                for (;;) switch (t.prev = t.next) {
                                    case 0:
                                        if (o = e._excludedContacts.map((function(e) {
                                                return e.id
                                            })), l = n.map((function(e) {
                                                return e.id
                                            })), u = (0, c.default)(l, o, (function(e) {
                                                return e.toString()
                                            })).map((function(e) {
                                                return {
                                                    action: y.PrivacyUserAction.Add,
                                                    wid: e
                                                }
                                            })), s = (0, c.default)(o, l, (function(e) {
                                                return e.toString()
                                            })).map((function(e) {
                                                return {
                                                    action: y.PrivacyUserAction.Remove,
                                                    wid: e
                                                }
                                            })), d = [].concat((0, i.default)(u), (0, i.default)(s)), "readreceipts" !== (f = (0, S.privacyWebNameToServerName)(e.props.category))) {
                                            t.next = 8;
                                            break
                                        }
                                        throw new Error("select_contacts_except_flow: name can not be readreceipts");
                                    case 8:
                                        return t.prev = 8, t.next = 11, (0, S.setPrivacyForOneCategory)({
                                            value: "contact_blacklist",
                                            users: d,
                                            dhash: a,
                                            name: f
                                        }, l);
                                    case 11:
                                        e.props.onConfirm(), t.next = 19;
                                        break;
                                    case 14:
                                        t.prev = 14, t.t0 = t.catch(8), t.t0 instanceof j.ServerStatusCodeError && 409 === t.t0.statusCode || (__LOG__(3, void 0, void 0, !0)`select_contacts_except_flow: set visiblity option failed ${t.t0.stack}`, SEND_LOGS("select_contacts_except_flow: set visiblity option failed")), h.Cmd.openToast((0, E.jsx)(b.Toast, {
                                            id: (0, b.genId)(),
                                            msg: p.fbt._("Failed to update privacy settings. Please try again.", null, {
                                                hk: "h89q3"
                                            })
                                        }));
                                    case 19:
                                        e.pop();
                                    case 20:
                                    case "end":
                                        return t.stop()
                                }
                            }), t, null, [
                                [8, 14]
                            ])
                        })));
                        return function() {
                            return t.apply(this, arguments)
                        }
                    }(), e
                }
                return (0, u.default)(a, [{
                    key: "componentDidMount",
                    value: function() {
                        this._pushSelectModalToFlow()
                    }
                }, {
                    key: "_pushSelectModalToFlow",
                    value: (t = (0, o.default)(r.default.mark((function e() {
                        var t, n, a, i, o = this;
                        return r.default.wrap((function(e) {
                            for (;;) switch (e.prev = e.next) {
                                case 0:
                                    return t = this.props.category, n = null, e.prev = 2, e.next = 5, (0, _.getTable)().get(k(t));
                                case 5:
                                    null != (a = e.sent) && (this._excludedContacts = a.disallowedList.map((function(e) {
                                        return m.ContactCollection.gadd((0, f.createWid)(e))
                                    })), n = a.dhash), e.next = 15;
                                    break;
                                case 9:
                                    return e.prev = 9, e.t0 = e.catch(2), __LOG__(4, void 0, new Error, !0)`error: ${String(e.t0.stack)}`, SEND_LOGS("SelectContactsExceptFlow:failed to get privacyDisallowedList"), h.Cmd.openToast((0, E.jsx)(b.Toast, {
                                        id: (0, b.genId)(),
                                        msg: p.fbt._("Failed to get contacts except list. Please try again.", null, {
                                            hk: "1OErrO"
                                        })
                                    })), this.pop(), e.abrupt("return");
                                case 15:
                                    i = new Set(this._excludedContacts.map((function(e) {
                                        return e.id.toString()
                                    }))), this.push((0, E.jsx)(x.SelectModal, {
                                        title: w(t),
                                        onCancel: function() {
                                            return o.pop()
                                        },
                                        onConfirm: function(e) {
                                            o._handleConfirm(e, n)
                                        },
                                        getInitialItems: function() {
                                            return o._excludedContacts
                                        },
                                        listType: x.ListType.CONTACT_SELECT_MODAL,
                                        maxItems: 64e3,
                                        singleSelectionFooterType: C.FooterType.CONFIRM,
                                        multipleSelectionFooterType: C.FooterType.CONFIRM,
                                        useAllContacts: !0,
                                        filter: function(e) {
                                            return i.has(e.id.toString()) || m.ContactCollection.isFilteredContact(e)
                                        },
                                        getSelectionSummary: I,
                                        enableSelectAll: !0,
                                        activeWithoutSelection: !0
                                    }));
                                case 17:
                                case "end":
                                    return e.stop()
                            }
                        }), e, this, [
                            [2, 9]
                        ])
                    }))), function() {
                        return t.apply(this, arguments)
                    })
                }]), a
            }(v.default);

            function I(e) {
                var t = e.length;
                return g.default.t(707, {
                    count: t,
                    _plural: t
                })
            }
            t.default = T
        },
        98867: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(81109)),
                i = a(n(43269)),
                o = a(n(34575)),
                l = a(n(93913)),
                u = a(n(2205)),
                s = a(n(99842)),
                d = a(n(50177)),
                c = a(n(45159)),
                f = n(64803),
                p = a(n(76411)),
                h = n(43890),
                m = n(85893),
                v = function(e) {
                    (0, u.default)(n, e);
                    var t = (0, s.default)(n);

                    function n() {
                        var e;
                        (0, o.default)(this, n);
                        for (var a = arguments.length, r = new Array(a), l = 0; l < a; l++) r[l] = arguments[l];
                        return (e = t.call.apply(t, [this].concat(r)))._handleForwardConfirmed = function(t) {
                            0 === t.length && e.end(), e._chatsToForwardTo = t, e._sendContactToChats(t)
                        }, e._sendContactToChats = function(t) {
                            var n, a = (0, i.default)(t);
                            try {
                                for (a.s(); !(n = a.n()).done;) {
                                    var r = n.value;
                                    (0, p.default)(e.props.contacts, r), r.composeQuotedMsg = null
                                }
                            } catch (e) {
                                a.e(e)
                            } finally {
                                a.f()
                            }
                            e.props.onContactsSent(t[0]), e.end()
                        }, e._popNone = function() {
                            e.pop("none")
                        }, e._handleCancel = function() {
                            e.end()
                        }, e
                    }
                    return (0, l.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = null == this.props.maxItems ? this.props.serverProps.maxParticipants : this.props.maxItems;
                            this.push((0, m.jsx)(f.SelectModal, {
                                onConfirm: this._handleForwardConfirmed,
                                maxItems: e,
                                title: c.default.t(751),
                                listType: f.ListType.CHAT_SELECT_MODAL,
                                onCancel: this._handleCancel
                            }))
                        }
                    }]), n
                }(d.default);
            t.default = function(e) {
                return (0, m.jsx)(v, (0, r.default)((0, r.default)({}, e), {}, {
                    serverProps: h.ServerProps
                }))
            }
        },
        12187: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, n = e.chat,
                    a = (0, r.default)(null === (t = n.groupMetadata) || void 0 === t ? void 0 : t.groupInviteLink, "chat.groupMetadata?.groupInviteLink"),
                    s = `${i.fbt._("Follow this link to join my WhatsApp group:",null,{hk:"4FZHrC"}).toString()} ${a}`;
                return (0, u.jsx)(l.default, {
                    title: o.default.t(494),
                    text: s,
                    pushTransition: "none",
                    popTransition: "none"
                })
            };
            var r = a(n(272)),
                i = n(48360),
                o = a(n(45159)),
                l = a(n(8694)),
                u = n(85893)
        },
        42314: (e, t, n) => {
            "use strict";
            var a = n(21314).default,
                r = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(n(81109)),
                o = r(n(87757)),
                l = r(n(48926)),
                u = r(n(34575)),
                s = r(n(93913)),
                d = r(n(2205)),
                c = r(n(99842)),
                f = n(84533),
                p = n(65901),
                h = r(n(50177)),
                m = r(n(45159)),
                v = n(64803),
                g = n(43966),
                _ = n(43890),
                x = n(85893),
                C = function(e) {
                    (0, d.default)(n, e);
                    var t = (0, c.default)(n);

                    function n() {
                        var e;
                        (0, u.default)(this, n);
                        for (var r = arguments.length, i = new Array(r), s = 0; s < r; s++) i[s] = arguments[s];
                        return (e = t.call.apply(t, [this].concat(i))).onForwardConfirmed = function(t) {
                            var n = e.props.msgText;
                            if (1 === t.length) {
                                var r = t[0];
                                (r.isUser && r.contact.isBlocked() ? (0, f.unblockContact)(r.contact) : a.resolve(!0)).then(function() {
                                    var t = (0, l.default)(o.default.mark((function t() {
                                        return o.default.wrap((function(t) {
                                            for (;;) switch (t.prev = t.next) {
                                                case 0:
                                                    if (!n) {
                                                        t.next = 6;
                                                        break
                                                    }
                                                    if (r.urlText = e.props.urlText, !r.active) {
                                                        t.next = 5;
                                                        break
                                                    }
                                                    return p.Cmd.pasteChatTextInput(r, n), t.abrupt("return");
                                                case 5:
                                                    r.setComposeContents({
                                                        text: n
                                                    });
                                                case 6:
                                                    return t.next = 8, p.Cmd.openChatFromUnread(r);
                                                case 8:
                                                    t.sent && p.Cmd.focusChatTextInput(r);
                                                case 10:
                                                case "end":
                                                    return t.stop()
                                            }
                                        }), t)
                                    })));
                                    return function() {
                                        return t.apply(this, arguments)
                                    }
                                }())
                            } else a.all(t.map((function(t) {
                                (t.isUser && t.contact.isBlocked() ? (0, f.unblockContact)(t.contact) : a.resolve(!0)).then((function() {
                                    t.urlText = e.props.urlText, (0, g.sendTextMsgToChat)(t, n)
                                }))
                            }))), p.Cmd.openChatFromUnread(t[0]);
                            e.end()
                        }, e
                    }
                    return (0, s.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            this.push((0, x.jsx)(v.SelectModal, {
                                onConfirm: this.onForwardConfirmed,
                                maxItems: this.props.serverProps.multicastLimitGlobal,
                                title: m.default.t(641),
                                listType: v.ListType.CHAT_SELECT_MODAL
                            }))
                        }
                    }]), n
                }(h.default);
            t.default = function(e) {
                return (0, x.jsx)(C, (0, i.default)((0, i.default)({}, e), {}, {
                    serverProps: _.ServerProps
                }))
            }
        },
        91974: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(93913)),
                o = a(n(2205)),
                l = a(n(99842)),
                u = a(n(69237)),
                s = a(n(70135)),
                d = function(e, t) {
                    if (!t && e && e.__esModule) return e;
                    if (null === e || "object" != typeof e && "function" != typeof e) return {
                        default: e
                    };
                    var n = B(t);
                    if (n && n.has(e)) return n.get(e);
                    var a = {},
                        r = Object.defineProperty && Object.getOwnPropertyDescriptor;
                    for (var i in e)
                        if ("default" !== i && Object.prototype.hasOwnProperty.call(e, i)) {
                            var o = r ? Object.getOwnPropertyDescriptor(e, i) : null;
                            o && (o.get || o.set) ? Object.defineProperty(a, i, o) : a[i] = e[i]
                        } a.default = e, n && n.set(e, a);
                    return a
                }(n(53758)),
                c = n(65901),
                f = n(73929),
                p = n(20050),
                h = a(n(31294)),
                m = a(n(50177)),
                v = n(1577),
                g = a(n(97437)),
                _ = a(n(51657)),
                x = a(n(76885)),
                C = a(n(50507)),
                y = a(n(71238)),
                S = a(n(9245)),
                b = n(13315),
                j = n(73224),
                E = n(30194),
                k = a(n(50656)),
                w = a(n(75331)),
                T = a(n(43463)),
                I = a(n(77685)),
                P = n(48341),
                M = a(n(59742)),
                O = a(n(67171)),
                L = a(n(96533)),
                A = a(n(40934)),
                D = a(n(32657)),
                R = a(n(30869)),
                N = a(n(55315)),
                F = n(85893);

            function B(e) {
                if ("function" != typeof WeakMap) return null;
                var t = new WeakMap,
                    n = new WeakMap;
                return (B = function(e) {
                    return e ? n : t
                })(e)
            }
            var U = function(e) {
                (0, o.default)(n, e);
                var t = (0, l.default)(n);

                function n() {
                    var e;
                    (0, r.default)(this, n);
                    for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++) i[o] = arguments[o];
                    return (e = t.call.apply(t, [this].concat(i)))._showWallpaperDrawer = function() {
                        e.push((0, F.jsx)(R.default, {
                            onClose: e._pop
                        }))
                    }, e._showArchiveSettingsDrawer = function() {
                        e.push((0, F.jsx)(u.default, {
                            settings: T.default,
                            onClose: e._pop
                        }))
                    }, e._showRequestAccountInfo = function() {
                        return e.push((0, F.jsx)(k.default, {
                            settings: T.default,
                            onClose: e._pop
                        }))
                    }, e._showBlockedDrawer = function() {
                        e.push((0, F.jsx)(s.default, {
                            onClose: e._pop
                        }))
                    }, e._showProfileDrawer = function() {
                        var t = (0, v.getMaybeMeUser)(),
                            n = P.StatusCollection.assertGet(t),
                            a = E.ProfilePicThumbCollection.assertGet(t),
                            r = p.ContactCollection.assertGet(t);
                        e.push((0, F.jsx)(j.ProfileDrawerFlowLoadable, {
                            status: n,
                            profilePicThumb: a,
                            contact: r,
                            conn: f.Conn,
                            onClose: e._pop
                        }))
                    }, e._showNotifications = function() {
                        e.push((0, F.jsx)(y.default, {
                            onClose: e._pop
                        }))
                    }, e._showTwoFactor = function() {
                        e.push((0, F.jsx)(O.default, {
                            onClose: e._pop,
                            onOpenUpdateEmailDrawer: e._showTwoFactorUpdateEmail,
                            onOpenUpdatePinDrawer: e._showTwoFactorUpdatePinDrawer,
                            onOpenRegistrationDrawer: e._showTwoFactorRegistrationDrawer
                        }))
                    }, e._showTwoFactorUpdateEmail = function() {
                        e.push((0, F.jsx)(A.default, {
                            onClose: e._pop
                        }))
                    }, e._showTwoFactorUpdatePinDrawer = function() {
                        e.push((0, F.jsx)(D.default, {
                            onClose: e._pop
                        }))
                    }, e._showTwoFactorRegistrationDrawer = function() {
                        e.push((0, F.jsx)(L.default, {
                            onClose: e._pop
                        }))
                    }, e._showMediaAutoDownload = function() {
                        e.push((0, F.jsx)(x.default, {
                            onClose: e._pop
                        }))
                    }, e._showSecurity = function() {
                        e.push((0, F.jsx)(w.default, {
                            onClose: e._pop
                        }))
                    }, e._showPrivacyVisibilityEditDrawer = function(t) {
                        e.push((0, F.jsx)(b.PrivacyVisibilityEditDrawer, {
                            onClose: e._pop,
                            category: t
                        }))
                    }, e._showPrivacyDrawer = function() {
                        e.push((0, F.jsx)(S.default, {
                            onClose: e._pop,
                            onOpenVisibilityEditDrawer: e._showPrivacyVisibilityEditDrawer,
                            onOpenBlockedContacts: e._showBlockedDrawer,
                            onOpenEphemeralityDrawer: e._showEphemeralityDrawer
                        }))
                    }, e._showEphemeralityDrawer = function() {
                        e.push((0, F.jsx)(h.default, {
                            onClose: e._pop,
                            entryPoint: C.default.DISAPPEARING_MODE_ENTRY_POINT_TYPE.ACCOUNT_SETTINGS
                        }))
                    }, e._showDesktopSettingsDrawer = function() {
                        e.push((0, F.jsx)(N.default, {
                            onClose: e._pop
                        }))
                    }, e._showHelp = function() {
                        d.upload({
                            reason: "help-page-opened",
                            isHighPri: !0
                        }), e.push((0, F.jsx)(g.default, {
                            onClose: e._pop
                        }))
                    }, e._showThemePopup = function() {
                        c.Cmd.openModal((0, F.jsx)(M.default, {}))
                    }, e.showKeyboardShortcuts = function() {
                        c.Cmd.openModal((0, F.jsx)(_.default, {}))
                    }, e._pop = function() {
                        e.pop()
                    }, e
                }
                return (0, i.default)(n, [{
                    key: "componentDidMount",
                    value: function() {
                        this.push((0, F.jsx)(I.default, {
                            profileId: (0, v.getMaybeMeUser)(),
                            onWallpaper: this._showWallpaperDrawer,
                            onBlocked: this._showBlockedDrawer,
                            onProfile: this._showProfileDrawer,
                            onNotifications: this._showNotifications,
                            onTwoFactor: this._showTwoFactor,
                            onMediaAutoDownload: this._showMediaAutoDownload,
                            onSecurity: this._showSecurity,
                            onPrivacy: this._showPrivacyDrawer,
                            onDesktopSettings: this._showDesktopSettingsDrawer,
                            onHelp: this._showHelp,
                            onThemeSettings: this._showThemePopup,
                            onKeyboardShortcuts: this.showKeyboardShortcuts,
                            onClose: this._pop,
                            settings: T.default,
                            onArchiveSettings: this._showArchiveSettingsDrawer,
                            onRequestAccountInfo: this._showRequestAccountInfo
                        }))
                    }
                }]), n
            }(m.default);
            t.default = U
        },
        87938: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(93913)),
                o = a(n(2205)),
                l = a(n(99842)),
                u = n(65901),
                s = a(n(50177)),
                d = n(63641),
                c = a(n(72692)),
                f = a(n(86900)),
                p = n(85893),
                h = function(e) {
                    (0, o.default)(n, e);
                    var t = (0, l.default)(n);

                    function n() {
                        var e;
                        (0, r.default)(this, n);
                        for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++) i[o] = arguments[o];
                        return (e = t.call.apply(t, [this].concat(i))).sessionId = Math.round(1e9 * Math.random()), e._openStatusViewer = function(t, n, a) {
                            e.push((0, p.jsx)(f.default, {
                                initialStatusV3: t,
                                initialStatusMsg: n,
                                closeStatusViewer: e.closeStatusViewer,
                                sessionId: e.sessionId,
                                rowIdx: a
                            }), "none")
                        }, e.closeStatusViewer = function(t) {
                            t ? e.end() : e.pop("none")
                        }, e
                    }
                    return (0, i.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this;
                            this.push((0, p.jsx)(c.default, {
                                onOpenStatus: this._openStatusViewer,
                                closeStatusViewer: this.closeStatusViewer,
                                sessionId: this.sessionId
                            }), "status-v3-modal"), this.props.listeners.add(u.Cmd, "close_status_viewer", (function() {
                                e.closeStatusViewer(!0)
                            }))
                        }
                    }, {
                        key: "componentWillUnmount",
                        value: function() {
                            this.props.onFlowEnd()
                        }
                    }]), n
                }(s.default),
                m = (0, d.ListenerHOC)(h);
            t.default = m
        },
        67299: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(93913)),
                o = a(n(2205)),
                l = a(n(99842)),
                u = n(65901),
                s = a(n(50177)),
                d = a(n(50507)),
                c = a(n(84032)),
                f = a(n(36026)),
                p = a(n(64085)),
                h = n(85893),
                m = function(e) {
                    (0, o.default)(n, e);
                    var t = (0, l.default)(n);

                    function n() {
                        var e;
                        (0, r.default)(this, n);
                        for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++) i[o] = arguments[o];
                        return (e = t.call.apply(t, [this].concat(i)))._scrollOffset = 0, e._handleScrollOffsetChange = function(t) {
                            e._scrollOffset = t
                        }, e.handleStickerStore = function() {
                            var t = (0, h.jsx)(p.default, {
                                onStickerPackDetails: e.handleStickerPackDetails,
                                onClose: e._pop,
                                onScrollOffsetChange: e._handleScrollOffsetChange
                            });
                            e.push(t)
                        }, e.handleStickerPackDetails = function(t) {
                            var n = (0, h.jsx)(f.default, {
                                stickerPack: t,
                                onStickerClick: e.handleStickerDetails,
                                onStickerEnter: e.handleStickerDetails,
                                onBack: e._handleBackStickerPackDetails
                            });
                            e.push(n)
                        }, e.handleStickerPackDetailsById = function(t) {
                            var n = (0, h.jsx)(f.default, {
                                stickerPackId: t,
                                onStickerClick: e.handleStickerDetails,
                                onStickerEnter: e.handleStickerDetails,
                                onClose: e._end
                            });
                            e.push(n)
                        }, e.handleStickerDetails = function(t, n) {
                            var a = (0, h.jsx)(c.default, {
                                sticker: t,
                                stickerPack: n,
                                onSend: e.handleStickerSend,
                                onBack: e._pop
                            });
                            e.push(a)
                        }, e.handleStickerSend = function(t) {
                            e._pop(), u.Cmd.once("ui_idle", (function() {
                                e.props.onSticker(t, d.default.STICKER_SEND_ORIGIN_TYPE.STICKER_STORE)
                            }))
                        }, e._pop = function() {
                            e.pop()
                        }, e._end = function() {
                            e.end(!0)
                        }, e._handleBackStickerPackDetails = function() {
                            e.popAndUpdate({
                                scrollOffset: e._scrollOffset
                            })
                        }, e
                    }
                    return (0, i.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this.props.stickerPackId;
                            e ? this.handleStickerPackDetailsById(e) : this.handleStickerStore()
                        }
                    }]), n
                }(s.default);
            t.default = m
        },
        31779: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.MerchantDetailsFormFlowLoadable = void 0;
            var r = a(n(87757)),
                i = a(n(48926)),
                o = a(n(68356)),
                l = a(n(39540)),
                u = a(n(19509)),
                s = n(85893),
                d = (0, u.default)((0, i.default)(r.default.mark((function e() {
                    var t;
                    return r.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2, Promise.all([n.e(721), n.e(1359), n.e(4423), n.e(275)]).then(n.bind(n, 61834));
                            case 2:
                                return t = e.sent, e.abrupt("return", t.default);
                            case 4:
                            case "end":
                                return e.stop()
                        }
                    }), e)
                }))), "MerchantDetailsFormFlow"),
                c = (0, o.default)({
                    loader: d,
                    loading: function(e) {
                        return (0, s.jsx)(l.default, {
                            error: Boolean(e.error)
                        })
                    }
                });
            t.MerchantDetailsFormFlowLoadable = c
        },
        89811: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), Object.defineProperty(t, "ExpiredLocationDrawer", {
                enumerable: !0,
                get: function() {
                    return i.default
                }
            }), Object.defineProperty(t, "LiveLocationDrawer", {
                enumerable: !0,
                get: function() {
                    return r.default
                }
            });
            var r = a(n(17174)),
                i = a(n(70533))
        },
        77653: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(67294),
                i = n(4318),
                o = a(n(79446)),
                l = n(34330),
                u = n(51349),
                s = n(64585),
                d = n(85893);

            function c(e, t) {
                var n = e.layer,
                    a = e.outlineLayer,
                    c = e.dimension,
                    f = (e.removeBackground, e.scale),
                    p = e.visible,
                    h = (0, r.useRef)(),
                    m = (0, r.useRef)();
                if ((0, r.useImperativeHandle)(t, (function() {
                        return {
                            toCanvas: function() {
                                var e, t = null === (e = m.current) || void 0 === e ? void 0 : e.getBoundingRect(),
                                    n = h.current;
                                if (t && n && !t.size.isEmpty()) {
                                    var a, r = t.x,
                                        o = t.y,
                                        l = t.width,
                                        u = t.height;
                                    null === (a = m.current) || void 0 === a || a.show();
                                    var d, c = n.toCanvas({
                                        x: r,
                                        y: o,
                                        width: l,
                                        height: u,
                                        pixelRatio: 1 / f
                                    });
                                    null === (d = m.current) || void 0 === d || d.hide();
                                    var p = Math.max(c.width, c.height),
                                        v = Math.max(Math.ceil(s.STICKER_BORDER_WIDTH * (p / s.STICKER_DIMENSION)), 2),
                                        g = (0, i.addBorder)(c, v);
                                    return (0, i.trim)(g)
                                }
                            }
                        }
                    })), !n || !a) return null;
                var v = n.frame.getCenter();
                return (0, d.jsxs)(u.Group, {
                    ref: h,
                    visible: p,
                    children: [(0, d.jsx)(u.Group, {
                        x: v.x,
                        y: v.y,
                        offsetX: n.width / 2,
                        offsetY: n.height / 2,
                        width: n.width,
                        height: n.height,
                        rotation: n.rotation,
                        scaleX: n.scale,
                        scaleY: n.scale,
                        children: (0, d.jsx)(o.default, {
                            layer: n
                        })
                    }), (0, d.jsx)(l.Outline, {
                        ref: m,
                        layer: a,
                        dimension: c
                    })]
                })
            }
            var f = (0, r.forwardRef)(c);
            t.default = f
        },
        5956: (e, t, n) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.CanvasContext = void 0;
            var a = {
                    transforming: !1,
                    dragging: !1,
                    editing: !1
                },
                r = (0, n(67294).createContext)(a);
            t.CanvasContext = r
        },
        22029: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.CanvasLayer = function(e) {
                var t, n, a, C, y = e.layer,
                    S = e.scale,
                    b = e.editing,
                    j = e.selected,
                    E = e.editable,
                    k = e.hidden,
                    w = e.textBackgroundShadow,
                    T = e.dimension,
                    I = e.selectedGroupRef,
                    P = e.transformerRef,
                    M = e.stageWidth,
                    O = e.stageHeight,
                    L = e.onSelect,
                    A = e.onDoubleClick,
                    D = e.onDragStart,
                    R = e.onDragEnd,
                    N = e.onDragMove,
                    F = e.onTransformStart,
                    B = e.onTransformEnd,
                    U = (0, i.useState)(!1),
                    G = (0, r.default)(U, 2),
                    H = G[0],
                    W = G[1],
                    V = (0, i.useContext)(o.CanvasContext);
                E && j && !b && (n = (0, _.jsx)(m.default, {
                    layer: y
                }), C = (0, _.jsx)(h.Transformer, {
                    ref: P,
                    anchorStroke: "blue",
                    anchorFill: "white",
                    anchorSize: 8,
                    anchorCornerRadius: 4,
                    borderEnabled: !1,
                    centeredScaling: !0,
                    enabledAnchors: ["bottom-right"],
                    resizeEnabled: !0,
                    rotateAnchorOffset: 12,
                    rotateEnabled: !0,
                    rotationSnaps: x,
                    ignoreStroke: !0,
                    rotationSnapTolerance: 10,
                    boundBoxFunc: function(e, t) {
                        var n = t.width / S,
                            a = t.height / S;
                        return y instanceof g.TextLayer && (n <= 18 || a <= 18) || n <= 36 || a <= 36 ? e : t
                    }
                }, "transformer"));
                E && H && !j && (a = (0, _.jsx)(u.default, {
                    layer: y
                }));
                y instanceof d.ImageLayer ? t = (0, _.jsx)(s.default, {
                    layer: y
                }) : y instanceof l.DrawLayer ? y.type === l.DrawLayerType.Paint ? t = (0, _.jsx)(p.default, {
                    layer: y
                }) : y.type === l.DrawLayerType.Outline && (t = (0, _.jsx)(f.Outline, {
                    layer: y,
                    dimension: T
                })) : y instanceof g.TextLayer && !b && (t = (0, _.jsx)(v.default, {
                    layer: y,
                    shadow: w
                }));
                k && (t = (0, _.jsx)(h.Rect, {
                    width: y.width,
                    height: y.height
                }));
                (0, i.useEffect)((function() {
                    b && W(!1)
                }), [b, W]);
                var z = y.frame.getCenter();
                return (0, _.jsxs)(_.Fragment, {
                    children: [(0, _.jsxs)(h.Group, {
                        ref: j ? I : null,
                        x: z.x,
                        y: z.y,
                        offsetX: y.width / 2,
                        offsetY: y.height / 2,
                        width: y.width,
                        height: y.height,
                        rotation: y.rotation,
                        scaleX: y.scale,
                        scaleY: y.scale,
                        draggable: E,
                        dragBoundFunc: function(e) {
                            var t = e.x,
                                n = e.y;
                            return t < 0 ? t = 0 : t > M && (t = M), n < 0 ? n = 0 : n > O && (n = O), {
                                x: t,
                                y: n
                            }
                        },
                        onMouseEnter: function(e) {
                            !y.editable || V.dragging || V.transforming || (e.cancelBubble = !0, W(!0))
                        },
                        onMouseLeave: function(e) {
                            y.editable && (e.cancelBubble = !0, W(!1))
                        },
                        onMouseDown: function(e) {
                            y.editable && (e.cancelBubble = !0, L(y))
                        },
                        onDblClick: function() {
                            return A(y)
                        },
                        onDragStart: function() {
                            return D(y)
                        },
                        onDragEnd: function(e) {
                            var t = (0, c.getPointFromGroup)(e);
                            R(y, t)
                        },
                        onDragMove: function(e) {
                            return N(y, e)
                        },
                        onTransformStart: function() {
                            return F(y)
                        },
                        onTransformEnd: function(e) {
                            if (j) {
                                var t = (0, c.getRotationFromGroup)(e),
                                    n = (0, c.getScaleFromGroup)(e);
                                B(y, t, n)
                            }
                        },
                        children: [t, n, a]
                    }), C]
                })
            };
            var r = a(n(63038)),
                i = n(67294),
                o = n(5956),
                l = n(63204),
                u = a(n(4392)),
                s = a(n(79446)),
                d = n(89826),
                c = n(76249),
                f = n(34330),
                p = a(n(62451)),
                h = n(51349),
                m = a(n(76909)),
                v = a(n(91278)),
                g = n(73860),
                _ = n(85893),
                x = [0, 45, 90, 135, 180, 225, 270, 315]
        },
        78567: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.EditableText = void 0;
            var r = a(n(81109)),
                i = a(n(63038)),
                o = a(n(18446)),
                l = n(48360),
                u = n(67294),
                s = n(98169),
                d = a(n(74692)),
                c = a(n(79522)),
                f = n(10508),
                p = n(45738),
                h = a(n(7665)),
                m = n(62367),
                v = n(16835),
                g = a(n(93820)),
                _ = a(n(11122)),
                x = a(n(40054)),
                C = a(n(81746)),
                y = n(85893),
                S = (0, c.default)(),
                b = (0, u.forwardRef)((function(e, t) {
                    var n = e.text,
                        a = e.layer,
                        c = e.layerCenter,
                        m = e.scale,
                        b = e.onSave,
                        k = e.onUnselect,
                        w = e.onOutsideClick,
                        T = (0, u.useState)(n),
                        I = (0, i.default)(T, 2),
                        P = I[0],
                        M = I[1],
                        O = (0, u.useState)(),
                        L = (0, i.default)(O, 2),
                        A = L[0],
                        D = L[1],
                        R = (0, u.useRef)(),
                        N = (0, u.useCallback)((function() {
                            b(P.replace(/^\n+/, "").replace(/\n+$/, ""))
                        }), [b, P]);
                    (0, u.useImperativeHandle)(t, (function() {
                        return {
                            save: function() {
                                N(), k()
                            }
                        }
                    }), [N, k]);
                    var F = (0, _.default)((function(e) {
                            A || !1 === (null == w ? void 0 : w(e)) || (N(), k())
                        })),
                        B = function(e) {
                            var t = R.current;
                            t && t.replaceSelection(e)
                        },
                        U = function() {
                            D(null)
                        },
                        G = (0, C.default)((function(e) {
                            D({
                                menu: (0, y.jsx)(f.EmojiPanel, {
                                    onEmoji: B,
                                    onFocusNext: U,
                                    onFocusPrev: U
                                }),
                                anchor: e.target
                            })
                        })),
                        H = (0, i.default)(G, 2),
                        W = H[0],
                        V = H[1];
                    (0, u.useEffect)((function() {
                        var e, t;
                        null === (e = R.current) || void 0 === e || null === (t = e.refInput) || void 0 === t || t.focus()
                    }), []);
                    var z = Math.max(a.scale * m, 1.2),
                        q = {
                            borderWidth: 2 / z,
                            padding: a.styles.layerPadding - 2,
                            transform: `scale(${z})`
                        },
                        K = {
                            left: c.x * m,
                            top: c.y * m
                        },
                        Y = {
                            color: a.textColor.toHex(),
                            fontFamily: (0, p.getFontStyle)(a.font).fontFamily,
                            fontSize: a.fontSize,
                            lineHeight: `${a.lineHeight+2*a.styles.lineVerticalPadding}px`,
                            textAlign: j(a.alignment),
                            paddingLeft: a.styles.lineHorizontalPadding + 1,
                            paddingRight: a.styles.lineHorizontalPadding + 1,
                            paddingTop: 1,
                            paddingBottom: 1,
                            borderWidth: 0,
                            borderRadius: 6,
                            margin: 0,
                            boxSizing: "border-box",
                            backgroundColor: a.textBackground ? a.textBackgroundColor.toHex() : void 0
                        },
                        Q = a.styles.backgroundShadow,
                        X = {
                            boxShadow: a.textBackground ? `${Q.offsetX}px ${Q.offsetY}px ${Q.radius}px ${Q.spread}px ${Q.color.toRgbaString()}` : void 0
                        },
                        Z = function(e) {
                            var t = (0, x.default)(e),
                                n = (0, u.useRef)(0);
                            t && !(0, o.default)(t, e) && (n.current += 1);
                            return n.current
                        }(Y),
                        J = (0, r.default)((0, r.default)({}, Y), {}, {
                            fontSize: 15,
                            paddingRight: 8,
                            fontFamily: void 0
                        }),
                        $ = 20 - a.fontSize,
                        ee = a.styles.lineVerticalPadding - $,
                        te = `\n    .${d.default.inputContainer} .emoji.emoji.emoji {\n      margin: ${ee}px ${-$/2}px 0 ${-$/2}px;\n      transform: scale(${a.fontSize/20});\n    }\n  `;
                    return (0, y.jsxs)("div", {
                        className: d.default.positioner,
                        style: K,
                        children: [(0, y.jsxs)("div", {
                            className: d.default.container,
                            style: q,
                            children: [(0, y.jsx)("style", {
                                children: te
                            }), (0, y.jsxs)("div", {
                                className: d.default.resizableInput,
                                ref: F,
                                children: [(0, y.jsx)("div", (0, r.default)((0, r.default)({
                                    className: d.default.emojiButton
                                }, V), {}, {
                                    ref: W,
                                    style: {
                                        transform: `scale(${1/z}) translateX(-${50*z}%)`,
                                        top: 28 * (1 - 1 / z) / 2 - 40
                                    },
                                    children: (0, y.jsx)("div", {
                                        className: d.default.buttonIconWrapper,
                                        children: (0, y.jsx)(h.default, {
                                            name: "smiley"
                                        })
                                    })
                                })), (0, y.jsx)("div", {
                                    className: d.default.inputContainer,
                                    style: X,
                                    children: (0, y.jsx)(S, {
                                        style: Y,
                                        ref: R,
                                        initialValue: P,
                                        onChange: function(e) {
                                            var t = e;
                                            t = e.match(/\n\n$/) ? t.replace(/\n\n$/, "\n") : t.replace(/\n$/, ""), M(t)
                                        },
                                        onEnter: N,
                                        multiline: !0,
                                        theme: "media-editor-text-input",
                                        placeholder: l.fbt._("Type something", null, {
                                            hk: "15NglL"
                                        })
                                    }, Z)
                                }), (0, y.jsx)(E, {
                                    layer: a,
                                    text: P || l.fbt._("Type something", null, {
                                        hk: "15NglL"
                                    }).toString(),
                                    style: P ? Y : J
                                })]
                            })]
                        }), A && (0, y.jsx)(v.UIE, {
                            displayName: "EmojiPicker",
                            escapable: !0,
                            popable: !0,
                            requestDismiss: U,
                            children: (0, y.jsx)(g.default, {
                                contextMenu: (0, r.default)({
                                    dirY: s.DirY.TOP,
                                    type: "emoji_picker"
                                }, A)
                            })
                        })]
                    })
                }));

            function j(e) {
                switch (e) {
                    case p.TextAlignment.LEFT:
                        return "left";
                    case p.TextAlignment.CENTER:
                        return "center";
                    case p.TextAlignment.RIGHT:
                        return "right"
                }
            }

            function E(e) {
                var t = e.text,
                    n = e.style,
                    a = e.layer;
                return (0, y.jsx)("div", {
                    className: d.default.hiddenText,
                    style: n,
                    children: (0, m.getLines)(t, a.font, a.fontSize, 0).map((function(e, t) {
                        return (0, y.jsx)("div", {
                            className: d.default.hiddenTextLine,
                            children: 0 === e.words.length ? " " : e.words.map((function(e, t) {
                                return e.emojiPath ? (0, y.jsx)("span", {
                                    className: d.default.emojiPlaceholder
                                }, t) : e.text
                            }))
                        }, t)
                    }))
                })
            }
            t.EditableText = b
        },
        4392: (e, t, n) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.layer,
                    n = t instanceof r.ImageLayer && (t.isSticker() || t.isBackground());
                return (0, o.jsx)(i.Rect, {
                    width: t.width,
                    height: t.height,
                    stroke: l.toRgbaString(),
                    strokeWidth: 2,
                    cornerRadius: n ? 40 : 5,
                    strokeScaleEnabled: !1
                })
            };
            var a = n(28448),
                r = n(89826),
                i = n(51349),
                o = n(85893),
                l = new a.Color(82, 248, 24, 1)
        },
        79446: (e, t, n) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.layer;
                return (0, r.jsx)(a.Image, {
                    width: t.width,
                    height: t.height,
                    image: t.image
                })
            };
            var a = n(51349),
                r = n(85893)
        },
        7844: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(81109)),
                i = a(n(319)),
                o = a(n(43269)),
                l = a(n(63038)),
                u = a(n(18446)),
                s = n(67294),
                d = a(n(77653)),
                c = n(5956),
                f = n(22029),
                p = n(28448),
                h = n(78567),
                m = n(76249),
                v = a(n(20306)),
                g = a(n(97678)),
                _ = n(51349),
                x = n(73860),
                C = n(55072),
                y = a(n(55225)),
                S = n(85893),
                b = "#52F818";

            function j(e, t) {
                var n, a = e.inPaintMode,
                    j = void 0 !== a && a,
                    E = e.inOutlineMode,
                    k = void 0 !== E && E,
                    w = e.paintColor,
                    T = void 0 === w ? p.Color.White : w,
                    I = e.paintThickness,
                    P = void 0 === I ? C.THICKNESS.MEDIUM : I,
                    M = e.outlineSmoothing,
                    O = void 0 === M || M,
                    L = e.canEditLayer,
                    A = void 0 === L || L,
                    D = e.canEditBackground,
                    R = void 0 !== D && D,
                    N = e.outlineEnabled,
                    F = void 0 !== N && N,
                    B = e.currentlyEditingTextLayer,
                    U = void 0 === B ? null : B,
                    G = e.draftTextLayer,
                    H = void 0 === G ? null : G,
                    W = e.onLayerSelect,
                    V = void 0 === W ? function() {} : W,
                    z = e.onLayerUnselect,
                    q = void 0 === z ? function() {} : z,
                    K = e.onLayerTranslate,
                    Y = void 0 === K ? function() {} : K,
                    Q = e.onLayerTransform,
                    X = void 0 === Q ? function() {} : Q,
                    Z = e.onTextEditingStart,
                    J = void 0 === Z ? function() {} : Z,
                    $ = e.onTextEditingEnd,
                    ee = void 0 === $ ? function() {} : $,
                    te = e.onTextInputOutsideClick,
                    ne = void 0 === te ? function() {
                        return !0
                    } : te,
                    ae = e.onPaintDrawEnd,
                    re = void 0 === ae ? function() {} : ae,
                    ie = e.onOutlineDrawEnd,
                    oe = void 0 === ie ? function() {} : ie,
                    le = e.onOutlineDone,
                    ue = void 0 === le ? function() {} : le,
                    se = e.scale,
                    de = e.data,
                    ce = (0, s.useRef)(null),
                    fe = (0, s.useRef)(null),
                    pe = (0, s.useRef)(null),
                    he = (0, s.useRef)(null),
                    me = (0, s.useRef)(null),
                    ve = (0, s.useRef)(null),
                    ge = (0, s.useRef)(null),
                    _e = (0, s.useRef)(null),
                    xe = (0, s.useRef)(null),
                    Ce = (0, s.useRef)({
                        dragging: !1,
                        transforming: !1,
                        editing: !1
                    }),
                    ye = (0, s.useState)({
                        horizontal: null,
                        vertical: null
                    }),
                    Se = (0, l.default)(ye, 2),
                    be = Se[0],
                    je = Se[1],
                    Ee = (0, s.useState)(!1),
                    ke = (0, l.default)(Ee, 2),
                    we = ke[0],
                    Te = ke[1],
                    Ie = (0, s.useState)(!1),
                    Pe = (0, l.default)(Ie, 2),
                    Me = Pe[0],
                    Oe = Pe[1],
                    Le = (0, s.useState)("crosshair"),
                    Ae = (0, l.default)(Le, 2),
                    De = Ae[0],
                    Re = Ae[1],
                    Ne = function() {
                        Ce.current.dragging = !0, Te(!0)
                    },
                    Fe = function(e, t) {
                        Ce.current.dragging = !1, Y(e, t), je({
                            vertical: null,
                            horizontal: null
                        }), Te(!1)
                    },
                    Be = function() {
                        Ce.current.transforming = !0, Oe(!0)
                    },
                    Ue = function(e, t, n) {
                        Ce.current.transforming = !1, X(e, t, n), Oe(!1)
                    },
                    Ge = function() {
                        if (!ce.current) throw new Error("MediaEditorCanvas:stage is not initialized");
                        return ce.current.getStage()
                    },
                    He = function(e, t) {
                        for (var n, a, r, i, l = [{
                                position: Ge().width() / 2,
                                orientation: "v"
                            }, {
                                position: Ge().height() / 2,
                                orientation: "h"
                            }], s = t.target, d = s.absolutePosition(), c = [], f = 0, p = [{
                                position: d.y,
                                orientation: "h"
                            }, {
                                position: d.x,
                                orientation: "v"
                            }]; f < p.length; f++) {
                            var h, m = p[f],
                                v = (0, o.default)(l);
                            try {
                                for (v.s(); !(h = v.n()).done;) {
                                    var g = h.value;
                                    if (m.orientation === g.orientation) {
                                        var _ = Math.abs(g.position - m.position);
                                        _ <= 15 && c.push({
                                            guide: g,
                                            distance: _
                                        })
                                    }
                                }
                            } catch (e) {
                                v.e(e)
                            } finally {
                                v.f()
                            }
                        }
                        c.sort((function(e, t) {
                            return e.distance - t.distance
                        }));
                        for (var x = null, C = null, y = 0, S = c; y < S.length; y++) {
                            var b = S[y].guide;
                            "v" !== b.orientation || x ? "h" !== b.orientation || C || (C = b) : x = b
                        }
                        s.absolutePosition({
                            x: null !== (n = null === (a = x) || void 0 === a ? void 0 : a.position) && void 0 !== n ? n : d.x,
                            y: null !== (r = null === (i = C) || void 0 === i ? void 0 : i.position) && void 0 !== r ? r : d.y
                        });
                        var j = {
                            horizontal: C,
                            vertical: x
                        };
                        (0, u.default)(be, j) || je(j)
                    },
                    We = function(e) {
                        e instanceof x.TextLayer && J(e)
                    },
                    Ve = function(e) {
                        H && ee(H, e)
                    },
                    ze = function(e) {
                        V(e)
                    },
                    qe = function(e) {
                        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                            n = t.hidden,
                            a = void 0 !== n && n,
                            r = de.selectedLayer === e && U !== e,
                            i = de.screenWidth * se,
                            o = de.screenHeight * se,
                            l = de.cropSize.dimension,
                            u = e.editable && A && !j && !k && !U;
                        return (0, S.jsx)(f.CanvasLayer, {
                            layer: e,
                            scale: se,
                            textBackgroundShadow: !we,
                            dimension: l,
                            editing: U === e,
                            selected: r,
                            editable: u,
                            stageHeight: o,
                            stageWidth: i,
                            selectedGroupRef: function(e) {
                                fe.current = e
                            },
                            transformerRef: function(e) {
                                pe.current = e
                            },
                            onSelect: ze,
                            onDoubleClick: We,
                            onDragMove: He,
                            onDragStart: Ne,
                            onDragEnd: Fe,
                            onTransformStart: Be,
                            onTransformEnd: Ue,
                            hidden: a
                        }, String(e.id))
                    };
                (0, s.useEffect)((function() {
                    var e, t, n;
                    fe.current && (null === (e = pe.current) || void 0 === e || e.nodes([fe.current]), null === (t = pe.current) || void 0 === t || null === (n = t.getLayer()) || void 0 === n || n.batchDraw())
                }));
                var Ke = function() {
                        var e, t, n, a, r, i, o, l, u, s, d;
                        null === (e = pe.current) || void 0 === e || e.hide(), null === (t = fe.current) || void 0 === t || null === (n = t.getChildren()[1]) || void 0 === n || n.hide(), null === (a = fe.current) || void 0 === a || null === (r = a.getChildren()[2]) || void 0 === r || r.hide(), null === (i = he.current) || void 0 === i || i.hide(), null === (o = ve.current) || void 0 === o || o.toggleCursor(!1), null === (l = ge.current) || void 0 === l || l.hide(), null === (u = pe.current) || void 0 === u || null === (s = u.getLayer()) || void 0 === s || s.batchDraw(), null === (d = me.current) || void 0 === d || d.hide();
                        var c, f, p, h, m, v, g, _, x, C, y, S = Ge().toDataURL({
                            mimetype: "image/png",
                            quality: 1,
                            pixelRatio: 1 / se
                        });
                        return null === (c = pe.current) || void 0 === c || c.show(), null === (f = fe.current) || void 0 === f || null === (p = f.getChildren()[1]) || void 0 === p || p.show(), null === (h = fe.current) || void 0 === h || null === (m = h.getChildren()[2]) || void 0 === m || m.show(), null === (v = he.current) || void 0 === v || v.show(), null === (g = ve.current) || void 0 === g || g.toggleCursor(!0), null === (_ = ge.current) || void 0 === _ || _.show(), null === (x = pe.current) || void 0 === x || null === (C = x.getLayer()) || void 0 === C || C.batchDraw(), null === (y = me.current) || void 0 === y || y.show(), S
                    },
                    Ye = function() {
                        var e;
                        return null === (e = xe.current) || void 0 === e ? void 0 : e.toCanvas()
                    },
                    Qe = function() {
                        var e;
                        null === (e = _e.current) || void 0 === e || e.save()
                    },
                    Xe = function() {
                        return (we || Me) && de.selectedLayer === de.background
                    };
                (0, s.useImperativeHandle)(t, (function() {
                    return {
                        getStage: Ge,
                        getDataUrl: Ke,
                        endTextEditing: Qe,
                        getBackground: Ye
                    }
                }));
                var Ze = de.screenWidth / 2,
                    Je = de.screenHeight / 2,
                    $e = de.toScreenPoint(de.cropCenter),
                    et = de.toScreenPoint(de.canvasCenter),
                    tt = Ze - ($e.x - et.x),
                    nt = Je - ($e.y - et.y),
                    at = de.cropSize.dimension;
                return (0, S.jsxs)(S.Fragment, {
                    children: [(0, S.jsx)(_.Stage, {
                        ref: ce,
                        width: de.screenWidth * se,
                        height: de.screenHeight * se,
                        onMouseDown: function(e) {
                            U || (0, m.isEventOnAnchor)(e) || q()
                        },
                        scaleX: se,
                        scaleY: se,
                        style: (0, r.default)({
                            cursor: j ? "none" : k ? De : "default"
                        }, null !== (n = e.style) && void 0 !== n ? n : {}),
                        children: (0, S.jsxs)(c.CanvasContext.Provider, {
                            value: Ce.current,
                            children: [F && (0, S.jsx)(_.Layer, {
                                x: tt,
                                y: nt,
                                offsetX: de.width / 2,
                                offsetY: de.height / 2,
                                rotation: de.rotation,
                                children: (0, S.jsx)(y.default, {
                                    ref: me,
                                    width: de.width,
                                    height: de.height
                                })
                            }, "transparent"), (0, S.jsx)(_.Layer, {
                                x: tt,
                                y: nt,
                                offsetX: de.width / 2,
                                offsetY: de.height / 2,
                                rotation: de.rotation,
                                children: (0, S.jsx)(d.default, {
                                    ref: xe,
                                    layer: de.background,
                                    outlineLayer: de.outlineLayer,
                                    dimension: at,
                                    removeBackground: F && !k,
                                    scale: se,
                                    visible: !Xe()
                                })
                            }, "background"), (0, S.jsx)(_.Layer, {
                                x: tt,
                                y: nt,
                                offsetX: de.width / 2,
                                offsetY: de.height / 2,
                                rotation: de.rotation,
                                children: function() {
                                    var e = [];
                                    if (de.paintLayer && !Ce.current.dragging) {
                                        var t = qe(de.paintLayer);
                                        e.push(t)
                                    }
                                    if (R && de.background) {
                                        var n = qe(de.background, {
                                            hidden: !Xe()
                                        });
                                        e.push(n)
                                    }
                                    if (de.paintLayer && Ce.current.dragging) {
                                        var a = qe(de.paintLayer);
                                        e.push(a)
                                    }
                                    return e.push.apply(e, (0, i.default)(de.layers.map((function(e) {
                                        return qe(e)
                                    })))), e
                                }()
                            }, "edits"), function() {
                                var e = be.vertical,
                                    t = be.horizontal;
                                if (!e && !t) return null;
                                var n = Ge();
                                return (0, S.jsxs)(_.Layer, {
                                    ref: he,
                                    children: [e && (0, S.jsx)(_.Line, {
                                        x: e.position / se,
                                        y: 0,
                                        points: [0, 0, 0, n.height() / se],
                                        stroke: b,
                                        strokeWidth: 1,
                                        strokeScaleEnabled: !1
                                    }, "vertical"), t && (0, S.jsx)(_.Line, {
                                        x: 0,
                                        y: t.position / se,
                                        points: [0, 0, n.width() / se, 0],
                                        stroke: b,
                                        strokeWidth: 1,
                                        strokeScaleEnabled: !1
                                    }, "horizontal")]
                                }, "guides")
                            }(), j && (0, S.jsx)(g.default, {
                                ref: ve,
                                width: de.screenWidth,
                                height: de.screenHeight,
                                scale: se,
                                pathStyle: {
                                    color: T,
                                    thickness: (0, C.getThicknessValue)(P),
                                    smoothing: !1
                                },
                                data: de,
                                onDrawEnd: re
                            }), k && (0, S.jsx)(v.default, {
                                ref: ge,
                                width: de.screenWidth,
                                height: de.screenHeight,
                                scale: se,
                                data: de,
                                smoothing: O,
                                onDrawEnd: oe,
                                onDone: ue,
                                onCursorChange: function(e) {
                                    Re(e)
                                }
                            })]
                        })
                    }), function() {
                        if (!H) return null;
                        var e = de.toScreenPoint(H.frame.getCenter());
                        return (0, S.jsx)(h.EditableText, {
                            ref: _e,
                            layer: H,
                            layerCenter: e,
                            text: H.text,
                            scale: se,
                            onSave: Ve,
                            onUnselect: q,
                            onOutsideClick: ne
                        })
                    }()]
                })
            }
            var E = (0, s.forwardRef)(j);
            t.default = E
        },
        34330: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.Outline = void 0;
            var r = a(n(94654)),
                i = a(n(3208)),
                o = n(67294),
                l = n(51349),
                u = a(n(39092)),
                s = n(85893);

            function d(e, t) {
                var n = e.layer,
                    a = (e.dimension, (0, o.useRef)()),
                    d = (0, o.useRef)();
                (0, o.useImperativeHandle)(t, (function() {
                    return {
                        show: function() {
                            var e;
                            null === (e = a.current) || void 0 === e || e.show()
                        },
                        hide: function() {
                            var e;
                            null === (e = a.current) || void 0 === e || e.hide()
                        },
                        getBoundingRect: function() {
                            var e = d.current;
                            if (e) {
                                var t = e.getClientRect(),
                                    a = t.x,
                                    r = t.y,
                                    i = t.width,
                                    o = t.height;
                                return u.default.create({
                                    x: a,
                                    y: r,
                                    width: i,
                                    height: o,
                                    rotation: n.rotation,
                                    scale: n.scale
                                })
                            }
                        }
                    }
                }));
                var c = (0, r.default)(n.getAllPoints(), (function(e) {
                    return [e.x, e.y]
                }));
                return (0, s.jsx)(l.Group, {
                    ref: a,
                    width: n.width,
                    height: n.height,
                    visible: !1,
                    children: (0, s.jsx)(l.Line, {
                        ref: d,
                        points: c,
                        closed: !0,
                        fill: "white",
                        lineCap: "round",
                        lineJoin: "round",
                        tension: i.default.MEDIA_EDITOR_OUTLINE_TENSION,
                        globalCompositeOperation: "destination-in"
                    })
                })
            }
            var c = (0, o.forwardRef)(d);
            t.Outline = c
        },
        20306: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(81109)),
                i = a(n(319)),
                o = a(n(94654)),
                l = a(n(3208)),
                u = n(67294),
                s = n(28448),
                d = (n(38032), n(51349)),
                c = a(n(95575)),
                f = n(85893),
                p = "dot-first",
                h = "dot-last";

            function m(e, t) {
                var n, a = e.width,
                    m = e.height,
                    v = e.scale,
                    _ = e.data,
                    x = e.smoothing,
                    C = e.onDrawEnd,
                    y = e.onDone,
                    S = e.onCursorChange,
                    b = (0, u.useRef)(),
                    j = (0, u.useRef)(!1),
                    E = (0, u.useRef)("crosshair");
                (0, u.useEffect)((function() {
                    S("crosshair")
                }), []), (0, u.useImperativeHandle)(t, (function() {
                    return {
                        show: function() {
                            var e;
                            null === (e = b.current) || void 0 === e || e.show()
                        },
                        hide: function() {
                            var e;
                            null === (e = b.current) || void 0 === e || e.hide()
                        }
                    }
                }));
                var k = (0, c.default)({
                        onDrawStart: function() {
                            j.current = !0
                        },
                        onDrawEnd: function(e) {
                            j.current = !1, C(e)
                        },
                        onDone: y,
                        onMouseMove: function(e) {
                            var t = e.target.name() === p,
                                n = j.current,
                                a = t && !n ? "pointer" : "crosshair";
                            a !== E.current && (E.current = a, S(a))
                        },
                        data: _,
                        stage: null === (n = b.current) || void 0 === n ? void 0 : n.getStage(),
                        minPointDistance: 12 / v,
                        clickThreshold: 200,
                        boundToStage: !0,
                        doneTargets: {
                            mousedown: [p, h],
                            mouseup: [p]
                        },
                        pathStyle: {
                            color: s.Color.White,
                            thickness: 0,
                            smoothing: x
                        }
                    }),
                    w = k.cursorPosition,
                    T = k.points,
                    I = k.handlers,
                    P = _.outlineLayer.getAllPoints().map((function(e) {
                        return _.toScreenPoint(e)
                    }));
                !x && P.length && P.push(P[P.length - 1]), Boolean(T.length) && P.push(T[0]), P.push.apply(P, (0, i.default)(T));
                var M = (0, i.default)(P);
                !x && M.length && M.push(M[M.length - 1]), w && M.push(w);
                var O = (0, o.default)(M, (function(e) {
                    return [e.x, e.y]
                }));
                return (0, f.jsxs)(d.Layer, (0, r.default)((0, r.default)({
                    ref: b
                }, I), {}, {
                    width: a,
                    height: m,
                    children: [(0, f.jsx)(d.Rect, {
                        x: 0,
                        y: 0,
                        width: a,
                        height: m,
                        fill: "rgba(0,0,0,0)"
                    }), (0, f.jsx)(d.Line, {
                        points: O,
                        lineCap: "round",
                        lineJoin: "round",
                        stroke: "#FA6533",
                        strokeWidth: 3 / v,
                        dash: [12 / v, 6 / v],
                        tension: l.default.MEDIA_EDITOR_OUTLINE_TENSION
                    }), (0, f.jsx)(g, {
                        points: P,
                        scale: v
                    })]
                }), "paintCursor")
            }
            var v = (0, u.forwardRef)(m);

            function g(e) {
                var t = e.points,
                    n = e.scale;
                if (!t.length) return null;
                var a = t[0],
                    r = t[t.length - 1],
                    i = 3 / n;
                return (0, f.jsxs)(f.Fragment, {
                    children: [undefined, (0, f.jsx)(d.Circle, {
                        name: h,
                        x: r.x,
                        y: r.y,
                        radius: i
                    }), (0, f.jsx)(d.Circle, {
                        x: a.x,
                        y: a.y,
                        radius: i,
                        stroke: "white"
                    }), (0, f.jsx)(d.Circle, {
                        name: p,
                        x: a.x,
                        y: a.y,
                        radius: 4 * i
                    })]
                })
            }
            t.default = v
        },
        62451: (e, t, n) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.layer,
                    n = (0, a.useMemo)((function() {
                        var e = document.createElement("canvas");
                        return e.width = Math.max(t.width, 1), e.height = Math.max(t.height, 1), e
                    }), [t.width, t.height]),
                    o = (0, a.useRef)();
                return (0, a.useEffect)((function() {
                    var e, a;
                    n.getContext("2d").clearRect(0, 0, n.width, n.height), t.paths.forEach((function(e) {
                        return function(e, t) {
                            var n = t.points;
                            if (!n.length) return;
                            var a = e.getContext("2d"),
                                r = {
                                    color: t.color,
                                    thickness: t.thickness,
                                    smoothing: !1
                                };
                            (function(e, t) {
                                e.lineCap = "round", e.lineJoin = "round", e.lineWidth = t.thickness, e.strokeStyle = t.color.toHex()
                            })(a, r), a.beginPath(), a.moveTo(n[0].x, n[0].y), n.forEach((function(e) {
                                return a.lineTo(e.x, e.y)
                            })), a.stroke()
                        }(n, e)
                    })), null === (e = o.current) || void 0 === e || null === (a = e.getLayer()) || void 0 === a || a.batchDraw()
                }), [t.paths, n]), (0, i.jsx)(r.Image, {
                    ref: o,
                    width: t.width,
                    height: t.height,
                    image: n
                })
            };
            var a = n(67294),
                r = n(51349),
                i = n(85893)
        },
        97678: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(81109)),
                i = a(n(94654)),
                o = n(67294),
                l = n(51349),
                u = a(n(95575)),
                s = n(85893),
                d = function(e, t) {
                    var n, a = e.width,
                        d = e.height,
                        c = (e.scale, e.pathStyle),
                        f = e.data,
                        p = e.onDrawEnd,
                        h = (0, o.useRef)(),
                        m = (0, o.useRef)();
                    (0, o.useImperativeHandle)(t, (function() {
                        return {
                            toggleCursor: function(e) {
                                var t = m.current;
                                t && (e ? t.show() : t.hide())
                            }
                        }
                    }));
                    var v = (0, u.default)({
                            onDrawEnd: p,
                            data: f,
                            pathStyle: c,
                            stage: null === (n = h.current) || void 0 === n ? void 0 : n.getStage()
                        }),
                        g = v.cursorPosition,
                        _ = v.points,
                        x = v.handlers,
                        C = (0, i.default)(_, (function(e) {
                            return [e.x, e.y]
                        }));
                    return (0, s.jsxs)(l.Layer, (0, r.default)((0, r.default)({
                        ref: h
                    }, x), {}, {
                        width: a,
                        height: d,
                        children: [(0, s.jsx)(l.Rect, {
                            width: a,
                            height: d,
                            fill: "rgba(0, 0, 0, 0)"
                        }), g && (0, s.jsx)(l.Circle, {
                            ref: m,
                            x: g.x,
                            y: g.y,
                            radius: c.thickness / 2,
                            fill: c.color.toRgbaString()
                        }), (0, s.jsx)(l.Line, {
                            points: C,
                            lineCap: "round",
                            lineJoin: "round",
                            stroke: c.color.toRgbaString(),
                            strokeWidth: c.thickness
                        })]
                    }), "paintCursor")
                },
                c = (0, o.forwardRef)(d);
            t.default = c
        },
        76909: (e, t, n) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.layer,
                    n = t instanceof r.ImageLayer && (t.isSticker() || t.isBackground());
                return (0, o.jsx)(o.Fragment, {
                    children: (0, o.jsx)(i.Rect, {
                        width: t.width,
                        height: t.height,
                        fill: u.toRgbaString(),
                        stroke: l.toRgbaString(),
                        strokeWidth: 2,
                        cornerRadius: n ? 40 : 5,
                        strokeScaleEnabled: !1
                    })
                })
            };
            var a = n(28448),
                r = n(89826),
                i = n(51349),
                o = n(85893),
                l = new a.Color(82, 248, 24, 1),
                u = new a.Color(82, 248, 24, .1)
        },
        91278: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.layer,
                    n = e.shadow,
                    a = function(e) {
                        var t, n = [],
                            a = (0, i.default)(e);
                        try {
                            for (a.s(); !(t = a.n()).done;) {
                                var o, u = t.value,
                                    s = (0, i.default)(u.words);
                                try {
                                    for (s.s(); !(o = s.n()).done;) {
                                        var d = o.value.emojiPath;
                                        d && n.push(d)
                                    }
                                } catch (e) {
                                    s.e(e)
                                } finally {
                                    s.f()
                                }
                            }
                        } catch (e) {
                            a.e(e)
                        } finally {
                            a.f()
                        }
                        return c = n, f = Array.from(new Set(c)), p = f.join(""), h = (0, l.useRef)({}), m = (0, l.useState)(0), v = (0, r.default)(m, 2)[1], (0, l.useEffect)((function() {
                            h.current = {}, v(0), f.forEach((function(e) {
                                var t = new Image;
                                t.onload = function() {
                                    h.current[e] = t, v(Object.keys(h.current).length)
                                }, t.src = e
                            }))
                        }), [v, p]), h.current;
                        var c, f, p, h, m, v
                    }(t.lines),
                    f = function(e) {
                        var n = Math.max.apply(Math, (0, o.default)(t.lineWidths)),
                            r = 0;
                        switch (t.alignment) {
                            case u.TextAlignment.LEFT:
                                r = 0;
                                break;
                            case u.TextAlignment.CENTER:
                                r = (n - e.width) / 2;
                                break;
                            case u.TextAlignment.RIGHT:
                                r = n - e.width
                        }
                        var i = 0;
                        return e.words.map((function(e, n) {
                            var o, l = e.text,
                                f = e.emojiPath,
                                p = e.width,
                                h = r + t.styles.lineHorizontalPadding + i,
                                m = t.styles.lineVerticalPadding;
                            if (f) {
                                var v = a[f];
                                o = v ? (0, c.jsx)(s.Image, {
                                    x: h,
                                    y: m,
                                    width: t.lineHeight,
                                    height: t.lineHeight,
                                    image: v
                                }, n) : (0, c.jsx)(s.Rect, {
                                    x: h,
                                    y: m,
                                    width: t.lineHeight,
                                    height: t.lineHeight,
                                    fill: "rgba(0,0,0,0)"
                                }, n)
                            } else {
                                var g = (0, d.getTextBounds)(t.font, t.fontSize);
                                o = (0, c.jsx)(c.Fragment, {
                                    children: (0, c.jsx)(s.Text, {
                                        x: h,
                                        y: m - g.top + (g.top + g.bottom) / 2,
                                        width: p,
                                        height: t.lineHeight,
                                        text: l,
                                        fill: t.textColor.toHex(),
                                        fontFamily: (0, u.getFontStyle)(t.font).fontFamily,
                                        fontSize: t.fontSize
                                    }, n)
                                })
                            }
                            return i += p, o
                        }))
                    },
                    p = t.lines.map((function(e, n) {
                        var a = e.width + 2 * t.styles.lineHorizontalPadding,
                            r = t.lineHeight + 2 * t.styles.lineVerticalPadding;
                        return (0, c.jsx)(s.Group, {
                            width: a,
                            height: r,
                            y: n * r,
                            children: f(e)
                        }, n)
                    })),
                    h = t.styles.backgroundShadow;
                return (0, c.jsx)(s.Group, {
                    visible: 0 !== t.width,
                    width: t.width,
                    height: t.height,
                    children: (0, c.jsxs)(s.Group, {
                        x: t.styles.layerPadding,
                        y: t.styles.layerPadding,
                        children: [t.textBackground && (n ? (0, c.jsx)(s.Path, {
                            data: t.backgroundPath,
                            stroke: t.textBackgroundColor.toHex(),
                            fill: t.textBackgroundColor.toHex(),
                            shadowColor: h.color.toHex(),
                            shadowBlur: h.radius,
                            shadowOffset: {
                                x: h.offsetX,
                                y: h.offsetY
                            },
                            shadowOpacity: h.color.alpha
                        }, "1") : (0, c.jsx)(s.Path, {
                            data: t.backgroundPath,
                            stroke: t.textBackgroundColor.toHex(),
                            fill: t.textBackgroundColor.toHex()
                        }, "2")), p]
                    })
                })
            };
            var r = a(n(63038)),
                i = a(n(43269)),
                o = a(n(319)),
                l = n(67294),
                u = n(45738),
                s = n(51349),
                d = n(62367),
                c = n(85893)
        },
        55225: (e, t, n) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var a = n(67294),
                r = n(28448),
                i = n(51349),
                o = n(85893),
                l = new r.Color(230, 230, 230).toRgbString(),
                u = new r.Color(255, 255, 255).toRgbString();

            function s(e, t) {
                var n = e.width,
                    r = e.height,
                    s = (0, a.useRef)();
                (0, a.useImperativeHandle)(t, (function() {
                    return {
                        hide: function() {
                            var e;
                            null === (e = s.current) || void 0 === e || e.hide()
                        },
                        show: function() {
                            var e;
                            null === (e = s.current) || void 0 === e || e.show()
                        }
                    }
                }));
                var d = (0, a.useMemo)((function() {
                    var e = document.createElement("canvas");
                    return e.width = Math.max(n, 1), e.height = Math.max(r, 1), e
                }), [n, r]);
                return (0, a.useEffect)((function() {
                    var e, t, a = d.getContext("2d");
                    a.clearRect(0, 0, d.width, d.height);
                    for (var i = 20, o = Math.ceil(n / i), c = Math.ceil(r / i), f = 0; f < c; f++)
                        for (var p = 0; p < o; p++) {
                            var h = (f + p) % 2 == 0 ? u : l;
                            a.beginPath(), a.rect(p * i, f * i, i, i), a.fillStyle = h, a.fill()
                        }
                    null === (e = s.current) || void 0 === e || null === (t = e.getLayer()) || void 0 === t || t.batchDraw()
                }), [d, n, r]), (0, o.jsx)(i.Image, {
                    ref: s,
                    width: n,
                    height: r,
                    image: d
                })
            }
            var d = (0, a.forwardRef)(s);
            t.default = d
        },
        95575: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onDrawStart,
                    n = e.onDrawEnd,
                    a = e.onDone,
                    c = e.onMouseMove,
                    f = e.data,
                    p = (e.endOnMouseLeave, e.minPointDistance),
                    h = void 0 === p ? 0 : p,
                    m = e.clickThreshold,
                    v = void 0 === m ? 0 : m,
                    g = e.boundToStage,
                    _ = void 0 !== g && g,
                    x = e.pathStyle,
                    C = void 0 === x ? {} : x,
                    y = e.stage,
                    S = e.doneTargets,
                    b = void 0 === S ? {} : S,
                    j = (0, o.useState)(),
                    E = (0, i.default)(j, 2),
                    k = E[0],
                    w = E[1],
                    T = (0, o.useRef)([]),
                    I = (0, o.useRef)(!1),
                    P = (0, u.default)(),
                    M = (0, s.default)(v),
                    O = (0, o.useRef)(!1);
                return (0, d.useListener)(window, "mouseup", (function() {
                    if (I.current = !1, 0 !== T.current.length) {
                        var e = T.current.map((function(e) {
                            return f.toCanvasPoint(e)
                        }));
                        n((0, r.default)({
                            points: e
                        }, C)), T.current = [], P()
                    }
                })), (0, d.useListener)(window, "mousemove", (function(e) {
                    var t = (0, l.getPointFromStage)(e, y, _),
                        n = _ && I.current;
                    if (w(n ? (0, l.getPointFromStage)(e, y, !0) : t), I.current) {
                        var a = T.current,
                            r = a[a.length - 1];
                        (!r || r.distance(t) >= h && M() || (0, l.isStageCorner)(t, y)) && a.push(t)
                    }
                })), (0, o.useEffect)((function() {
                    O.current && (null == a || a(), O.current = !1)
                })), {
                    cursorPosition: k,
                    points: T.current,
                    handlers: {
                        onMouseDown: function(e) {
                            var n;
                            if (null == t || t(), null === (n = b.mousedown) || void 0 === n ? void 0 : n.includes(e.target.name())) null == a || a();
                            else {
                                var r = (0, l.getPointFromStage)(e.evt, y, _);
                                T.current.push(r), I.current = !0, P()
                            }
                        },
                        onMouseUp: function(e) {
                            var t, n = null === (t = b.mouseup) || void 0 === t ? void 0 : t.includes(e.target.name()),
                                a = 1 === T.current.length;
                            n && !a && (O.current = !0)
                        },
                        onMouseMove: function(e) {
                            null == c || c(e)
                        }
                    }
                }
            };
            var r = a(n(81109)),
                i = a(n(63038)),
                o = n(67294),
                l = n(76249),
                u = a(n(57811)),
                s = a(n(95081)),
                d = n(8413)
        },
        38053: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.caption,
                    n = e.setCaptionInputRef,
                    a = e.onEnter,
                    j = (0, d.useRef)(null),
                    E = (0, d.useRef)(null),
                    k = (0, d.useState)(null),
                    w = (0, i.default)(k, 2),
                    T = w[0],
                    I = w[1],
                    P = function() {
                        var e;
                        null === (e = j.current) || void 0 === e || e.focus()
                    };
                (0, d.useEffect)((function() {
                    P()
                }), []);
                var M, O = function(e) {
                        var t = j.current;
                        t && (t.focus(!1), t.replaceSelection(e))
                    },
                    L = (0, o.numCodepoints)(e.caption || ""),
                    A = l.default.MAX_CAPTION_LENGTH - L < 50,
                    D = (0, b.jsx)("div", {
                        role: "button",
                        className: m.default.inputEmoji,
                        onClick: function(e) {
                            e.preventDefault(), e.stopPropagation();
                            var t = (0, b.jsx)(p.EmojiPanel, {
                                onEmoji: O,
                                onFocusNext: P,
                                onFocusPrev: P
                            });
                            I({
                                menu: t,
                                dirY: f.DirY.TOP,
                                type: "emoji_picker",
                                anchor: e.target
                            }), P()
                        },
                        children: (0, b.jsx)(C.default, {
                            name: "emoji-input"
                        })
                    }),
                    R = t && "" !== t ? (0, b.jsx)("div", {
                        role: "button",
                        className: m.default.clearBtn,
                        onClick: function() {
                            var e;
                            null === (e = j.current) || void 0 === e || e.reset(), P()
                        },
                        children: (0, b.jsx)(C.default, {
                            name: "x-alt"
                        })
                    }) : null,
                    N = A && (0, b.jsx)("div", {
                        className: m.default.charCounter,
                        children: v.default.n(l.default.MAX_CAPTION_LENGTH - L)
                    }),
                    F = null;
                T && (F = (0, b.jsx)(y.UIE, {
                    displayName: "EmojiPicker",
                    escapable: !0,
                    popable: !0,
                    ref: E,
                    requestDismiss: function() {
                        I(null)
                    },
                    children: (0, b.jsx)(S.default, {
                        contextMenu: T
                    })
                }));
                _.ServerProps.viewOnceWrite && (M = (0, b.jsx)("div", {
                    className: m.default.secondaryButtonContainer,
                    children: (0, b.jsx)(c.default, {
                        disabled: e.viewOnceDisabled,
                        isOn: Boolean(e.viewOnce),
                        mediaType: e.msgType,
                        onChange: e.onToggleViewOnce,
                        noMargin: !0
                    })
                }));
                return (0, b.jsxs)(h.FlexRow, {
                    className: (0, u.default)(m.default.container, (0, r.default)({}, m.default.videoCaption, "video" === e.theme)),
                    align: "center",
                    justify: "center",
                    children: [(0, b.jsx)("div", {
                        className: m.default.suggestionsPositioner,
                        children: (0, b.jsxs)("div", {
                            className: m.default.suggestionsContainer,
                            children: [(0, b.jsx)(g.default.MentionSuggestions, {
                                chat: e.chat,
                                theme: x.ThemeOptions.MEDIA_CAPTION
                            }), (0, b.jsx)(g.default.EmojiSuggestions, {
                                chat: e.chat,
                                theme: x.ThemeOptions.MEDIA_CAPTION
                            })]
                        })
                    }), (0, b.jsxs)(h.FlexRow, {
                        align: "start",
                        className: m.default.inputContainer,
                        children: [(0, b.jsx)(g.default, {
                            ref: function(e) {
                                j.current = e, n(e)
                            },
                            initialValue: t,
                            placeholder: s.fbt._("Type a message", null, {
                                hk: "3h5KZB"
                            }),
                            onChange: e.onChange,
                            onEnter: function(e) {
                                var t;
                                (null === (t = j.current) || void 0 === t ? void 0 : t.isFocused()) && a(e)
                            },
                            onFiles: e.onFiles,
                            theme: "media-caption",
                            maxLength: l.default.MAX_CAPTION_LENGTH,
                            multiline: !0,
                            spellCheck: !0
                        }), (0, b.jsxs)(h.FlexRow, {
                            className: m.default.buttonContainer,
                            align: "center",
                            children: [N, R, D]
                        })]
                    }), M, F]
                })
            };
            var r = a(n(59713)),
                i = a(n(63038)),
                o = n(27767),
                l = a(n(3208)),
                u = a(n(94184)),
                s = n(48360),
                d = n(67294),
                c = a(n(51241)),
                f = n(98169),
                p = n(10508),
                h = n(27968),
                m = a(n(22778)),
                v = a(n(45159)),
                g = a(n(4313)),
                _ = n(43890),
                x = n(23932),
                C = a(n(7665)),
                y = n(16835),
                S = a(n(93820)),
                b = n(85893)
        },
        55072: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.THICKNESS = void 0, t.getAllThicknesses = function() {
                return Object.keys(o)
            }, t.getThicknessValue = function(e) {
                return l[e]
            };
            var r, i = a(n(59713)),
                o = Object.freeze({
                    SMALL: "SMALL",
                    MEDIUM: "MEDIUM",
                    LARGE: "LARGE",
                    XLARGE: "XLARGE"
                });
            t.THICKNESS = o;
            var l = (r = {}, (0, i.default)(r, o.SMALL, 8), (0, i.default)(r, o.MEDIUM, 12), (0, i.default)(r, o.LARGE, 18), (0, i.default)(r, o.XLARGE, 24), r)
        },
        86151: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.attachMedia,
                    n = e.onClick,
                    a = e.onClose,
                    i = e.forwardRef,
                    o = e.id;
                return (0, h.jsxs)("div", {
                    className: (0, l.default)(u.default.thumb, (0, r.default)({}, u.default.active, e.active)),
                    onClick: function(e) {
                        n((0, c.unproxy)(t), e)
                    },
                    tabIndex: "-1",
                    ref: function(e) {
                        i(o, e)
                    },
                    children: [(0, h.jsx)("div", {
                        className: u.default.btnDelete,
                        onClick: function(e) {
                            a((0, c.unproxy)(t), e)
                        },
                        role: "button",
                        children: (0, h.jsx)(f.default, {
                            name: "x-alt"
                        })
                    }), (0, h.jsx)("div", {
                        className: u.default.bodyWrapper,
                        children: (0, h.jsx)(_, {
                            attachMedia: t
                        })
                    })]
                })
            };
            var r = a(n(59713)),
                i = a(n(35937)),
                o = n(40787),
                l = a(n(94184)),
                u = a(n(81212)),
                s = a(n(45159)),
                d = n(45438),
                c = n(68220),
                f = a(n(7665)),
                p = n(69283),
                h = n(85893),
                m = o.MSG_TYPE.IMAGE,
                v = o.MSG_TYPE.VIDEO,
                g = (0, i.default)(d.MIMETYPES, (function(e) {
                    return "document" === (null == e ? void 0 : e.msgType)
                }));

            function _(e) {
                var t, n = (0, p.useModelValues)(e.attachMedia, ["mimetype", "preview", "type", "fullPreview", "fullPreviewSize", "documentPageCount"]);
                if (n.type === m) t = n.preview;
                else if (n.type === v) t = `data:image/jpeg;base64,${n.preview}`;
                else if ("pdf" === (0, d.previewType)(n.mimetype)) {
                    n.fullPreview && n.fullPreviewSize && null != n.documentPageCount && n.documentPageCount > 0 && (t = n.fullPreview)
                }
                if (t) return (0, h.jsx)("div", {
                    className: u.default.body,
                    children: (0, h.jsx)("img", {
                        src: t,
                        alt: s.default.t(986)
                    })
                });
                var a = (0, l.default)(u.default.body, u.default.bodyIcon, g[n.mimetype] ? g[n.mimetype].icon : "icon-doc-generic");
                return (0, h.jsx)("div", {
                    className: a
                })
            }
        },
        78995: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(93913)),
                o = a(n(2205)),
                l = a(n(99842)),
                u = n(40787),
                s = n(67294),
                d = n(99420),
                c = a(n(86151)),
                f = n(85893),
                p = (0, d.SortableElement)((function(e) {
                    return e.children
                })),
                h = (0, d.SortableContainer)((function(e) {
                    return e.children
                })),
                m = function(e) {
                    (0, o.default)(n, e);
                    var t = (0, l.default)(n);

                    function n(e) {
                        var a;
                        return (0, r.default)(this, n), (a = t.call(this, e))._handleSortEnd = function(e) {
                            var t = e.oldIndex,
                                n = e.newIndex,
                                r = a.props.mediaCollection.reorder(t, n);
                            a.setState({
                                medias: r
                            })
                        }, a.state = {
                            medias: a.props.mediaCollection.getPreviewableMedias()
                        }, a
                    }
                    return (0, i.default)(n, [{
                        key: "render",
                        value: function() {
                            var e = this,
                                t = this.props,
                                n = t.mediaCollection,
                                a = t.className,
                                r = t.forwardRef,
                                i = this.state.medias;
                            return (0, f.jsx)(h, {
                                onSortEnd: this._handleSortEnd,
                                axis: "x",
                                helperClass: "SortableHelper",
                                distance: 10,
                                children: (0, f.jsx)("div", {
                                    className: a,
                                    children: i.map((function(t, a) {
                                        var i;
                                        return (0, f.jsx)(p, {
                                            index: a,
                                            children: (0, f.jsx)(c.default, {
                                                id: t.id,
                                                attachMedia: t,
                                                active: t === n.getActive(),
                                                previewMode: (null === (i = n.getActive()) || void 0 === i ? void 0 : i.type) !== u.MSG_TYPE.IMAGE,
                                                onClick: e.props.onClick,
                                                onClose: e.props.onClose,
                                                forwardRef: r
                                            })
                                        }, t.id)
                                    }))
                                })
                            })
                        }
                    }], [{
                        key: "getDerivedStateFromProps",
                        value: function(e) {
                            return {
                                medias: e.mediaCollection.getPreviewableMedias()
                            }
                        }
                    }]), n
                }(s.Component);
            t.default = m, m.displayName = "DragAndDrop"
        },
        41044: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.ImageBody = void 0;
            var r = a(n(59713)),
                i = a(n(63038)),
                o = n(40787),
                l = a(n(94184)),
                u = n(48360),
                s = n(67294),
                d = n(71988),
                c = a(n(62281)),
                f = a(n(7844)),
                p = a(n(38053)),
                h = a(n(42462)),
                m = n(73763),
                v = n(50142),
                g = a(n(23390)),
                _ = n(27968),
                x = n(51451),
                C = n(45738),
                y = n(3309),
                S = a(n(28224)),
                b = n(89826),
                j = a(n(7885)),
                E = n(23289),
                k = a(n(47916)),
                w = a(n(97954)),
                T = n(23961),
                I = a(n(7665)),
                P = n(73860),
                M = a(n(36466)),
                O = a(n(63782)),
                L = n(55072),
                A = n(29034),
                D = a(n(8995)),
                R = n(8413),
                N = n(69283),
                F = n(85893),
                B = new w.default({
                    width: 200,
                    height: 200
                }),
                U = (0, s.forwardRef)((function(e, t) {
                    var n = e.paintColor,
                        a = e.paintThickness,
                        U = e.outlineSmoothing,
                        G = e.onLayerDelete,
                        H = e.onTextEditingStart,
                        W = e.onTextEditingEnd,
                        V = e.onOutlineDone,
                        z = e.draftTextLayer,
                        q = e.onLayerUnselect,
                        K = e.onPaintSelect,
                        Y = e.onCropRotateCanvas,
                        Q = e.onOutlineSelect,
                        X = (0, N.useModelValues)(e.attachMedia, ["mediaEditorData", "caption", "id"]),
                        Z = (0, s.useRef)(null),
                        J = (0, s.useRef)(null),
                        $ = (0, s.useRef)(null),
                        ee = (0, s.useRef)(null),
                        te = (0, s.useRef)(null),
                        ne = (0, s.useRef)(null),
                        ae = (0, s.useRef)(null),
                        re = (0, s.useRef)(null),
                        ie = (0, s.useState)(w.default.empty()),
                        oe = (0, i.default)(ie, 2),
                        le = oe[0],
                        ue = oe[1],
                        se = (0, s.useState)(!1),
                        de = (0, i.default)(se, 2),
                        ce = (de[0], de[1]),
                        fe = (0, s.useState)(!1),
                        pe = (0, i.default)(fe, 2),
                        he = pe[0],
                        me = pe[1],
                        ve = (0, s.useState)(!1),
                        ge = (0, i.default)(ve, 2),
                        _e = ge[0],
                        xe = ge[1],
                        Ce = (0, s.useState)(!1),
                        ye = (0, i.default)(Ce, 2),
                        Se = ye[0],
                        be = ye[1],
                        je = (0, s.useState)(!1),
                        Ee = (0, i.default)(je, 2),
                        ke = Ee[0],
                        we = Ee[1],
                        Te = (0, s.useState)(!1),
                        Ie = (0, i.default)(Te, 2),
                        Pe = Ie[0],
                        Me = Ie[1],
                        Oe = function() {
                            me((function(e) {
                                return !e
                            }))
                        },
                        Le = function() {
                            return X.mediaEditorData
                        },
                        Ae = function() {
                            if (Z.current) {
                                var e = Z.current.getBoundingClientRect(),
                                    t = new w.default({
                                        width: e.width - 40,
                                        height: e.height - 40
                                    });
                                ue(t)
                            }
                        },
                        De = function() {
                            !_e && Le().selectedLayer && q(), xe((function(e) {
                                return !e
                            })), Ae()
                        },
                        Re = function() {
                            return Se
                        },
                        Ne = function() {
                            be((function(e) {
                                return !e
                            }))
                        },
                        Fe = function() {
                            if (he) Oe();
                            else if (_e) De();
                            else if (Re()) V(), Ne();
                            else {
                                if (!X.mediaEditorData.selectedLayer || z) return !1;
                                q()
                            }
                            return !0
                        };
                    (0, R.useListener)(window, "mousedown", (function(e) {
                        re.current = e.target
                    })), (0, R.useListener)(window, "click", (function() {
                        var e = re.current;
                        e !== Z.current && e !== $.current && e !== J.current || Fe()
                    }));
                    var Be = function() {
                            var e = X.mediaEditorData.selectedLayer;
                            e && G(e)
                        },
                        Ue = function(e) {
                            "Backspace" !== e.code || e.target instanceof HTMLInputElement || e.target instanceof HTMLDivElement && "true" === e.target.contentEditable || _e || Be()
                        },
                        Ge = function() {
                            var e = function() {
                                if (!ee.current) throw new Error("MediaEditor:canvas is not initialized");
                                return ee.current.getDataUrl()
                            }();
                            return A.URL.dataURLtoFile(e)
                        },
                        He = function() {
                            if (null != ee.current) {
                                var e = ee.current.getStage().attrs,
                                    t = e.width,
                                    n = e.height;
                                if (0 !== t && 0 !== n) {
                                    var a = Ge(),
                                        r = window.URL.createObjectURL(a);
                                    X.updateEditedFile(a), X.updatePreview(r), X.updateFullPreview(r)
                                }
                            }
                        },
                        We = (0, D.default)((function() {
                            ae.current && ((0, y.cancelIdleCallback)(ae.current), ae.current = null), ae.current = (0, y.requestIdleCallback)(He)
                        }), 1e3),
                        Ve = function(e) {
                            (null == e ? void 0 : e.immediately) ? He(): We()
                        };
                    (0, s.useEffect)((function() {
                        return window.addEventListener("resize", Ae), window.addEventListener("keydown", Ue), Ae(),
                            function() {
                                window.removeEventListener("resize", Ae), window.removeEventListener("keydown", Ue), Ve({
                                    immediately: !0
                                })
                            }
                    }), []);
                    var ze = function() {
                            if (_e) De();
                            else if (he) Oe();
                            else if (Se) V(), Ne();
                            else if (z) {
                                var e;
                                null === (e = ee.current) || void 0 === e || e.endTextEditing()
                            } else Le().selectedLayer && q()
                        },
                        qe = function(e, t) {
                            e === d.MediaEditorAction.OutlineDone ? (Fe(), Ne()) : e === d.MediaEditorAction.Outline ? (Re() && Ne(), t === d.MediaEditorAction.Outline && Ne()) : e === d.MediaEditorAction.CropRotateCanvas && (Fe(), t === d.MediaEditorAction.CropRotateCanvas && De())
                        },
                        Ke = function(e, t) {
                            e === d.MediaEditorAction.OutlineDone ? Fe() : e === d.MediaEditorAction.Outline ? Re() || Ne() : e === d.MediaEditorAction.CropRotateCanvas ? (Fe(), De()) : t === d.MediaEditorAction.CropRotateCanvas && e !== d.MediaEditorAction.CropRotateCanvas && Fe()
                        },
                        Ye = function() {
                            var e = X.mediaEditorData;
                            return (0, T.calculateContainScale)(e.screenWidth, e.screenHeight, le, B)
                        },
                        Qe = function() {
                            var e;
                            return null === (e = ee.current) || void 0 === e ? void 0 : e.getBackground()
                        };
                    (0, s.useImperativeHandle)(t, (function() {
                        return {
                            updatePreview: Ve,
                            undoAction: qe,
                            redoAction: Ke,
                            getCanvasScale: Ye,
                            resetUIState: Fe,
                            getBackground: Qe
                        }
                    }));
                    var Xe, Ze = X.mediaEditorData,
                        Je = e.draftTextLayer || Ze.selectedLayer;
                    if (_e) Xe = (0, F.jsx)(v.CropRotateToolbar, {
                        canReset: Ze.isRotated() || Ze.isCropped(),
                        onRotateCanvas: function(e) {
                            Y(Le().rotation + e, Le().cropOrigin, Le().cropSize)
                        },
                        onReset: function() {
                            Y(0, new k.default({
                                x: 0,
                                y: 0
                            }), Le().size)
                        }
                    });
                    else if (Se) Xe = (0, F.jsx)(E.OutlineToolbar, {
                        smoothing: e.outlineSmoothing,
                        onSmoothingToggle: e.onOutlineSmoothingToggle,
                        canReset: Ze.isOutlined(),
                        onReset: e.onOutlineReset
                    });
                    else if (Je) {
                        var $e = Je instanceof b.ImageLayer && Je.isBackground();
                        if (Je instanceof P.TextLayer) {
                            var et = (0, m.getAllColors)().map((function(e) {
                                var t = (0, m.getColorValue)(e),
                                    n = (0, m.getColorValue)(t.isLight() ? m.COLORS.BLACK : m.COLORS.WHITE);
                                return {
                                    primaryColor: t,
                                    secondaryColor: n
                                }
                            }));
                            Xe = (0, F.jsxs)(F.Fragment, {
                                children: [(0, F.jsx)(h.default, {
                                    ref: te,
                                    colors: et,
                                    onColorSelect: e.onTextColorSelect,
                                    selectedColor: Je.textColor
                                }), (0, F.jsx)(x.Font, {
                                    ref: ne,
                                    fonts: (0, C.getAllFonts)(),
                                    selectedFont: Je.font,
                                    selectedAlignment: Je.alignment,
                                    onFontSelect: e.onFontSelect,
                                    onAlignmentSelect: e.onAlignmentSelect
                                }), (0, F.jsx)(M.default, {
                                    checked: Je.textBackground,
                                    onBackgroundToggle: e.onTextBackgroundToggle
                                }), (0, F.jsx)(c.default, {
                                    icon: "delete",
                                    title: u.fbt._("Delete", null, {
                                        hk: "1XGJJN"
                                    }),
                                    onClick: Be
                                })]
                            })
                        } else $e || (Xe = (0, F.jsx)(F.Fragment, {
                            children: (0, F.jsx)(c.default, {
                                icon: "delete",
                                title: u.fbt._("Delete", null, {
                                    hk: "1XGJJN"
                                }),
                                onClick: Be
                            })
                        }))
                    } else he && (Xe = (0, F.jsxs)(F.Fragment, {
                        children: [(0, F.jsx)(h.default, {
                            colors: (0, m.getAllColors)().map((function(e) {
                                return {
                                    primaryColor: (0, m.getColorValue)(e)
                                }
                            })),
                            onColorSelect: e.onPaintColorSelect,
                            selectedColor: n
                        }), (0, F.jsx)(O.default, {
                            thicknesses: (0, L.getAllThicknesses)(),
                            onThicknessSelect: e.onPaintThicknessSelect,
                            selectedThickness: a
                        })]
                    }));
                    var tt = !Xe && !e.draftTextLayer && !e.sendAsSticker,
                        nt = (0, F.jsx)(_.FlexRow, {
                            className: (0, l.default)(S.default.captionInputContainer, (0, r.default)({}, S.default.captionInputHidden, !tt)),
                            justify: "center",
                            children: (0, F.jsx)(p.default, {
                                chat: e.chat,
                                caption: X.caption,
                                viewOnce: e.viewOnce,
                                viewOnceDisabled: e.viewOnceDisabled,
                                msgType: o.MSG_TYPE.IMAGE,
                                theme: "image",
                                onToggleViewOnce: e.onToggleViewOnce,
                                onChange: e.onCaptionChange,
                                onEnter: e.onEnter,
                                onFiles: e.onFiles,
                                setCaptionInputRef: function(t) {
                                    e.setCaptionInputRef(X.id, t)
                                }
                            }, X.id)
                        }),
                        at = (0, F.jsxs)(_.FlexRow, {
                            justify: "center",
                            align: "center",
                            className: S.default.footer,
                            ref: $,
                            children: [Xe && (0, F.jsx)(_.FlexRow, {
                                justify: "center",
                                align: "center",
                                className: S.default.bottomToolbar,
                                children: Xe
                            }), nt]
                        }),
                        rt = null;
                    _e && (rt = (0, F.jsx)(g.default, {
                        data: Ze,
                        rotation: Le().rotation,
                        cropOrigin: Le().cropOrigin,
                        cropSize: Le().cropSize,
                        onCropChange: function(e, t) {
                            Y(Le().rotation, e, t)
                        },
                        containerSize: le,
                        keepRatio: e.sendAsSticker,
                        sendAsSticker: e.sendAsSticker
                    }));
                    var it = _e || he || Se || ke || Pe || Boolean(e.draftTextLayer) || Boolean(Le().selectedLayer);
                    return (0, F.jsxs)("div", {
                        className: S.default.container,
                        children: [(0, F.jsxs)(_.FlexRow, {
                            className: S.default.header,
                            ref: J,
                            children: [e.onClose ? (0, F.jsx)("div", {
                                onClick: e.onClose,
                                className: S.default.closeButton,
                                children: (0, F.jsx)(I.default, {
                                    name: "x"
                                })
                            }) : (0, F.jsx)("div", {
                                className: S.default.closeButtonPlaceholder
                            }), (0, F.jsx)(j.default, {
                                selectedLayer: Je,
                                inPaintMode: he,
                                inCropRotateMode: _e,
                                inTextEditingMode: Boolean(e.draftTextLayer),
                                inOutlineMode: Se,
                                canUndo: e.canUndo,
                                canRedo: e.canRedo,
                                onPaintSelect: function() {
                                    Oe(), K()
                                },
                                onCropRotateSelect: function() {
                                    De()
                                },
                                onOutlineSelect: function() {
                                    Ne(), Q()
                                },
                                onTextSelect: e.onTextSelect,
                                onEmojiSelect: e.onEmojiSelect,
                                onStickerSelect: e.onStickerSelect,
                                onToggleEmojiPanel: function(e) {
                                    we(e)
                                },
                                onToggleStickerPanel: function(e) {
                                    Me(e)
                                },
                                onUndo: e.onUndo,
                                onRedo: e.onRedo,
                                showOutline: e.sendAsSticker
                            }), (0, F.jsx)(_.FlexRow, {
                                className: S.default.headerRight,
                                justify: "end",
                                children: it && (0, F.jsx)(c.default, {
                                    onClick: ze,
                                    children: u.fbt._("Done", null, {
                                        hk: "2nVR7W"
                                    })
                                })
                            })]
                        }), (0, F.jsxs)("div", {
                            ref: Z,
                            className: (0, l.default)(S.default.canvasContainer, (0, r.default)({}, S.default.cropRotateContainer, _e)),
                            children: [(0, F.jsx)("div", {
                                className: S.default.canvas,
                                style: {
                                    display: _e ? "none" : "unset"
                                },
                                children: (0, F.jsx)(f.default, {
                                    ref: ee,
                                    data: Ze,
                                    inPaintMode: he,
                                    inOutlineMode: Se,
                                    paintColor: n,
                                    paintThickness: a,
                                    outlineSmoothing: U,
                                    currentlyEditingTextLayer: e.currentlyEditingTextLayer,
                                    draftTextLayer: e.draftTextLayer,
                                    scale: Ye(),
                                    onLayerSelect: e.onLayerSelect,
                                    onLayerUnselect: e.onLayerUnselect,
                                    onLayerTranslate: e.onLayerTranslate,
                                    onLayerTransform: e.onLayerTransform,
                                    onTextEditingStart: function(e) {
                                        ce(!0), H(e)
                                    },
                                    onTextEditingEnd: function(e, t) {
                                        ce(!1), W(e, t)
                                    },
                                    onTextInputOutsideClick: function(e) {
                                        var t, n, a = e.target;
                                        return !(a instanceof HTMLElement && a.closest(`.${S.default.footer}`) && a !== $.current || (null === (t = te.current) || void 0 === t ? void 0 : t.isPanelVisible()) || (null === (n = ne.current) || void 0 === n ? void 0 : n.isMenuVisible()))
                                    },
                                    onPaintDrawEnd: e.onPaintDrawEnd,
                                    onOutlineDrawEnd: e.onOutlineDrawEnd,
                                    onOutlineDone: ze,
                                    canEditBackground: e.sendAsSticker,
                                    outlineEnabled: e.sendAsSticker
                                })
                            }), rt]
                        }), at]
                    })
                }));
            t.ImageBody = U
        },
        37286: (e, t, n) => {
            "use strict";
            var a = n(21314).default,
                r = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(n(59713)),
                o = r(n(87757)),
                l = r(n(48926)),
                u = r(n(34575)),
                s = r(n(93913)),
                d = r(n(2205)),
                c = r(n(99842)),
                f = n(15586),
                p = r(n(272)),
                h = r(n(3208)),
                m = r(n(11845)),
                v = n(40787),
                g = r(n(94184)),
                _ = n(9443),
                x = n(48360),
                C = n(67294),
                y = n(71988),
                S = r(n(78888)),
                b = n(65901),
                j = n(73763),
                E = r(n(30211)),
                k = r(n(94513)),
                w = r(n(78995)),
                T = r(n(53187)),
                I = r(n(18345)),
                P = n(42985),
                M = n(53802),
                O = function(e, t) {
                    if (!t && e && e.__esModule) return e;
                    if (null === e || "object" != typeof e && "function" != typeof e) return {
                        default: e
                    };
                    var n = oe(t);
                    if (n && n.has(e)) return n.get(e);
                    var a = {},
                        r = Object.defineProperty && Object.getOwnPropertyDescriptor;
                    for (var i in e)
                        if ("default" !== i && Object.prototype.hasOwnProperty.call(e, i)) {
                            var o = r ? Object.getOwnPropertyDescriptor(e, i) : null;
                            o && (o.get || o.set) ? Object.defineProperty(a, i, o) : a[i] = e[i]
                        } a.default = e, n && n.set(e, a);
                    return a
                }(n(18286)),
                L = r(n(75304)),
                A = n(50157),
                D = n(27968),
                R = n(45738),
                N = n(32012),
                F = n(41044),
                B = n(89826),
                U = r(n(33241)),
                G = n(63641),
                H = n(66739),
                W = r(n(50507)),
                V = n(45438),
                z = r(n(14755)),
                q = r(n(47916)),
                K = r(n(2011)),
                Y = n(43890),
                Q = n(85651),
                X = n(64585),
                Z = r(n(28706)),
                J = r(n(7665)),
                $ = n(73860),
                ee = n(55072),
                te = n(92428),
                ne = r(n(17746)),
                ae = r(n(41262)),
                re = r(n(20305)),
                ie = n(85893);

            function oe(e) {
                if ("function" != typeof WeakMap) return null;
                var t = new WeakMap,
                    n = new WeakMap;
                return (oe = function(e) {
                    return e ? n : t
                })(e)
            }
            var le = v.MSG_TYPE.IMAGE,
                ue = v.MSG_TYPE.VIDEO,
                se = v.MSG_TYPE.AUDIO,
                de = v.MSG_TYPE.STICKER,
                ce = 3 * $.DEFAULT_FONT_SIZE,
                fe = function(e) {
                    (0, d.default)(n, e);
                    var t = (0, c.default)(n);

                    function n(e) {
                        var r, i;
                        return (0, u.default)(this, n), (i = t.call(this, e))._setRefCanvasContainer = function(e) {
                            i._refCanvasContainer = e
                        }, i._setRefCanvas = function(e) {
                            i._refCanvas = e
                        }, i._setRefImageBody = function(e) {
                            i._refImageBody = e
                        }, i._setRefFileInput = function(e) {
                            i._refFileInput = e
                        }, i._setRefSendButton = function(e) {
                            i._refSendButton = e
                        }, i._mediaThumbRefMap = new Map, i._setRefMediaThumb = function(e, t) {
                            i._mediaThumbRefMap.set(e, t)
                        }, i._captionInputRefMap = new Map, i._setRefCaptionInput = function(e, t) {
                            i.props.mediaCollection.getActive() && !t || i._captionInputRefMap.set(e, t)
                        }, i._setRefHotKeys = function(e) {
                            i._refHotKeys = e
                        }, i._update = function(e, t) {
                            if (e !== i._getData()) {
                                var n, a, r, o = i.state.activeMedia;
                                if (o) o.updateMediaEditorData(e, {
                                    undoable: null !== (n = null == t ? void 0 : t.undoable) && void 0 !== n && n,
                                    lastAction: null !== (a = null == t ? void 0 : t.lastAction) && void 0 !== a ? a : null
                                }), i._updateUndoRedoState();
                                if (null == t ? void 0 : t.updatePreview) null === (r = i._refImageBody) || void 0 === r || r.updatePreview();
                                __LOG__(2)`MediaEditor: Updated MediaEditorData`
                            }
                        }, i._getData = function() {
                            var e = i.state.activeMedia;
                            return null == e ? E.default.create() : e.mediaEditorData
                        }, i._getBackground = function() {
                            var e;
                            return null === (e = i._refImageBody) || void 0 === e ? void 0 : e.getBackground()
                        }, i._handleUndo = function() {
                            var e = i.state.activeMedia;
                            if (e && e.canUndoMediaEditorData()) {
                                var t, n, a = e.lastMediaEditorAction;
                                e.undoMediaEditorData();
                                var r = e.lastMediaEditorAction;
                                i._updateUndoRedoState(), null === (t = i._refImageBody) || void 0 === t || t.updatePreview(), null === (n = i._refImageBody) || void 0 === n || n.undoAction(a, r)
                            }
                        }, i._handleRedo = function() {
                            var e = i.state.activeMedia;
                            if (e && e.canRedoMediaEditorData()) {
                                var t, n, a = e.lastMediaEditorAction;
                                e.redoMediaEditorData();
                                var r = e.lastMediaEditorAction;
                                i._updateUndoRedoState(), null === (t = i._refImageBody) || void 0 === t || t.updatePreview(), null === (n = i._refImageBody) || void 0 === n || n.redoAction(r, a)
                            }
                        }, i._updateUndoRedoState = function() {
                            i.setState((function(e) {
                                var t, n, a, r, o = null !== (t = null === (n = i.state.activeMedia) || void 0 === n ? void 0 : n.canUndoMediaEditorData()) && void 0 !== t && t,
                                    l = null !== (a = null === (r = i.state.activeMedia) || void 0 === r ? void 0 : r.canRedoMediaEditorData()) && void 0 !== a && a;
                                return e.canUndo !== o || e.canRedo !== l ? {
                                    canUndo: o,
                                    canRedo: l
                                } : null
                            }))
                        }, i._addImageLayer = function(e, t, n, a, r) {
                            var o = (0, p.default)(i._refImageBody, "_this._refImageBody").getCanvasScale(),
                                l = t.width * o,
                                u = t.width * o,
                                s = Math.min(r / l, r / u),
                                d = i._getData().addImageLayerToCenter({
                                    type: e,
                                    image: t,
                                    editable: !0,
                                    scale: s
                                });
                            i._update(d, {
                                updatePreview: !0,
                                undoable: !0
                            })
                        }, i._handleEmojiSelect = function() {
                            var e = (0, l.default)(o.default.mark((function e(t) {
                                var n, a, r, l;
                                return o.default.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            if (e.prev = 0, null != (n = P.EmojiUtil.getGlyphId(t))) {
                                                e.next = 4;
                                                break
                                            }
                                            return e.abrupt("return");
                                        case 4:
                                            return a = P.EmojiUtil.getGlyphPath(n, "xlarge").high, e.next = 7, he(a);
                                        case 7:
                                            r = e.sent, l = i.state.sendAsSticker ? 128 : 64, i._addImageLayer(B.ImageLayerType.Emoji, r, r.width, r.height, l), i.state.sendAsSticker && new W.default.WebcStickerMakerEvents({
                                                stickerMakerEventName: W.default.WEBC_STICKER_MAKER_EVENT_NAME_TYPE.EMOJI_ADDED
                                            }).commit(), e.next = 16;
                                            break;
                                        case 13:
                                            e.prev = 13, e.t0 = e.catch(0), b.Cmd.openToast((0, ie.jsx)(te.Toast, {
                                                msg: x.fbt._("Failed to add image", null, {
                                                    hk: "1e7nnp"
                                                }),
                                                id: (0, te.genId)()
                                            }));
                                        case 16:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e, null, [
                                    [0, 13]
                                ])
                            })));
                            return function() {
                                return e.apply(this, arguments)
                            }
                        }(), i._handleStickerSelect = function() {
                            var e = (0, l.default)(o.default.mark((function e(t) {
                                var n, a, r, l, u;
                                return o.default.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            return e.prev = 0, a = t.mediaData.fullWidth, r = t.mediaData.fullHeight, e.next = 5, (0, _.detectWebpSupport)();
                                        case 5:
                                            if (!e.sent) {
                                                e.next = 13;
                                                break
                                            }
                                            return l = t.mediaData.filehash, u = H.MediaBlobCache.getOrCreateURL(l), e.next = 10, he(u);
                                        case 10:
                                            n = e.sent, e.next = 16;
                                            break;
                                        case 13:
                                            return e.next = 15, me(t.mediaData);
                                        case 15:
                                            n = e.sent;
                                        case 16:
                                            i._addImageLayer(B.ImageLayerType.Sticker, n, a, r, 128), i.state.sendAsSticker && new W.default.WebcStickerMakerEvents({
                                                stickerMakerEventName: W.default.WEBC_STICKER_MAKER_EVENT_NAME_TYPE.STICKER_ADDED
                                            }).commit(), e.next = 23;
                                            break;
                                        case 20:
                                            e.prev = 20, e.t0 = e.catch(0), b.Cmd.openToast((0, ie.jsx)(te.Toast, {
                                                msg: x.fbt._("Failed to add image", null, {
                                                    hk: "1e7nnp"
                                                }),
                                                id: (0, te.genId)()
                                            }));
                                        case 23:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e, null, [
                                    [0, 20]
                                ])
                            })));
                            return function() {
                                return e.apply(this, arguments)
                            }
                        }(), i._handlePaintSelect = function() {
                            var e = i._getData().clearSelectedLayer();
                            i._update(e)
                        }, i._handleOutlineSelect = function() {
                            var e = i._getData().clearSelectedLayer();
                            i._update(e)
                        }, i._handleOutlineDone = function() {
                            var e = i._getBackground(),
                                t = i._getData();
                            if (e && !t.outlineLayer.isEmpty()) {
                                var n = t.cropCenter,
                                    a = e.width,
                                    r = e.height,
                                    o = new q.default({
                                        x: n.x - a / 2,
                                        y: n.y - r / 2
                                    }),
                                    l = -t.rotation,
                                    u = Math.max(a, r),
                                    s = t.cropSize.dimension,
                                    d = t.updateBackground(e, o, l, s * ((X.STICKER_DIMENSION - 2 * X.STICKER_PADDING) / X.STICKER_DIMENSION) / u).clearOutlinePaths();
                                i._update(d, {
                                    undoable: !0,
                                    updatePreview: !0,
                                    lastAction: y.MediaEditorAction.OutlineDone
                                }), i.state.sendAsSticker && new W.default.WebcStickerMakerEvents({
                                    stickerMakerEventName: W.default.WEBC_STICKER_MAKER_EVENT_NAME_TYPE.IMAGE_OUTLINED
                                }).commit()
                            }
                        }, i._handleOutlineReset = function() {
                            var e = i._getData().clearOutlinePaths();
                            i._update(e, {
                                undoable: !0,
                                updatePreview: !0
                            })
                        }, i._handleCropRotateCanvas = function(e, t, n) {
                            var a = i._getData().setRotation(e).setCrop(t, n);
                            i._update(a, {
                                undoable: !0,
                                updatePreview: !0,
                                lastAction: y.MediaEditorAction.CropRotateCanvas
                            }), i.state.sendAsSticker && new W.default.WebcStickerMakerEvents({
                                stickerMakerEventName: W.default.WEBC_STICKER_MAKER_EVENT_NAME_TYPE.IMAGE_CROPPED
                            }).commit()
                        }, i._handlePaintColorSelect = function(e) {
                            i.setState({
                                paintColor: e
                            })
                        }, i._handlePaintThicknessSelect = function(e) {
                            i.setState({
                                paintThickness: e
                            })
                        }, i._handleOutlineSmoothingToggle = function(e) {
                            i.setState({
                                outlineSmoothing: e
                            })
                        }, i._handleTextSelect = function() {
                            if (!i.state.currentlyEditingTextLayer) {
                                i._handleLayerUnselect();
                                var e = 1.2 / (0, p.default)(i._refImageBody, "_this._refImageBody").getCanvasScale();
                                if (i.state.sendAsSticker) {
                                    var t = i._getData().cropSize.dimension;
                                    e = ce * t / X.STICKER_DIMENSION / $.DEFAULT_FONT_SIZE
                                }
                                var n = {
                                        origin: i._getData().cropCenter,
                                        text: "",
                                        textColor: i.state.textColor,
                                        textBackground: i.state.textBackground,
                                        alignment: i.state.alignment,
                                        font: i.state.font,
                                        scale: e
                                    },
                                    a = i._getData().addTextLayer(n),
                                    r = (0, p.default)(a.lastTextLayer, "data.lastTextLayer");
                                i.setState({
                                    draftTextLayer: r,
                                    currentlyEditingTextLayer: null
                                })
                            }
                        }, i._handleFontSelect = function(e) {
                            i.setState({
                                font: e
                            });
                            var t = i._getData().selectedLayer,
                                n = i.state.draftTextLayer;
                            if (n) i.setState({
                                draftTextLayer: n.setFont(e)
                            });
                            else if (t && t instanceof $.TextLayer) {
                                var a = i._getData().setFont(t, e);
                                i._update(a, {
                                    updatePreview: !0,
                                    undoable: !0
                                })
                            }
                        }, i._handleAlignmentSelect = function(e) {
                            i.setState({
                                alignment: e
                            });
                            var t = i._getData().selectedLayer,
                                n = i.state.draftTextLayer;
                            if (n) i.setState({
                                draftTextLayer: n.setAlignment(e)
                            });
                            else if (t && t instanceof $.TextLayer) {
                                var a = i._getData().setAlignment(t, e);
                                i._update(a, {
                                    updatePreview: !0,
                                    undoable: !0
                                })
                            }
                        }, i._handleTextColorSelect = function(e) {
                            i.setState({
                                textColor: e
                            });
                            var t = i._getData().selectedLayer,
                                n = i.state.draftTextLayer;
                            if (n) i.setState({
                                draftTextLayer: n.setTextColor(e)
                            });
                            else if (t && t instanceof $.TextLayer) {
                                var a = i._getData().setTextColor(t, e);
                                i._update(a, {
                                    updatePreview: !0,
                                    undoable: !0
                                })
                            }
                        }, i._handleTextBackgroundToggle = function() {
                            var e = !i.state.textBackground;
                            i.setState({
                                textBackground: e
                            });
                            var t = i._getData().selectedLayer,
                                n = i.state.draftTextLayer;
                            if (n) i.setState({
                                draftTextLayer: n.setTextBackground(e)
                            });
                            else if (t && t instanceof $.TextLayer) {
                                var a = i._getData().setTextBackground(t, e);
                                i._update(a, {
                                    updatePreview: !0,
                                    undoable: !0
                                })
                            }
                        }, i._handleTextEditingStart = function(e) {
                            i.setState({
                                draftTextLayer: e,
                                currentlyEditingTextLayer: e
                            })
                        }, i._handleTextEditingEnd = function(e, t) {
                            var n;
                            if (t) {
                                var a = i._getData(),
                                    r = (0, p.default)(i.state.draftTextLayer, "_this.state.draftTextLayer").setText(t);
                                i.state.currentlyEditingTextLayer ? a = a.updateLayer((0, p.default)(i.state.currentlyEditingTextLayer, "_this.state.currentlyEditingTextLayer"), r) : (a = a.addTextLayer(r), i.state.sendAsSticker && new W.default.WebcStickerMakerEvents({
                                    stickerMakerEventName: W.default.WEBC_STICKER_MAKER_EVENT_NAME_TYPE.TEXT_ADDED
                                }).commit()), i._update(a, {
                                    updatePreview: !0,
                                    undoable: !0
                                })
                            } else {
                                var o = i.state.currentlyEditingTextLayer;
                                o && i._update(i._getData().deleteLayer(o), {
                                    updatePreview: !0,
                                    undoable: Boolean(e.text)
                                })
                            }
                            setTimeout((function() {
                                i.setState({
                                    draftTextLayer: null,
                                    currentlyEditingTextLayer: null
                                })
                            }), 0), null === (n = i._refHotKeys) || void 0 === n || n.focus()
                        }, i._handlePaintDrawEnd = function(e) {
                            i._update(i._getData().addPaintPath(e), {
                                undoable: !0,
                                updatePreview: !0
                            })
                        }, i._handleOutlineDrawEnd = function(e) {
                            i._update(i._getData().addOutlinePath(e), {
                                undoable: !0,
                                updatePreview: !0,
                                lastAction: y.MediaEditorAction.Outline
                            })
                        }, i._handleLayerUnselect = function() {
                            i._update(i._getData().clearSelectedLayer())
                        }, i._handleLayerSelect = function(e) {
                            if (e.editable) {
                                var t = i._getData().setSelectedLayer(e);
                                i._update(t), e instanceof $.TextLayer && i.setState({
                                    textColor: e.textColor,
                                    textBackground: e.textBackground,
                                    font: e.font
                                })
                            }
                        }, i._handleLayerTranslate = function(e, t) {
                            e instanceof B.ImageLayer && e.isBackground() ? i._update(i._getData().translateBackground(t), {
                                updatePreview: !0,
                                undoable: !0
                            }) : i._update(i._getData().translateLayer(e, t), {
                                updatePreview: !0,
                                undoable: !0
                            })
                        }, i._handleLayerTransform = function(e, t, n) {
                            e instanceof B.ImageLayer && e.isBackground() ? i._update(i._getData().transformBackground(t, n), {
                                updatePreview: !0,
                                undoable: !0
                            }) : i._update(i._getData().transformLayer(e, t, n), {
                                updatePreview: !0,
                                undoable: !0
                            })
                        }, i._handleLayerDelete = function(e) {
                            var t = i._getData().deleteLayer(e);
                            i._update(t, {
                                updatePreview: !0,
                                undoable: !0
                            })
                        }, i._handleMediaProcessUpdate = function() {
                            var e = i.props.mediaCollection;
                            if (e.canSend()) {
                                var t = e.uiProcessMsgs().errorMsgs;
                                t && (b.Cmd.openToast((0, ie.jsx)(te.Toast, {
                                    msg: t,
                                    id: (0, te.genId)()
                                })), 0 === e.getPreviewableMedias().length && i.props.onClose()), i.forceUpdate()
                            }
                        }, i._handleDrop = function(e) {
                            i.state.viewOnce || i.state.sendAsSticker || i._handleFilePick(e)
                        }, i._handleDragChange = function(e, t) {
                            i.state.viewOnce || i.state.sendAsSticker || (i.setState({
                                isDragging: e
                            }), e || t || i.props.mediaCollection.length || i.props.onClose())
                        }, i._handleCaptionChange = function(e) {
                            var t = i.state,
                                n = t.activeMedia,
                                a = t.isInitCaptionUsed;
                            if (n) {
                                var r = i.props.mediaCollection.indexOf(n);
                                n.updateCaption(e), 0 === r && "" === e && a && i.setState({
                                    isInitCaptionUsed: !1
                                })
                            }
                        }, i._handlePaste = function(e) {
                            e.preventDefault(), e.stopPropagation();
                            var t = new k.default(e.clipboardData);
                            t.hasFiles() && i._handleFiles(t)
                        }, i._handleFiles = function(e) {
                            var t = e.getFiles().filter((function(e) {
                                var t = (0, A.typeFromMimetype)(e.type);
                                return "image" === t || "video" === t
                            })).map((function(e) {
                                return {
                                    file: e
                                }
                            }));
                            i.props.mediaCollection.processAttachments(t, W.default.MEDIA_PICKER_ORIGIN_TYPE.PASTE)
                        }, i._handleAddFileClick = function() {
                            i._refFileInput && i._refFileInput.click()
                        }, i._handleFilePick = function(e) {
                            var t = i.props.getUnmountSignal();
                            (0, M.getFiles)(e).then((function(n) {
                                var a;
                                if (!t.aborted) return e.shiftKey && e.altKey && 1 === n.length && (i.setState({
                                    sendAsSticker: !0,
                                    paintThickness: ee.THICKNESS.XLARGE
                                }), a = !0), i.props.mediaCollection.processAttachments(n.map((function(e) {
                                    return {
                                        file: e,
                                        stickerMaker: a
                                    }
                                })), W.default.MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY)
                            })).catch((0, f.filteredCatch)(O.MediaDragDropError, (function(e) {
                                i.props.mediaCollection.length || i.props.onDropText(e.src)
                            }))), e.target.value && (e.target.value = "")
                        }, i._handleEnter = function(e) {
                            var t;
                            if (i.state.activeMedia && !e.repeat && !e.shiftKey && !i.state.draftTextLayer) {
                                var n = i._getData().selectedLayer;
                                if (n instanceof $.TextLayer) return e.preventDefault(), e.stopPropagation(), void i._handleTextEditingStart(n);
                                (null === (t = i._refImageBody) || void 0 === t ? void 0 : t.resetUIState()) || i._handleSendFromMediaEditor()
                            }
                        }, i._handleArrowKey = function(e, t) {
                            if (i.state.activeMedia && !t.repeat && !i.state.draftTextLayer) {
                                var n = i.state.activeMedia,
                                    a = n && !n.caption,
                                    r = i._captionInputRefMap.get(n.id);
                                (a || r && !r.isFocused() || r && r.cursorIsAtStart()) && ("left" === e ? i._handlePrev() : i._handleNext())
                            }
                        }, i._handlePrev = function() {
                            i.props.mediaCollection.setPrevAsActive() && (i._refSendButton && !i.state.draftTextLayer && m.default.focus(i._refSendButton), i._scrollIntoView())
                        }, i._handleNext = function() {
                            i.props.mediaCollection.setNextAsActive() && (i._refSendButton && !i.state.draftTextLayer && m.default.focus(i._refSendButton), i._scrollIntoView())
                        }, i._scrollIntoView = function() {
                            var e = i.state.activeMedia;
                            if (e) {
                                var t = i._mediaThumbRefMap.get(e.id);
                                t && t.scrollIntoView()
                            }
                        }, i._handleSelectThumb = function(e) {
                            i.props.mediaCollection.setActive(e)
                        }, i._handleRemoveThumb = function(e, t) {
                            t.stopPropagation(), t.preventDefault(), i.props.mediaCollection.remove(e), 0 === i.props.mediaCollection.getValidMedias().length ? i._delayedClose = setTimeout((function() {
                                i.props.onClose()
                            }), 200) : i._refSendButton && m.default.focus(i._refSendButton)
                        }, i._handleSendFromMediaEditor = function(e) {
                            var t;
                            null == e || e.preventDefault(), null == e || e.stopPropagation();
                            var n = i.props.mediaCollection;
                            if (n.canSend()) {
                                var r = n.getPreviewableMedias();
                                if (0 !== r.length) {
                                    var o;
                                    if ((null === (t = i.state.activeMedia) || void 0 === t ? void 0 : t.mediaEditorData.hasEdits()) || i.state.sendAsSticker) null === (o = i._refImageBody) || void 0 === o || o.updatePreview({
                                        immediately: !0
                                    });
                                    var l = new Map,
                                        u = [];
                                    r.forEach((function(e) {
                                        var t = e.caption,
                                            a = i._captionInputRefMap.get(e.id);
                                        if (t && a) {
                                            var r = a.serialize(t);
                                            l.set(e.id, r)
                                        }
                                        if (e.editedFile && (e.mediaEditorData.hasEdits() || i.state.sendAsSticker)) {
                                            var o = n.replace(e.id, {
                                                file: e.editedFile,
                                                asSticker: i.state.sendAsSticker
                                            });
                                            u.push(o)
                                        }
                                    })), a.all(u).then((function() {
                                        var e = n.getPreviewableMedias();
                                        if (0 !== e.length) {
                                            var t = e.map((function(e) {
                                                var t, n = e.caption,
                                                    a = [],
                                                    r = l.get(e.id);
                                                if (r) {
                                                    var i = [r[0].trim(), r[1]],
                                                        o = i[0],
                                                        u = i[1];
                                                    o.length && (n = o, a = u.mentionedJidList || [])
                                                }
                                                return e.caption = null !== (t = n) && void 0 !== t ? t : void 0, {
                                                    media: e,
                                                    mentionedJidList: a
                                                }
                                            }));
                                            i.props.onSendMedia(t, {
                                                initCaptionUsed: i.state.isInitCaptionUsed,
                                                isViewOnce: i._canViewOnce() && i.state.viewOnce
                                            }), i._commitMediaEditorSendMetric(r)
                                        }
                                    }))
                                } else i.props.onClose()
                            }
                        }, i._handleToggleViewOnce = function(e) {
                            i.setState({
                                viewOnce: e
                            })
                        }, i._handleToggleStickerMaker = function() {
                            var e = !i.state.sendAsSticker && i._canSendAsSticker();
                            i.setState({
                                sendAsSticker: e,
                                paintThickness: e ? ee.THICKNESS.XLARGE : ee.THICKNESS.SMALL
                            })
                        }, i._canViewOnce = function() {
                            var e, t = i.props,
                                n = t.chat,
                                a = t.mediaCollection,
                                r = n.contact.isEnterprise;
                            return Y.ServerProps.viewOnceWrite && 1 === a.length && !0 === (null === (e = a.at(0)) || void 0 === e ? void 0 : e.isViewableOnce()) && !r && !i.props.sendAsSticker
                        }, i._canSendAsSticker = function() {
                            var e, t = i.props.mediaCollection;
                            return 1 === t.length && (null === (e = t.at(0)) || void 0 === e ? void 0 : e.type) === le
                        }, i._getMediaBody = function(e) {
                            var t = null,
                                n = i.state,
                                a = n.paintColor,
                                r = n.paintThickness,
                                o = n.outlineSmoothing,
                                l = n.canUndo,
                                u = n.canRedo,
                                s = Y.ServerProps.viewOnceWrite ? i.state.viewOnce : null;
                            switch (e.type) {
                                case de:
                                case le:
                                    t = (0, ie.jsx)(F.ImageBody, {
                                        ref: i._setRefImageBody,
                                        attachMedia: e,
                                        chat: i.props.chat,
                                        onCaptionChange: i._handleCaptionChange,
                                        onClose: "capture" === i.props.theme ? null : i.props.onClose,
                                        onEnter: i._handleSendFromMediaEditor,
                                        setCaptionInputRef: i._setRefCaptionInput,
                                        paintColor: a,
                                        paintThickness: r,
                                        outlineSmoothing: o,
                                        canUndo: l,
                                        canRedo: u,
                                        currentlyEditingTextLayer: i.state.currentlyEditingTextLayer,
                                        draftTextLayer: i.state.draftTextLayer,
                                        viewOnce: s,
                                        viewOnceDisabled: !i._canViewOnce(),
                                        sendAsSticker: i.state.sendAsSticker,
                                        onPaintSelect: i._handlePaintSelect,
                                        onOutlineSelect: i._handleOutlineSelect,
                                        onOutlineDone: i._handleOutlineDone,
                                        onOutlineReset: i._handleOutlineReset,
                                        onTextSelect: i._handleTextSelect,
                                        onTextBackgroundToggle: i._handleTextBackgroundToggle,
                                        onEmojiSelect: i._handleEmojiSelect,
                                        onStickerSelect: i._handleStickerSelect,
                                        onLayerSelect: i._handleLayerSelect,
                                        onLayerUnselect: i._handleLayerUnselect,
                                        onLayerDelete: i._handleLayerDelete,
                                        onLayerTranslate: i._handleLayerTranslate,
                                        onLayerTransform: i._handleLayerTransform,
                                        onTextEditingStart: i._handleTextEditingStart,
                                        onTextEditingEnd: i._handleTextEditingEnd,
                                        onTextColorSelect: i._handleTextColorSelect,
                                        onFontSelect: i._handleFontSelect,
                                        onAlignmentSelect: i._handleAlignmentSelect,
                                        onPaintColorSelect: i._handlePaintColorSelect,
                                        onPaintThicknessSelect: i._handlePaintThicknessSelect,
                                        onOutlineSmoothingToggle: i._handleOutlineSmoothingToggle,
                                        onCropRotateCanvas: i._handleCropRotateCanvas,
                                        onUndo: i._handleUndo,
                                        onRedo: i._handleRedo,
                                        onPaintDrawEnd: i._handlePaintDrawEnd,
                                        onOutlineDrawEnd: i._handleOutlineDrawEnd,
                                        onToggleViewOnce: i._handleToggleViewOnce,
                                        onFiles: i._handleFiles
                                    }, e.mediaEditorData.id);
                                    break;
                                case ue:
                                    t = (0, ie.jsx)(ae.default, {
                                        attachMedia: e,
                                        chat: i.props.chat,
                                        viewOnce: s,
                                        viewOnceDisabled: !i._canViewOnce(),
                                        setCaptionInputRef: i._setRefCaptionInput,
                                        onCaptionChange: i._handleCaptionChange,
                                        onClose: i.props.onClose,
                                        onEnter: i._handleSendFromMediaEditor,
                                        onToggleViewOnce: i._handleToggleViewOnce,
                                        onFiles: i._handleFiles
                                    }, e.id);
                                    break;
                                case se:
                                    t = (0, ie.jsx)(S.default, {
                                        item: e,
                                        onClose: i.props.onClose
                                    }, e.id);
                                    break;
                                default:
                                    t = "pdf" === (0, V.previewType)(e.mimetype) ? (0, ie.jsx)(z.default, {
                                        item: e,
                                        onClose: i.props.onClose
                                    }, e.id) : (0, ie.jsx)(L.default, {
                                        mimeType: e.mimetype,
                                        filesize: e.filesize,
                                        filename: e.filename,
                                        fileExt: e.fileExt,
                                        onClose: i.props.onClose
                                    }, e.id)
                            }
                            return t
                        }, i.getThumbs = function() {
                            var e = i.props.mediaCollection;
                            return (0, ie.jsx)(w.default, {
                                className: U.default.thumbs,
                                mediaCollection: e,
                                onClick: i._handleSelectThumb,
                                onClose: i._handleRemoveThumb,
                                forwardRef: i._setRefMediaThumb
                            })
                        }, i.state = {
                            paintColor: (0, j.getColorValue)(j.COLORS.BLUE),
                            paintThickness: e.sendAsSticker ? ee.THICKNESS.XLARGE : ee.THICKNESS.SMALL,
                            outlineSmoothing: !0,
                            textColor: (0, j.getColorValue)(j.COLORS.BLACK),
                            font: R.FONTS.SANS_SERIF,
                            textBackground: !0,
                            alignment: R.TextAlignment.CENTER,
                            isDragging: !1,
                            canUndo: !1,
                            canRedo: !1,
                            activeMedia: null,
                            prevActiveMedia: null,
                            isInitCaptionUsed: !1,
                            initCaption: null === (r = i.props.initCaption) || void 0 === r ? void 0 : r.text,
                            currentlyEditingTextLayer: null,
                            draftTextLayer: null,
                            viewOnce: !1,
                            sendAsSticker: e.sendAsSticker
                        }, i
                    }
                    return (0, s.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            var e, t = this,
                                n = this.props,
                                a = n.mediaCollection,
                                r = n.listeners;
                            a.isStickerMaker = this.state.sendAsSticker, r.add(a, "add remove reset", (function() {
                                t.forceUpdate()
                            })), r.add(a, "active-change change:state change:previewable", this._handleMediaProcessUpdate), r.add(b.Cmd, "toggle_sticker_maker", this._handleToggleStickerMaker), null === (e = this._refHotKeys) || void 0 === e || e.focus()
                        }
                    }, {
                        key: "componentDidUpdate",
                        value: function() {
                            this.props.mediaCollection.isStickerMaker = this.state.sendAsSticker
                        }
                    }, {
                        key: "componentWillUnmount",
                        value: function() {
                            this._delayedClose && clearTimeout(this._delayedClose)
                        }
                    }, {
                        key: "handleRequestDismiss",
                        value: function() {
                            var e;
                            return !(null === (e = this._refImageBody) || void 0 === e ? void 0 : e.resetUIState()) && (!this.state.draftTextLayer || (this.setState({
                                currentlyEditingTextLayer: null,
                                draftTextLayer: null
                            }), !1))
                        }
                    }, {
                        key: "_commitMediaEditorSendMetric",
                        value: function(e) {
                            if (this.state.sendAsSticker) return new W.default.StickerSend({
                                stickerSendOrigin: W.default.STICKER_SEND_ORIGIN_TYPE.STICKER_MAKER,
                                stickerIsAnimated: !1,
                                stickerIsFirstParty: !1,
                                stickerIsFromStickerMaker: !0
                            }).commit(), void new W.default.WebcStickerMakerEvents({
                                stickerMakerEventName: W.default.WEBC_STICKER_MAKER_EVENT_NAME_TYPE.SEND_STICKER
                            }).commit();
                            var t = 0,
                                n = 0,
                                a = 0,
                                r = 0,
                                i = 0,
                                o = 0;
                            e.forEach((function(e) {
                                var l = e.mediaEditorData;
                                e.type === le && (t++, l.hasEdits() && n++, l.paintLayer.paths.length > 0 && a++), l.layers.forEach((function(e) {
                                    e instanceof B.ImageLayer ? (e.isEmoji() && r++, e.isSticker() && i++) : e instanceof $.TextLayer && o++
                                }))
                            })), new W.default.WebcMediaEditorSend({
                                imageCount: t,
                                editedImageCount: n,
                                paintedImageCount: a,
                                emojiLayerCount: r,
                                stickerLayerCount: i,
                                textLayerCount: o
                            }).commit()
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e, t = this,
                                n = this.props.mediaCollection,
                                a = this.state.activeMedia,
                                r = n.getPreviewableMedias();
                            r.length > h.default.MAX_FILES && (r = r.slice(0, h.default.MAX_FILES)), n.canSend() ? a && (e = this._getMediaBody(a)) : e = (0, ie.jsx)("div", {
                                className: U.default.spinner,
                                children: (0, ie.jsx)(Q.Spinner, {
                                    color: "highlight"
                                }, "processing")
                            });
                            var o, l, u = this.state.isDragging ? (0, ie.jsx)("div", {
                                    className: U.default.dropOverlay,
                                    children: (0, ie.jsx)("div", {
                                        className: U.default.dropOverlayOutline,
                                        children: x.fbt._("Drag file here", null, {
                                            hk: "y9aHs"
                                        })
                                    })
                                }, "container") : null,
                                s = {
                                    enter: this._handleEnter,
                                    left: function(e) {
                                        return t._handleArrowKey("left", e)
                                    },
                                    right: function(e) {
                                        return t._handleArrowKey("right", e)
                                    }
                                },
                                d = "*" === V.DOC_MIMES ? "*" : [V.IMAGE_MIMES].join();
                            if (null != e)
                                if (r.length > 0 && (l = (0, ie.jsx)("div", {
                                        className: U.default.sendButton,
                                        tabIndex: "-1",
                                        ref: this._setRefSendButton,
                                        onKeyPress: function(e) {
                                            return e.preventDefault()
                                        },
                                        children: (0, ie.jsx)(K.default, {
                                            ariaLabel: x.fbt._("Send", null, {
                                                hk: "2JJUaP"
                                            }),
                                            large: !0,
                                            icon: (0, ie.jsx)(J.default, {
                                                name: "send",
                                                directional: !0
                                            }),
                                            count: 1 === r.length ? null : r.length,
                                            onClick: this._handleSendFromMediaEditor,
                                            disabled: !n.canSend()
                                        })
                                    })), "capture" === this.props.theme) o = (0, ie.jsx)("div", {
                                    className: U.default.captureFooter,
                                    children: l
                                });
                                else {
                                    var c, f = !this.state.viewOnce && !this.state.sendAsSticker && r.length < h.default.MAX_FILES,
                                        p = this.state.sendAsSticker ? null : (0, ie.jsx)(Z.default, {
                                            className: (0, g.default)(U.default.addMediaButton, (0, i.default)({}, U.default.addMediaButtonDisabled, !f)),
                                            disabled: !f,
                                            name: "media-editor-add",
                                            title: x.fbt._("Add file", null, {
                                                hk: "4Gvj3D"
                                            }),
                                            onClick: this._handleAddFileClick,
                                            "aria-label": x.fbt._("Add file", null, {
                                                hk: "4Gvj3D"
                                            })
                                        }, "media-more");
                                    r.length > 0 && (c = (0, ie.jsxs)(D.FlexRow, {
                                        className: U.default.filmstripContainer,
                                        justify: "center",
                                        align: "start",
                                        children: [this.getThumbs(), p]
                                    })), o = (0, ie.jsxs)("div", {
                                        className: U.default.footer,
                                        children: [c, l]
                                    })
                                } var m = (0, g.default)(U.default.container, (0, i.default)({}, U.default.previewOnly, a && a.type !== le)),
                                v = (0, ie.jsxs)(D.FlexColumn, {
                                    className: m,
                                    align: "stretch",
                                    children: [u, e, o, (0, ie.jsx)("input", {
                                        ref: this._setRefFileInput,
                                        type: "file",
                                        accept: d,
                                        style: {
                                            display: "none"
                                        },
                                        onChange: this._handleFilePick,
                                        multiple: !0
                                    })]
                                });
                            return "attach" === this.props.theme && (v = (0, ie.jsx)(T.default, {
                                theme: "media",
                                onDrop: this._handleDrop,
                                onDragChange: this._handleDragChange,
                                children: (0, ie.jsx)(I.default, {
                                    tabIndex: "-1",
                                    overflow: "hidden",
                                    onPaste: this._handlePaste,
                                    children: v
                                })
                            }, "attach-image-modal")), (0, ie.jsx)(N.HotKeys, {
                                handlers: s,
                                onRef: this._setRefHotKeys,
                                children: v
                            })
                        }
                    }], [{
                        key: "getDerivedStateFromProps",
                        value: function(e, t) {
                            var n, a, r = e.mediaCollection.getActive(),
                                i = t.initCaption,
                                o = t.isInitCaptionUsed;
                            return o || t.activeMedia || !i || !r || r.type !== le && r.type !== ue || (r.caption = i, o = !0), {
                                prevActiveMedia: r,
                                activeMedia: r,
                                canUndo: null !== (n = null == r ? void 0 : r.canUndoMediaEditorData()) && void 0 !== n && n,
                                canRedo: null !== (a = null == r ? void 0 : r.canRedoMediaEditorData()) && void 0 !== a && a,
                                isInitCaptionUsed: o
                            }
                        }
                    }]), n
                }(C.Component);
            fe.defaultProps = {
                onClose: function() {},
                theme: "attach",
                sendAsSticker: !1
            }, fe.displayName = "MediaEditor";
            var pe = function(e) {
                (0, d.default)(n, e);
                var t = (0, c.default)(n);

                function n() {
                    return (0, u.default)(this, n), t.apply(this, arguments)
                }
                return (0, s.default)(n, [{
                    key: "handleRequestDismiss",
                    value: function() {
                        return this.getComponent().handleRequestDismiss()
                    }
                }]), n
            }((0, ne.default)((0, G.ListenerHOC)(fe)));

            function he(e) {
                return new a((function(t, n) {
                    var a = new Image;
                    a.onload = function() {
                        t(a)
                    }, a.onerror = n, a.src = e
                }))
            }

            function me() {
                return ve.apply(this, arguments)
            }

            function ve() {
                return (ve = (0, l.default)(o.default.mark((function e(t) {
                    var n, a, r, i, l, u, s, d, c;
                    return o.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                if (n = t.rgbaBuffer) {
                                    e.next = 14;
                                    break
                                }
                                if (a = H.MediaBlobCache.get(t.filehash)) {
                                    e.next = 5;
                                    break
                                }
                                throw new Error("Failed to get media blob");
                            case 5:
                                return e.next = 7, (0, A.blobToArrayBuffer)(a);
                            case 7:
                                return r = e.sent, e.next = 10, (0, re.default)(r);
                            case 10:
                                if (i = e.sent.frames[0]) {
                                    e.next = 13;
                                    break
                                }
                                throw new Error("Failed to get sticker first frame.");
                            case 13:
                                n = i.rgbaBuffer;
                            case 14:
                                return l = t.fullWidth, u = t.fullHeight, (s = document.createElement("canvas")).width = l, s.height = u, d = s.getContext("2d"), (c = d.createImageData(l, u)).data.set(new Uint8Array(n)), d.putImageData(c, 0, 0), e.abrupt("return", s);
                            case 24:
                            case "end":
                                return e.stop()
                        }
                    }), e)
                })))).apply(this, arguments)
            }
            t.default = pe
        },
        78888: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onClose,
                    n = e.item,
                    a = n.mimetype,
                    u = n.fullPreview;
                return (0, l.jsxs)("div", {
                    className: o.default.container,
                    children: [(0, l.jsx)(i.default, {
                        onClose: t
                    }), (0, l.jsx)(r.default, {
                        mimeType: a,
                        url: u
                    })]
                })
            };
            var r = a(n(47461)),
                i = a(n(72580)),
                o = a(n(50983)),
                l = n(85893)
        },
        23390: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.data,
                    n = e.rotation,
                    a = e.cropOrigin,
                    v = e.cropSize,
                    g = e.containerSize,
                    _ = e.keepRatio,
                    x = e.onCropChange,
                    C = e.sendAsSticker,
                    y = t.resetCropRotate().setRotation(n),
                    S = (0, r.useRef)(),
                    b = (0, r.useRef)(),
                    j = v.width,
                    E = v.height,
                    k = a.x,
                    w = a.y,
                    T = (0, r.useRef)(v),
                    I = j / T.current.width,
                    P = E / T.current.height,
                    M = t.width,
                    O = t.height,
                    L = h(M, O, n),
                    A = L.width,
                    D = L.height,
                    R = new s.default({
                        width: g.width - 20,
                        height: g.height - 20
                    }),
                    N = (0, d.calculateContainScale)(n % 180 ? O : M, n % 180 ? M : O, R, f),
                    F = p / N,
                    B = new s.default({
                        width: M + 2 * F,
                        height: O + 2 * F
                    }),
                    U = h(B.width, B.height, n),
                    G = U.width,
                    H = U.height,
                    W = B.width / 2,
                    V = B.height / 2;
                (0, r.useEffect)((function() {
                    var e, t = S.current,
                        n = b.current;
                    t && n && 0 === t.nodes().length && (t.nodes([n]), null === (e = n.getLayer()) || void 0 === e || e.batchDraw())
                }));
                var z = function(e) {
                        var t = e.target,
                            n = Math.round(t.x()),
                            a = Math.round(t.y()),
                            r = Math.min(Math.round(t.width() * t.scaleX()), M - n),
                            i = Math.min(Math.round(t.height() * t.scaleY()), O - a);
                        x(new l.default({
                            x: n,
                            y: a
                        }), new s.default({
                            width: r,
                            height: i
                        }))
                    },
                    q = ["top-left", "top-right", "bottom-left", "bottom-right"];
                _ || q.push("top-center", "middle-right", "middle-left", "bottom-center");
                return (0, c.jsxs)("div", {
                    className: o.default.container,
                    children: [(0, c.jsx)(i.default, {
                        data: y,
                        scale: N,
                        canEditLayer: !1,
                        style: {
                            padding: p
                        },
                        outlineEnabled: C
                    }), (0, c.jsx)(u.Stage, {
                        className: o.default.cropperContainer,
                        width: Math.round(G * N),
                        height: Math.round(H * N),
                        scaleX: N,
                        scaleY: N,
                        children: (0, c.jsx)(u.Layer, {
                            rotation: n,
                            offsetX: W,
                            offsetY: V,
                            x: G / 2,
                            y: H / 2,
                            children: (0, c.jsxs)(u.Group, {
                                x: F,
                                y: F,
                                children: [(0, c.jsx)(u.Rect, {
                                    x: 0,
                                    y: 0,
                                    width: M,
                                    height: O,
                                    fill: "black",
                                    opacity: .6
                                }), (0, c.jsx)(u.Rect, {
                                    ref: b,
                                    fill: "red",
                                    x: k,
                                    y: w,
                                    width: T.current.width,
                                    height: T.current.height,
                                    scaleX: I,
                                    scaleY: P,
                                    draggable: !0,
                                    dragBoundFunc: function(e) {
                                        var t = h(j, E, n),
                                            a = t.width,
                                            r = t.height,
                                            i = function(e, t, n, a, r) {
                                                switch ((r % 360 + 360) % 360) {
                                                    case 0:
                                                        return {
                                                            x: e, y: t
                                                        };
                                                    case 90:
                                                        return {
                                                            x: e - n, y: t
                                                        };
                                                    case 180:
                                                        return {
                                                            y: t - a, x: e - n
                                                        };
                                                    case 270:
                                                        return {
                                                            x: e, y: t - a
                                                        };
                                                    default:
                                                        throw new Error("Unsupported angle")
                                                }
                                            }(e.x, e.y, a * N, r * N, n),
                                            o = i.x,
                                            l = i.y;
                                        return o < p ? o = p : (o - p) / N + a > A && (o = Math.round(A - a + F) * N), l < p ? l = p : (l - p) / N + r > D && (l = Math.round(D - r + F) * N),
                                            function(e, t, n, a, r) {
                                                switch ((r % 360 + 360) % 360) {
                                                    case 0:
                                                        return {
                                                            x: e, y: t
                                                        };
                                                    case 90:
                                                        return {
                                                            x: e + n, y: t
                                                        };
                                                    case 180:
                                                        return {
                                                            y: t + a, x: e + n
                                                        };
                                                    case 270:
                                                        return {
                                                            x: e, y: t + a
                                                        };
                                                    default:
                                                        throw new Error("Unsupported angle")
                                                }
                                            }(o, l, a * N, r * N, n)
                                    },
                                    onTransformEnd: z,
                                    onDragEnd: z,
                                    globalCompositeOperation: "destination-out"
                                }), (0, c.jsx)(u.Transformer, {
                                    ref: S,
                                    anchorStroke: "blue",
                                    anchorFill: "white",
                                    anchorSize: 10,
                                    anchorCornerRadius: 5,
                                    borderEnabled: !1,
                                    centeredScaling: !1,
                                    resizeEnabled: !0,
                                    rotateEnabled: !1,
                                    ignoreStroke: !0,
                                    boundBoxFunc: function(e, t) {
                                        var a = M * N + 20,
                                            r = O * N + 20,
                                            i = m(e, a, r, n, -n),
                                            o = m(t, a, r, n, -n);
                                        return Math.round(o.x) < p ? (o.x = p, o.width = i.width + (i.x - p)) : Math.round(o.width) < 20 ? (o.x = i.x, o.width = i.width) : Math.round(o.x + o.width) > Math.round(a) - p && (o.width = a - o.x - p), Math.round(o.y) < p ? (o.y = p, o.height = i.height + (i.y - p)) : Math.round(o.height) < 20 ? (o.y = i.y, o.height = i.height) : Math.round(o.y + o.height) > Math.round(r) - p && (o.height = r - o.y - p), m(o, a, r, 0, n)
                                    },
                                    keepRatio: _,
                                    enabledAnchors: q
                                }, "transformer")]
                            })
                        }, "cropper")
                    })]
                })
            };
            var r = n(67294),
                i = a(n(7844)),
                o = a(n(95664)),
                l = a(n(47916)),
                u = n(51349),
                s = a(n(97954)),
                d = n(23961),
                c = n(85893),
                f = new s.default({
                    width: 200,
                    height: 200
                }),
                p = 10;

            function h(e, t, n) {
                return {
                    width: n % 180 == 0 ? e : t,
                    height: n % 180 == 0 ? t : e
                }
            }

            function m(e, t, n, a, r) {
                var i = Math.max(t, n),
                    o = h(t, n, a),
                    u = (i - o.width) / 2,
                    s = (i - o.height) / 2,
                    d = new l.default({
                        x: e.x + u,
                        y: e.y + s
                    }),
                    c = new l.default({
                        x: i / 2,
                        y: i / 2
                    }),
                    f = d.rotate(c, r),
                    p = h(t, n, a + r),
                    m = (i - p.width) / 2,
                    v = (i - p.height) / 2;
                return {
                    x: f.x - m,
                    y: f.y - v,
                    width: e.width,
                    height: e.height,
                    rotation: e.rotation
                }
            }
        },
        75304: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, n = e.onClose,
                    a = e.filename,
                    p = e.filesize,
                    h = e.fileExt,
                    m = e.mimeType,
                    v = null != p ? s.default.filesize(p) : "",
                    g = null !== (t = f.get(m)) && void 0 !== t ? t : "preview-generic";
                return (0, c.jsxs)("div", {
                    className: u.default.container,
                    children: [(0, c.jsx)(l.default, {
                        onClose: n,
                        filename: a
                    }), (0, c.jsx)(o.FlexColumn, {
                        className: i.default.body,
                        align: "center",
                        justify: "center",
                        children: (0, c.jsxs)(o.FlexColumn, {
                            className: i.default.previewContainer,
                            align: "center",
                            justify: "center",
                            children: [(0, c.jsx)("div", {
                                className: i.default.previewIcon,
                                children: (0, c.jsx)(d.default, {
                                    name: g
                                })
                            }), (0, c.jsx)("div", {
                                className: i.default.header,
                                children: r.fbt._("No preview available", null, {
                                    hk: "3NAVbb"
                                })
                            }), (0, c.jsxs)("div", {
                                className: i.default.metadata,
                                children: [v, null != h && "" !== h ? ` - ${h.toUpperCase()}` : null]
                            })]
                        })
                    })]
                })
            };
            var r = n(48360),
                i = a(n(86325)),
                o = n(27968),
                l = a(n(72580)),
                u = a(n(50983)),
                s = a(n(45159)),
                d = a(n(7665)),
                c = n(85893),
                f = new Map([
                    ["text/plain", "preview-txt"],
                    ["text/rtf", "preview-doc"],
                    ["application/msword", "preview-doc"],
                    ["application/vnd.openxmlformats-officedocument.wordprocessingml.document", "preview-doc"],
                    ["text/csv", "preview-sheet"],
                    ["application/vnd.ms-excel", "preview-sheet"],
                    ["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet", "preview-sheet"],
                    ["application/vnd.ms-powerpoint", "preview-slides"],
                    ["application/vnd.openxmlformats-officedocument.presentationml.presentation", "preview-slides"],
                    ["audio/aac", "preview-audio"],
                    ["audio/mp4", "preview-audio"],
                    ["audio/amr", "preview-audio"],
                    ["audio/mpeg", "preview-audio"],
                    ["audio/ogg; codecs=opus", "preview-audio"],
                    ["audio/wav", "preview-audio"],
                    ["application/zip", "preview-compressed"]
                ])
        },
        72580: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.filename,
                    n = e.pageCount,
                    a = null;
                null != n && n > 0 && (a = o.default.t(146, {
                    count: n,
                    _plural: n
                }));
                return (0, u.jsxs)("div", {
                    className: (0, i.default)(s),
                    children: [(0, u.jsx)("button", {
                        "aria-label": r.fbt._("Close", null, {
                            hk: "17RE2w"
                        }),
                        onClick: e.onClose,
                        className: (0, i.default)(p),
                        children: (0, u.jsx)(l.default, {
                            "aria-hidden": !0,
                            color: "secondary",
                            name: "x"
                        })
                    }), (0, u.jsxs)("div", {
                        className: (0, i.default)(d),
                        children: [t && (0, u.jsx)("span", {
                            className: (0, i.default)(c),
                            children: t
                        }), null != a && (0, u.jsx)("span", {
                            className: (0, i.default)(f),
                            children: a
                        })]
                    })]
                })
            };
            var r = n(48360),
                i = a(n(56720)),
                o = a(n(45159)),
                l = a(n(7665)),
                u = n(85893),
                s = {
                    display: "p357zi0d",
                    alignItems: "gndfcl4n",
                    justifyContent: "o4u7okr9",
                    minHeight: "cl7oiv0o",
                    paddingTop: "fbgy3m38",
                    paddingEnd: "l9g3jx6n",
                    paddingBottom: "oq31bsqd",
                    paddingStart: "lyvj5e2u",
                    backgroundColor: "ej3x2ktq"
                },
                d = {
                    display: "p357zi0d",
                    flexGrow: "ggj6brxn",
                    flexShrink: "m0h2a7mj",
                    flexBasis: "rjo8vgbg",
                    flexDirection: "f8m0rgwh",
                    alignItems: "gndfcl4n"
                },
                c = {
                    fontSize: "f8jlpxt4",
                    color: "tl2vja3b"
                },
                f = {
                    marginTop: "hymafltn",
                    fontSize: "dsh4tgtl",
                    color: "pm5hny62"
                },
                p = {
                    cursor: "ajgl1lbb"
                }
        },
        14755: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onClose,
                    n = e.item,
                    a = n.mimetype,
                    s = n.fullPreview,
                    d = n.fullPreviewSize,
                    c = n.documentPageCount,
                    f = n.filename;
                if (!(s && d && null != c && c > 0)) return (0, u.jsx)(i.default, {
                    mimeType: n.mimetype,
                    filesize: n.filesize,
                    filename: n.filename,
                    fileExt: n.fileExt,
                    onClose: t
                });
                return (0, u.jsxs)("div", {
                    className: l.default.container,
                    children: [(0, u.jsx)(o.default, {
                        onClose: t,
                        filename: f,
                        pageCount: c
                    }), (0, u.jsx)(r.default, {
                        fullPreview: s,
                        fullPreviewSize: d,
                        pageCount: c,
                        showPageCount: !1,
                        showBorder: !0,
                        mimeType: a,
                        filename: f
                    })]
                })
            };
            var r = a(n(92028)),
                i = a(n(75304)),
                o = a(n(72580)),
                l = a(n(50983)),
                u = n(85893)
        },
        41262: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.attachMedia,
                    n = e.onClose,
                    a = e.chat,
                    i = e.viewOnce,
                    p = e.viewOnceDisabled,
                    h = e.onCaptionChange,
                    m = e.onEnter,
                    v = e.setCaptionInputRef,
                    g = e.onToggleViewOnce,
                    _ = e.onFiles,
                    x = (0, s.useModelValues)(t, ["caption"]).caption;
                return (0, c.jsxs)("div", {
                    className: d.default.container,
                    children: [(0, c.jsx)(u.default, {
                        onClose: n
                    }), (0, c.jsx)(o.default, {
                        mimeType: t.mimetype,
                        url: t.fullPreview,
                        isGif: t.isGif,
                        size: t.fullPreviewSize,
                        processing: t.state === f,
                        preview: t.preview
                    }), (0, c.jsx)("div", {
                        className: d.default.footer,
                        children: (0, c.jsx)(l.default, {
                            chat: a,
                            caption: x,
                            viewOnce: i,
                            viewOnceDisabled: p,
                            msgType: r.MSG_TYPE.VIDEO,
                            theme: "video",
                            onToggleViewOnce: g,
                            onChange: h,
                            onEnter: m,
                            onFiles: _,
                            setCaptionInputRef: function(e) {
                                v(t.id, e)
                            }
                        }, t.id)
                    })]
                })
            };
            var r = n(40787),
                i = n(71988),
                o = a(n(21791)),
                l = a(n(38053)),
                u = a(n(72580)),
                s = n(69283),
                d = a(n(83178)),
                c = n(85893),
                f = i.ATTACH_MEDIA_STATE.PROCESSING
        },
        62281: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, n, a, d = e.children,
                    c = e.onClick,
                    f = e.icon,
                    p = e.caret,
                    h = e.disabled,
                    m = e.title,
                    v = e.selected;
                if ("string" == typeof f) switch (f) {
                    case "sans-serif":
                        n = (0, s.jsx)(u.default, {
                            name: "panel-emoji-flags",
                            display: "inline"
                        });
                        break;
                    case "checked":
                        n = (0, s.jsx)(u.default, {
                            name: "checkmark",
                            display: "inline"
                        });
                        break;
                    case "unchecked":
                        n = (0, s.jsx)(u.default, {
                            name: "x",
                            display: "inline"
                        });
                        break;
                    default:
                        f && (n = (0, s.jsx)(u.default, {
                            name: f,
                            display: "inline"
                        }))
                } else f && (n = f);
                if (p) switch (p) {
                    case "up":
                        a = (0, s.jsx)(u.default, {
                            name: "chevron-down-alt",
                            display: "inline",
                            className: o.default.rotate
                        });
                        break;
                    case "down":
                        a = (0, s.jsx)(u.default, {
                            name: "chevron-down-alt",
                            display: "inline"
                        })
                }
                return (0, s.jsxs)("div", {
                    role: "button",
                    tabIndex: "-1",
                    onClick: c,
                    className: (0, i.default)(o.default.container, e.className, (t = {}, (0, r.default)(t, o.default.disabled, h), (0, r.default)(t, o.default.selected, v), t)),
                    title: m,
                    children: [n && (0, s.jsx)(l.FlexRow, {
                        align: "center",
                        justify: "center",
                        className: o.default.icon,
                        children: n
                    }), d && (0, s.jsx)("span", {
                        className: o.default.body,
                        children: d
                    }), a && (0, s.jsx)("span", {
                        className: o.default.caret,
                        children: a
                    })]
                })
            };
            var r = a(n(59713)),
                i = a(n(94184)),
                o = a(n(11653)),
                l = n(27968),
                u = a(n(7665)),
                s = n(85893)
        },
        42462: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(63038)),
                i = n(67294),
                o = a(n(62281)),
                l = a(n(88254)),
                u = a(n(30605)),
                s = a(n(9513)),
                d = n(98169),
                c = n(27968),
                f = a(n(45159)),
                p = n(16835),
                h = a(n(93820)),
                m = n(85893);

            function v(e, t) {
                var n = e.colors,
                    a = e.onColorSelect,
                    v = e.selectedColor,
                    g = (0, i.useState)(null),
                    _ = (0, r.default)(g, 2),
                    x = _[0],
                    C = _[1],
                    y = function() {
                        C(null)
                    },
                    S = function() {
                        return Boolean(x)
                    };
                (0, i.useImperativeHandle)(t, (function() {
                    return {
                        isPanelVisible: S
                    }
                }));
                var b = n.map((function(e) {
                        var t = e.primaryColor;
                        e.secondaryColor;
                        return (0, m.jsx)(u.default, {
                            primaryColor: t,
                            onSelect: function() {
                                return a(t)
                            },
                            selected: Boolean(v && v.equals(t))
                        }, t.toString())
                    })),
                    j = null;
                return x && (j = (0, m.jsx)(p.UIE, {
                    displayName: "ColorPicker",
                    escapable: !0,
                    popable: !0,
                    requestDismiss: y,
                    children: (0, m.jsx)(h.default, {
                        contextMenu: x
                    })
                })), (0, m.jsxs)("div", {
                    className: l.default.container,
                    children: [(0, m.jsx)(c.FlexRow, {
                        className: l.default.colorChipsContainer,
                        children: b
                    }), (0, m.jsx)(o.default, {
                        onClick: function(e) {
                            e.preventDefault(), e.stopPropagation();
                            var t = {
                                menu: (0, m.jsx)(s.default, {
                                    onColorSelect: a,
                                    selectedColor: v,
                                    onColorPickerClose: y
                                }),
                                dirX: f.default.isRTL() ? d.DirX.RIGHT : d.DirX.LEFT,
                                dirY: d.DirY.BOTTOM,
                                type: "color_picker",
                                anchor: e.target
                            };
                            C(t)
                        },
                        caret: x ? "down" : "up"
                    }), j]
                })
            }
            var g = (0, i.forwardRef)(v);
            t.default = g
        },
        30605: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, n, a = e.primaryColor,
                    d = e.secondaryColor,
                    c = e.onSelect,
                    f = e.selected,
                    p = e.withBorder,
                    h = (0, l.useState)(!1),
                    m = (0, i.default)(h, 2),
                    v = m[0],
                    g = m[1],
                    _ = (0, l.useState)(!1),
                    x = (0, i.default)(_, 2),
                    C = x[0],
                    y = x[1];
                return (0, s.jsx)("div", {
                    onClick: c,
                    onMouseEnter: function() {
                        g(!0)
                    },
                    onMouseLeave: function() {
                        g(!1)
                    },
                    onMouseDown: function() {
                        y(!0)
                    },
                    onMouseUp: function() {
                        y(!1)
                    },
                    className: (0, o.default)(u.default.colorButton, (t = {}, (0, r.default)(t, u.default.selected, f), (0, r.default)(t, u.default.hover, v), (0, r.default)(t, u.default.active, C), t)),
                    style: {
                        backgroundColor: C && !f ? a.withAlpha(.2).toRgbaString() : "transparent"
                    },
                    children: (0, s.jsx)("div", {
                        className: (0, o.default)(u.default.primaryColorChip, (n = {}, (0, r.default)(n, u.default.colorChipWithBorder, p && a.isWhite()), (0, r.default)(n, u.default.primaryColorChipMedium, "medium" === e.theme), n)),
                        style: {
                            backgroundColor: a.toRgbaString()
                        },
                        children: d && f && (0, s.jsx)("div", {
                            className: u.default.secondaryColorChip,
                            style: {
                                backgroundColor: d.toRgbaString()
                            }
                        })
                    })
                })
            };
            var r = a(n(59713)),
                i = a(n(63038)),
                o = a(n(94184)),
                l = n(67294),
                u = a(n(38289)),
                s = n(85893)
        },
        54336: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(93913)),
                o = a(n(2205)),
                l = a(n(99842)),
                u = n(67294),
                s = n(28448),
                d = a(n(30605)),
                c = a(n(85088)),
                f = n(78839),
                p = n(32012),
                h = n(96197),
                m = n(85893),
                v = function(e) {
                    (0, o.default)(n, e);
                    var t = (0, l.default)(n);

                    function n() {
                        var e;
                        (0, r.default)(this, n);
                        for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++) i[o] = arguments[o];
                        return (e = t.call.apply(t, [this].concat(i)))._setRefHexColorInput = function(t) {
                            return e._refHexColorInput = t
                        }, e.state = {
                            inputColorVal: e.props.color.toHex(),
                            selectedColor: e.props.color
                        }, e._handleInputChange = function(t) {
                            var n = t.target.value;
                            if (e.setState({
                                    inputColorVal: n
                                }), n && (!n || (0, s.isValidHex)(n))) {
                                var a = s.Color.fromHex(n);
                                e.props.onChangeColor(a)
                            }
                        }, e._handleEnter = function() {
                            e.props.onColorPickerClose()
                        }, e
                    }
                    return (0, i.default)(n, [{
                        key: "render",
                        value: function() {
                            var e = this.props.color,
                                t = this.state.inputColorVal;
                            return (0, m.jsxs)("div", {
                                className: c.default.container,
                                style: {
                                    width: f.CONTAINER_WIDTH,
                                    height: f.INPUT_HEIGHT
                                },
                                children: [(0, m.jsx)(d.default, {
                                    withBorder: !0,
                                    primaryColor: e,
                                    selected: !1,
                                    theme: "medium"
                                }), (0, m.jsx)(p.HotKeys, {
                                    handlers: {
                                        enter: this._handleEnter
                                    },
                                    children: (0, m.jsx)(h.SelectableDiv, {
                                        selectable: !0,
                                        children: (0, m.jsx)("input", {
                                            type: "text",
                                            ref: this._setRefHexColorInput,
                                            className: c.default.input,
                                            value: t,
                                            onChange: this._handleInputChange
                                        })
                                    })
                                })]
                            })
                        }
                    }], [{
                        key: "getDerivedStateFromProps",
                        value: function(e, t) {
                            var n = {};
                            return e.color !== t.selectedColor && ((0, s.compareHex)(t.inputColorVal, e.color.toHex()) || (n.inputColorVal = e.color.toHex()), n.selectedColor = e.color), n
                        }
                    }]), n
                }(u.Component);
            t.default = v, v.displayName = "ColorPickerInput"
        },
        22756: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.color,
                    n = e.onChangeSelectedColor,
                    a = e.onChangeCanvasColor,
                    f = (0, i.useRef)(null),
                    p = (0, i.useState)(!1),
                    h = (0, r.default)(p, 2),
                    m = h[0],
                    v = h[1];
                (0, i.useEffect)((function() {
                    var e = f.current;
                    if (e) {
                        var t = e.getContext("2d"),
                            n = t.createLinearGradient(0, 0, e.width, 0);
                        n.addColorStop(0, "#ff0000"), n.addColorStop(1 / 6, "#ffff00"), n.addColorStop(1 / 6 * 2, "#00ff00"), n.addColorStop(.5, "#00ffff"), n.addColorStop(1 / 6 * 4, "#0000ff"), n.addColorStop(1 / 6 * 5, "#ff00ff"), n.addColorStop(1, "#ff0000"), t.fillStyle = n, t.fillRect(0, 0, e.width, e.height), (n = t.createLinearGradient(0, 0, 0, e.height)).addColorStop(0, "rgba(255, 255, 255, 1)"), n.addColorStop(.5, "rgba(255, 255, 255, 0)"), n.addColorStop(1, "rgba(255, 255, 255, 0)"), t.fillStyle = n, t.fillRect(0, 0, e.width, e.height), (n = t.createLinearGradient(0, 0, 0, e.height)).addColorStop(0, "rgba(0, 0, 0, 0)"), n.addColorStop(.5, "rgba(0, 0, 0, 0)"), n.addColorStop(1, "rgba(0, 0, 0, 1)"), t.fillStyle = n, t.fillRect(0, 0, e.width, e.height)
                    }
                }), []);
                var g = (0, s.getPositionFromColor)(t),
                    _ = (0, d.default)(n, u.THROTTLE_WAIT_TIME),
                    x = function(e, t) {
                        null != t && v(t);
                        var n = function(e) {
                                var t = f.current;
                                if (!t) return {
                                    x: 0,
                                    y: 0
                                };
                                var n = t.getBoundingClientRect(),
                                    a = e.clientX - n.left,
                                    r = e.clientY - n.top;
                                return a > n.width && (a = n.width - .1), a < 0 && (a = 0), r > n.height && (r = n.height), r < 0 && (r = .1), {
                                    x: a -= u.CURSOR_SIZE / 2,
                                    y: r -= u.CURSOR_SIZE / 2
                                }
                            }(e),
                            r = function(e) {
                                var t = f.current;
                                if (!t) return new o.Color(0, 0, 0);
                                var n = e.x + u.CURSOR_SIZE / 2,
                                    a = e.y + u.CURSOR_SIZE / 2,
                                    r = t.getContext("2d").getImageData(n, a, 1, 1).data;
                                return new o.Color(r[0], r[1], r[2])
                            }({
                                x: n.x,
                                y: n.y
                            });
                        _(r), a(r)
                    };
                return (0, c.jsxs)(c.Fragment, {
                    children: [(0, c.jsx)("canvas", {
                        width: u.CONTAINER_WIDTH,
                        height: u.CANVAS_HEIGHT,
                        className: l.default.canvas,
                        ref: f,
                        onMouseDown: function(e) {
                            x(e, !0)
                        },
                        onMouseMove: function(e) {
                            m && (e.stopPropagation(), e.preventDefault(), x(e))
                        },
                        onMouseUp: function(e) {
                            x(e, !1)
                        }
                    }), (0, c.jsx)("div", {
                        className: l.default.cursor,
                        style: {
                            width: u.CURSOR_SIZE,
                            height: u.CURSOR_SIZE,
                            left: g.x,
                            top: g.y,
                            backgroundColor: t.toRgbaString()
                        }
                    })]
                })
            };
            var r = a(n(63038)),
                i = n(67294),
                o = n(28448),
                l = a(n(28526)),
                u = n(78839),
                s = n(69401),
                d = a(n(15663)),
                c = n(85893)
        },
        78839: (e, t, n) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.THROTTLE_WAIT_TIME = t.INPUT_HEIGHT = t.DEFAULT_COLOR = t.CURSOR_SIZE = t.CONTAINER_WIDTH = t.CONTAINER_HEIGHT = t.CANVAS_HEIGHT = void 0;
            var a = n(28448);
            t.CONTAINER_WIDTH = 334;
            t.CONTAINER_HEIGHT = 203;
            var r = 150.22;
            t.CANVAS_HEIGHT = r;
            t.INPUT_HEIGHT = 52.78;
            t.CURSOR_SIZE = 20;
            var i = new a.Color(210, 252, 86);
            t.DEFAULT_COLOR = i;
            t.THROTTLE_WAIT_TIME = 900
        },
        9513: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.selectedColor,
                    n = e.onColorSelect,
                    a = (0, i.useState)(null != t ? t : u.DEFAULT_COLOR),
                    c = (0, r.default)(a, 2),
                    f = c[0],
                    p = c[1],
                    h = function(e) {
                        p(e)
                    },
                    m = function(e) {
                        n(e)
                    };
                return (0, d.jsxs)("div", {
                    className: s.default.container,
                    style: {
                        width: u.CONTAINER_WIDTH,
                        height: u.CONTAINER_HEIGHT
                    },
                    children: [(0, d.jsx)(l.default, {
                        color: f,
                        onChangeCanvasColor: h,
                        onChangeSelectedColor: m
                    }), (0, d.jsx)(o.default, {
                        color: f,
                        onChangeColor: function(e) {
                            h(e), m(e)
                        },
                        onColorPickerClose: e.onColorPickerClose
                    })]
                })
            };
            var r = a(n(63038)),
                i = n(67294),
                o = a(n(54336)),
                l = a(n(22756)),
                u = n(78839),
                s = a(n(53591)),
                d = n(85893)
        },
        50142: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.CropRotateToolbar = function(e) {
                var t = e.canReset,
                    n = e.onRotateCanvas,
                    a = e.onReset;
                return (0, u.jsxs)(l.FlexRow, {
                    className: o.default.container,
                    children: [(0, u.jsx)(i.default, {
                        className: o.default.rotateLeftButton,
                        icon: "media-editor-rotate-left",
                        title: r.fbt._("Rotate left", null, {
                            hk: "2t86bC"
                        }),
                        onClick: function() {
                            return n(-90)
                        }
                    }), (0, u.jsx)(i.default, {
                        icon: "media-editor-rotate-right",
                        title: r.fbt._("Rotate right", null, {
                            hk: "XqQCf"
                        }),
                        onClick: function() {
                            return n(90)
                        }
                    }), (0, u.jsx)(i.default, {
                        onClick: a,
                        disabled: !t,
                        children: r.fbt._("Reset", null, {
                            hk: "1aUuOP"
                        })
                    })]
                })
            };
            var r = n(48360),
                i = a(n(62281)),
                o = a(n(25708)),
                l = n(27968),
                u = n(85893)
        },
        51451: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.Font = void 0;
            var r = a(n(81109)),
                i = a(n(63038)),
                o = n(67294),
                l = a(n(62281)),
                u = n(27968),
                s = a(n(43685)),
                d = a(n(9194)),
                c = n(45738),
                f = n(16835),
                p = a(n(93820)),
                h = a(n(60806)),
                m = n(85893);

            function v(e, t) {
                var n = e.selectedFont,
                    a = e.fonts,
                    r = e.onFontSelect,
                    u = e.onAlignmentSelect,
                    v = e.selectedAlignment,
                    g = (0, o.useRef)(null),
                    x = (0, o.useState)(null),
                    C = (0, i.default)(x, 2),
                    y = C[0],
                    S = C[1],
                    b = function() {
                        return Boolean(y)
                    };
                (0, o.useImperativeHandle)(t, (function() {
                    return {
                        isMenuVisible: b
                    }
                }));
                var j, E = Boolean(y);
                return y && (j = (0, m.jsx)(f.UIE, {
                    displayName: "MediaEditorFontDropdown",
                    escapable: !0,
                    popable: !0,
                    requestDismiss: function() {
                        S(null)
                    },
                    children: (0, m.jsx)(p.default, {
                        contextMenu: y
                    })
                })), (0, m.jsxs)("div", {
                    ref: g,
                    className: s.default.container,
                    children: [(0, m.jsx)(l.default, {
                        onClick: function() {
                            y || g.current && S({
                                menu: (0, m.jsx)(d.default, {
                                    fonts: a,
                                    selectedFont: n,
                                    selectedAlignment: v,
                                    onFontSelect: r,
                                    onAlignmentSelect: u
                                }),
                                anchor: g.current
                            })
                        },
                        icon: (0, m.jsx)(_, {
                            font: n
                        }),
                        selected: E,
                        caret: E ? "down" : "up",
                        children: (0, m.jsx)("span", {
                            className: s.default.fontLabel,
                            children: (0, c.getFontTranslation)(n)
                        })
                    }), (0, m.jsx)(h.default, {
                        transitionName: "dropdown",
                        children: j
                    })]
                })
            }
            var g = (0, o.forwardRef)(v);

            function _(e) {
                var t = e.font;
                return (0, m.jsx)(u.FlexRow, {
                    className: s.default.icon,
                    style: (0, r.default)({}, (0, c.getFontStyle)(t)),
                    justify: "center",
                    align: "center",
                    children: (0, m.jsx)("div", {
                        "aria-hidden": "true",
                        children: "A"
                    })
                })
            }
            t.Font = g
        },
        9194: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onFontSelect,
                    n = e.onAlignmentSelect,
                    a = e.selectedFont,
                    m = e.selectedAlignment;
                (0, o.useEffect)((function() {
                    d.default.loadAllFonts()
                }), []);
                return (0, p.jsxs)("div", {
                    children: [e.fonts.map((function(e) {
                        var n;
                        a === e && (n = (0, p.jsx)("span", {
                            className: s.default.selected,
                            children: (0, p.jsx)(f.default, {
                                name: "checkmark",
                                display: "inline"
                            })
                        }));
                        var r, i = (0, c.getFontTranslation)(e);
                        switch (e) {
                            case c.FONTS.SANS_SERIF:
                                r = s.default.sansSerif;
                                break;
                            case c.FONTS.SERIF:
                                r = s.default.serif;
                                break;
                            case c.FONTS.NORICAN_REGULAR:
                                r = s.default.noricanRegular;
                                break;
                            case c.FONTS.BRYNDAN_WRITE:
                                r = s.default.bryndanWrite;
                                break;
                            case c.FONTS.OSWALD_HEAVY:
                                r = s.default.oswaldHeavy
                        }
                        return (0, p.jsx)(l.DropdownItem, {
                            action: function(n) {
                                return function(e, n) {
                                    e.stopPropagation(), t(n)
                                }(n, e)
                            },
                            children: (0, p.jsxs)("div", {
                                role: "button",
                                className: s.default.item,
                                style: (0, c.getFontStyle)(e),
                                children: [(0, p.jsx)("span", {
                                    className: r,
                                    children: i
                                }), n]
                            })
                        }, e)
                    })), (0, p.jsx)(u.FlexRow, {
                        className: s.default.alignmentContainer,
                        justify: "around",
                        align: "center",
                        children: h.map((function(e) {
                            var t = e.alignment,
                                a = e.icon;
                            return (0, p.jsx)(u.FlexItem, {
                                children: (0, p.jsx)(l.DropdownItem, {
                                    action: function(e) {
                                        return function(e, t) {
                                            e.stopPropagation(), n(t)
                                        }(e, t)
                                    },
                                    children: (0, p.jsx)(f.default, {
                                        name: a,
                                        className: (0, i.default)(s.default.alignmentIcon, (0, r.default)({}, s.default.alignmentIconSelected, t === m))
                                    })
                                })
                            }, a)
                        }))
                    }, "alignment")]
                })
            };
            var r = a(n(59713)),
                i = a(n(94184)),
                o = n(67294),
                l = n(94680),
                u = n(27968),
                s = a(n(38128)),
                d = a(n(99617)),
                c = n(45738),
                f = a(n(7665)),
                p = n(85893),
                h = [{
                    alignment: c.TextAlignment.LEFT,
                    icon: "align-left"
                }, {
                    alignment: c.TextAlignment.CENTER,
                    icon: "align-center"
                }, {
                    alignment: c.TextAlignment.RIGHT,
                    icon: "align-right"
                }]
        },
        7885: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.selectedLayer,
                    n = e.inPaintMode,
                    a = e.inCropRotateMode,
                    C = e.inTextEditingMode,
                    y = e.inOutlineMode,
                    S = e.canUndo,
                    b = e.canRedo,
                    j = e.onPaintSelect,
                    E = e.onCropRotateSelect,
                    k = e.onTextSelect,
                    w = e.onEmojiSelect,
                    T = e.onToggleEmojiPanel,
                    I = e.onStickerSelect,
                    P = e.onToggleStickerPanel,
                    M = e.onOutlineSelect,
                    O = e.onUndo,
                    L = e.onRedo,
                    A = e.showOutline,
                    D = (0, o.useState)(),
                    R = (0, r.default)(D, 2),
                    N = R[0],
                    F = R[1],
                    B = (0, o.useState)(),
                    U = (0, r.default)(B, 2),
                    G = U[0],
                    H = U[1],
                    W = (0, o.useRef)({});
                W.current = {
                    inPaintMode: n,
                    onEmojiSelect: w,
                    onStickerSelect: I,
                    onPaintSelect: j
                };
                var V = function() {
                        a ? E() : n ? j() : y && M()
                    },
                    z = function() {
                        F(null), T(!1)
                    },
                    q = function() {
                        H(null), P(!1)
                    };
                return (0, x.jsxs)(f.MenuBar, {
                    theme: "media-editor",
                    children: [A && (0, x.jsx)(f.MenuBarItem, {
                        icon: (0, x.jsx)(m.default, {
                            name: "scissors"
                        }),
                        a8nText: "outline-button",
                        title: i.fbt._("Outline", null, {
                            hk: "47JwiV"
                        }),
                        onClick: function(e) {
                            e.preventDefault(), y || V(), M()
                        },
                        selected: y
                    }, "outline"), (0, x.jsx)(f.MenuBarItem, {
                        icon: (0, x.jsx)(m.default, {
                            name: "media-editor-emoji"
                        }),
                        a8nText: "emoji-button",
                        title: i.fbt._("Emoji", null, {
                            hk: "3f1gtD"
                        }),
                        onClick: function(e) {
                            e.preventDefault(), e.stopPropagation(), V();
                            var t = (0, x.jsx)(u.EmojiPanel, {
                                onEmoji: function(e) {
                                    W.current.inPaintMode && W.current.onPaintSelect(), W.current.onEmojiSelect(e), z()
                                },
                                onFocusNext: z,
                                onFocusPrev: z
                            });
                            F({
                                menu: t,
                                dirY: l.DirY.TOP,
                                type: "emoji_picker",
                                anchor: e.target
                            }), T(!0)
                        },
                        selected: Boolean(N) || t instanceof d.ImageLayer && t.isEmoji()
                    }, "emoji"), (0, x.jsx)(f.MenuBarItem, {
                        icon: (0, x.jsx)(m.default, {
                            name: "media-editor-sticker"
                        }),
                        a8nText: "sticker-button",
                        title: i.fbt._("Sticker", null, {
                            hk: "4342bb"
                        }),
                        onClick: function(e) {
                            e.preventDefault(), e.stopPropagation(), V();
                            var t, n = function(e) {
                                W.current.inPaintMode && W.current.onPaintSelect(), W.current.onStickerSelect(e), q()
                            };
                            s.GK.supportsFeature(s.GK.F.MD_BACKEND) ? p.ServerProps.webServerStickerPanel && (t = (0, x.jsx)(c.default, {
                                onSticker: n,
                                onFocusNext: q,
                                onFocusPrev: q
                            })) : t = (0, x.jsx)(h.default, {
                                onSticker: n,
                                onFocusNext: q,
                                onFocusPrev: q
                            }), t && (H({
                                menu: t,
                                dirY: l.DirY.TOP,
                                type: "sticker_picker",
                                anchor: e.target
                            }), P(!0))
                        },
                        selected: Boolean(G) || t instanceof d.ImageLayer && t.isSticker()
                    }, "sticker"), (0, x.jsx)(f.MenuBarItem, {
                        icon: (0, x.jsx)(m.default, {
                            name: "media-editor-text"
                        }),
                        a8nText: "text-button",
                        title: i.fbt._("Text", null, {
                            hk: "12XnGO"
                        }),
                        onClick: function(e) {
                            e.preventDefault(), V(), k()
                        },
                        selected: C || t instanceof v.TextLayer
                    }, "text"), (0, x.jsx)(f.MenuBarItem, {
                        icon: (0, x.jsx)(m.default, {
                            name: "media-editor-drawing"
                        }),
                        a8nText: "paint-button",
                        title: i.fbt._("Paint", null, {
                            hk: "U5v5P"
                        }),
                        onClick: function(e) {
                            e.preventDefault(), n || V(), j()
                        },
                        selected: n
                    }, "paint"), (0, x.jsx)(f.MenuBarItem, {
                        icon: (0, x.jsx)(m.default, {
                            name: "media-editor-crop-rotate"
                        }),
                        a8nText: "crop-rotate-button",
                        title: i.fbt._("Crop & Rotate", null, {
                            hk: "3WqVhk"
                        }),
                        onClick: function(e) {
                            e.preventDefault(), a || V(), E()
                        },
                        selected: a
                    }, "crop-rotate"), (0, x.jsx)(f.MenuBarItem, {
                        icon: (0, x.jsx)(m.default, {
                            name: "media-editor-undo"
                        }),
                        a8nText: "undo-button",
                        title: i.fbt._("Undo", null, {
                            hk: "12qsD9"
                        }),
                        disabled: !S,
                        onClick: O
                    }, "undo"), (0, x.jsx)(f.MenuBarItem, {
                        icon: (0, x.jsx)(m.default, {
                            name: "media-editor-redo"
                        }),
                        a8nText: "redo-button",
                        title: i.fbt._("Redo", null, {
                            hk: "39SiUc"
                        }),
                        disabled: !b,
                        onClick: L
                    }, "redo"), G && (0, x.jsx)(g.UIE, {
                        displayName: "StickerPicker",
                        escapable: !0,
                        popable: !0,
                        requestDismiss: q,
                        children: (0, x.jsx)(_.default, {
                            contextMenu: G
                        })
                    }), N && (0, x.jsx)(g.UIE, {
                        displayName: "EmojiPicker",
                        escapable: !0,
                        popable: !0,
                        requestDismiss: z,
                        children: (0, x.jsx)(_.default, {
                            contextMenu: N
                        })
                    })]
                })
            };
            var r = a(n(63038)),
                i = n(48360),
                o = n(67294),
                l = n(98169),
                u = n(10508),
                s = n(38032),
                d = n(89826),
                c = a(n(55279)),
                f = n(91823),
                p = n(43890),
                h = a(n(78893)),
                m = a(n(7665)),
                v = n(73860),
                g = n(16835),
                _ = a(n(93820)),
                x = n(85893)
        },
        23289: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.OutlineToolbar = function(e) {
                var t = e.smoothing,
                    n = e.onSmoothingToggle,
                    a = e.canReset,
                    d = e.onReset;
                return (0, u.jsxs)(l.FlexRow, {
                    children: [(0, u.jsx)(o.default, {
                        className: (0, i.default)(s),
                        icon: "outline-smooth",
                        title: r.fbt._("Smooth", null, {
                            hk: "4vwxxi"
                        }),
                        selected: t,
                        onClick: function() {
                            return n(!0)
                        }
                    }), (0, u.jsx)(o.default, {
                        className: (0, i.default)(s),
                        icon: "outline-straight",
                        title: r.fbt._("Straight", null, {
                            hk: "3KyC8d"
                        }),
                        selected: !t,
                        onClick: function() {
                            return n(!1)
                        }
                    }), (0, u.jsx)(o.default, {
                        className: (0, i.default)(s),
                        onClick: d,
                        disabled: !a,
                        children: r.fbt._("Reset", null, {
                            hk: "1aUuOP"
                        })
                    })]
                })
            };
            var r = n(48360),
                i = a(n(56720)),
                o = a(n(62281)),
                l = n(27968),
                u = n(85893),
                s = {
                    marginTop: "tt8xd2xn",
                    marginEnd: "bugiwsl0",
                    marginBottom: "mpdn4nr2",
                    marginStart: "fooq7fky"
                }
        },
        36466: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.checked,
                    n = e.onBackgroundToggle,
                    a = (0, d.jsx)("div", {
                        className: (0, i.default)(s.default.cirle, (0, r.default)({}, s.default.circleFilled, t)),
                        children: t ? (0, d.jsx)("div", {
                            className: s.default.checked,
                            children: (0, d.jsx)(u.default, {
                                name: "checkmark"
                            })
                        }) : (0, d.jsx)("div", {
                            className: s.default.unchecked
                        })
                    });
                return (0, d.jsx)(l.default, {
                    icon: a,
                    onClick: n,
                    children: o.fbt._("Background", null, {
                        hk: "3Y8odq"
                    })
                })
            };
            var r = a(n(59713)),
                i = a(n(94184)),
                o = n(48360),
                l = a(n(62281)),
                u = a(n(7665)),
                s = a(n(13813)),
                d = n(85893)
        },
        63782: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.thicknesses.map((function(t, n) {
                    return (0, u.jsx)(s, {
                        thickness: t,
                        onThicknessSelect: e.onThicknessSelect,
                        selectedThickness: e.selectedThickness
                    }, n)
                }));
                return (0, u.jsx)("div", {
                    className: o.default.container,
                    children: t
                })
            };
            var r = a(n(59713)),
                i = a(n(94184)),
                o = a(n(92753)),
                l = n(55072),
                u = n(85893);

            function s(e) {
                return (0, u.jsx)("div", {
                    onClick: function() {
                        return e.onThicknessSelect(e.thickness)
                    },
                    className: (0, i.default)(o.default.thicknessButton, (0, r.default)({}, o.default.selected, e.selectedThickness && e.selectedThickness === e.thickness)),
                    children: (0, u.jsx)("div", {
                        className: o.default.thicknessChip,
                        style: {
                            height: (0, l.getThicknessValue)(e.thickness),
                            width: (0, l.getThicknessValue)(e.thickness)
                        }
                    })
                }, e.thickness.toString())
            }
        },
        69401: (e, t, n) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.getPositionFromColor = function(e) {
                var t = e.toHsl(),
                    n = a.CONTAINER_WIDTH * t.hue - a.CURSOR_SIZE / 2,
                    r = a.CANVAS_HEIGHT * (1 - t.lightness) - a.CURSOR_SIZE / 2;
                return {
                    x: n,
                    y: r
                }
            };
            var a = n(78839)
        },
        76249: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.getPointFromGroup = function(e) {
                return new r.default({
                    x: e.target.x() - e.target.offsetX(),
                    y: e.target.y() - e.target.offsetY()
                })
            }, t.getPointFromStage = function(e, t) {
                var n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
                if (!t) return new r.default({
                    x: 0,
                    y: 0
                });
                var a = t.getAbsoluteScale(),
                    i = a.x,
                    o = a.y,
                    l = t.content.getBoundingClientRect(),
                    u = e.clientX - l.left,
                    s = e.clientY - l.top;
                n && (u = Math.min(Math.max(0, u), l.width), s = Math.min(Math.max(0, s), l.height));
                return new r.default({
                    x: u / i,
                    y: s / o
                })
            }, t.getRotationFromGroup = function(e) {
                return e.target.rotation()
            }, t.getScaleFromGroup = function(e) {
                return e.target.scaleX()
            }, t.isEventOnAnchor = function(e) {
                var t, n;
                return null !== (t = null === (n = e.target.attrs.name) || void 0 === n ? void 0 : n.includes("anchor")) && void 0 !== t && t
            }, t.isStageCorner = function(e, t) {
                if (!t) return !1;
                var n = t.getAbsoluteScale(),
                    a = n.x,
                    r = n.y,
                    i = t.content.getBoundingClientRect(),
                    o = i.width,
                    l = i.height;
                return 0 === e.x && 0 === e.y || 0 === e.x && e.y === l / r || e.x === o / a && 0 === e.y || e.x === o / a && e.y === l / r
            };
            var r = a(n(47916))
        },
        51349: (e, t, n) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), Object.defineProperty(t, "Circle", {
                enumerable: !0,
                get: function() {
                    return a.Circle
                }
            }), Object.defineProperty(t, "Group", {
                enumerable: !0,
                get: function() {
                    return a.Group
                }
            }), Object.defineProperty(t, "Image", {
                enumerable: !0,
                get: function() {
                    return a.Image
                }
            }), Object.defineProperty(t, "Layer", {
                enumerable: !0,
                get: function() {
                    return a.Layer
                }
            }), Object.defineProperty(t, "Line", {
                enumerable: !0,
                get: function() {
                    return a.Line
                }
            }), Object.defineProperty(t, "Path", {
                enumerable: !0,
                get: function() {
                    return a.Path
                }
            }), Object.defineProperty(t, "Rect", {
                enumerable: !0,
                get: function() {
                    return a.Rect
                }
            }), Object.defineProperty(t, "Stage", {
                enumerable: !0,
                get: function() {
                    return a.Stage
                }
            }), Object.defineProperty(t, "Text", {
                enumerable: !0,
                get: function() {
                    return a.Text
                }
            }), Object.defineProperty(t, "Transformer", {
                enumerable: !0,
                get: function() {
                    return a.Transformer
                }
            });
            var a = n(77201);
            n(7643), n(71298), n(27149), n(87339), n(75244), n(23787), n(29516)
        },
        23961: (e, t) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.calculateContainScale = function(e, t, n, a) {
                if (0 === e || 0 === t) return 1;
                if (!n.isEmpty() && (e > n.width || t > n.height)) return Math.min(n.width / e, n.height / t);
                if (!a.isEmpty() && e < a.width && t < a.height) return Math.min(a.width / e, a.height / t);
                return 1
            }
        },
        47461: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.mimeType,
                    n = e.url;
                return (0, i.jsx)("div", {
                    className: r.default.container,
                    "data-animate-attach-media": !0,
                    children: (0, i.jsx)("div", {
                        className: r.default.media,
                        children: (0, i.jsx)("audio", {
                            controls: !0,
                            type: t,
                            src: n
                        })
                    })
                })
            };
            var r = a(n(81402)),
                i = n(85893)
        },
        77621: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, n, a = e.mimeType,
                    u = e.filename,
                    s = (0, r.default)(i.default.icon, null !== (t = null === (n = o.DOCUMENT_MIMETYPES[a]) || void 0 === n ? void 0 : n.icon) && void 0 !== t ? t : "icon-doc-generic");
                return (0, l.jsx)("div", {
                    className: i.default.container,
                    "data-animate-attach-media": !0,
                    children: (0, l.jsx)("div", {
                        className: i.default.media,
                        children: (0, l.jsxs)("div", {
                            className: i.default.document,
                            children: [(0, l.jsx)("div", {
                                className: s
                            }), (0, l.jsx)("div", {
                                className: i.default.text,
                                children: u
                            })]
                        })
                    })
                })
            };
            var r = a(n(94184)),
                i = a(n(78119)),
                o = n(45438),
                l = n(85893)
        },
        21791: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, n = e.mimeType,
                    a = e.url,
                    i = e.isGif,
                    s = e.size,
                    m = e.processing,
                    v = e.preview;
                switch (h[n].msgType) {
                    case "image":
                        t = (0, p.jsx)("img", {
                            alt: u.default.t(986),
                            src: a,
                            className: l.default.img
                        });
                        break;
                    case "video":
                        var g = i ? {
                                loop: !m,
                                autoPlay: !m,
                                muted: !1,
                                controls: !1
                            } : {},
                            _ = m ? (0, p.jsx)("div", {
                                className: l.default.spinner,
                                children: (0, p.jsx)(c.Spinner, {
                                    color: c.colorOptions.white,
                                    size: 50,
                                    stroke: 3
                                })
                            }) : null,
                            x = v ? (0, p.jsx)("img", {
                                alt: u.default.t(986),
                                className: l.default.staticPreview,
                                src: `data:image/jpeg;base64,${v}`
                            }) : null,
                            C = m ? null : (0, p.jsx)(f.default, (0, r.default)((0, r.default)({
                                controls: !0,
                                controlsList: "nodownload nofullscreen",
                                className: l.default.video
                            }, g), {}, {
                                src: a
                            }));
                        t = (0, p.jsxs)("div", {
                            className: (0, o.default)(l.default.img, l.default.videoContainer),
                            children: [_, C, x]
                        });
                        break;
                    case "audio":
                        t = (0, p.jsx)("audio", {
                            controls: !0,
                            className: l.default.audio,
                            type: n,
                            src: a
                        })
                }
                return (0, p.jsx)("div", {
                    className: l.default.container,
                    "data-animate-attach-media": !0,
                    children: (0, p.jsx)("div", {
                        className: l.default.media,
                        children: (0, p.jsx)(d.default, {
                            type: "scaleDown",
                            size: s,
                            children: t
                        })
                    })
                })
            };
            var r = a(n(81109)),
                i = a(n(35937)),
                o = a(n(94184)),
                l = a(n(39133)),
                u = a(n(45159)),
                s = n(45438),
                d = a(n(58497)),
                c = n(85651),
                f = a(n(61566)),
                p = n(85893),
                h = (0, i.default)(s.MIMETYPES, (function(e) {
                    return "image" === (null == e ? void 0 : e.msgType) || "video" === (null == e ? void 0 : e.msgType)
                }))
        },
        92028: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.fullPreview,
                    n = e.fullPreviewSize,
                    a = e.pageCount,
                    c = e.mimeType,
                    f = e.filename,
                    p = e.showPageCount,
                    h = void 0 === p || p,
                    m = e.showBorder,
                    v = void 0 !== m && m;
                if (t && n && null != a && a > 0) {
                    var g = u.default.t(146, {
                        count: a,
                        _plural: a
                    });
                    return (0, d.jsxs)("div", {
                        className: l.default.container,
                        "data-js-attach-preview": !0,
                        children: [(0, d.jsx)("div", {
                            className: l.default.preview,
                            children: (0, d.jsx)(s.default, {
                                type: "scaleDown",
                                size: n,
                                children: (0, d.jsx)("img", {
                                    alt: u.default.t(986),
                                    src: t,
                                    className: (0, i.default)(l.default.img, (0, r.default)({}, l.default.imgBorder, v))
                                })
                            })
                        }), h && (0, d.jsx)("div", {
                            className: l.default.caption,
                            children: g
                        })]
                    })
                }
                return (0, d.jsx)(o.default, {
                    mimeType: c,
                    filename: f
                })
            };
            var r = a(n(59713)),
                i = a(n(94184)),
                o = a(n(77621)),
                l = a(n(8338)),
                u = a(n(45159)),
                s = a(n(58497)),
                d = n(85893)
        },
        51241: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.disabled,
                    n = e.isOn,
                    a = e.mediaType,
                    _ = e.onChange,
                    x = e.noMargin,
                    C = (0, m.default)(c.NUX.EPHEMERAL_VIEW_ONCE, 1),
                    y = (0, r.default)(C, 2),
                    S = y[0],
                    b = y[1];
                return (0, u.useEffect)((function() {
                    if (n) {
                        if (!S) {
                            var e = a === o.MSG_TYPE.VIDEO ? l.fbt._("Video set to view once", null, {
                                    hk: "2L7ZJW"
                                }) : l.fbt._("Photo set to view once", null, {
                                    hk: "1jN7IR"
                                }),
                                t = (0, v.jsx)(p.Toast, {
                                    msg: e,
                                    id: (0, p.genId)("view-once-toast")
                                });
                            return d.Cmd.openToast(t),
                                function() {
                                    d.Cmd.closeToast(t)
                                }
                        }
                        var r = (0, v.jsx)(s.default, {
                            onOkClick: function() {
                                b(), d.Cmd.closeModal()
                            }
                        });
                        d.Cmd.openModal(r)
                    }
                }), [S, b, a, n]), (0, v.jsx)(h.default, {
                    a8nText: i.default.key("view-once-toggle"),
                    xstyle: [g.btnViewOnce, x && g.btnNoMargin, t && g.btnDisabled],
                    disabled: t,
                    onClick: function() {
                        return _(!n)
                    },
                    "aria-pressed": n,
                    children: (0, v.jsx)(f.default, {
                        "aria-label": n ? l.fbt._("Turn off view once", null, {
                            hk: "3cl8Dn"
                        }) : l.fbt._("Turn on view once", null, {
                            hk: "3pd2lD"
                        }),
                        name: n ? "view-once-media-select-on" : "view-once-media-select",
                        height: 26,
                        width: 26
                    })
                })
            };
            var r = a(n(63038)),
                i = a(n(84646)),
                o = n(40787),
                l = n(48360),
                u = n(67294),
                s = (a(n(56720)), a(n(4338))),
                d = n(65901),
                c = n(15849),
                f = a(n(7665)),
                p = n(92428),
                h = a(n(76080)),
                m = a(n(36387)),
                v = n(85893),
                g = {
                    btnViewOnce: {
                        display: "f804f6gw",
                        marginTop: "c46o30wg",
                        marginEnd: "bugiwsl0",
                        marginStart: "eab7llgz",
                        color: "svlsagor"
                    },
                    btnNoMargin: {
                        marginTop: "tt8xd2xn",
                        marginEnd: "jnwc1y2a",
                        marginBottom: "mpdn4nr2",
                        marginStart: "svoq16ka"
                    },
                    btnDisabled: {
                        cursor: "h2qzpyga",
                        opacity: "notw83rv"
                    }
                }
        },
        4338: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onOkClick;
                return (0, p.jsx)(o.default, {
                    onOK: t,
                    cancelText: d.default.t(554),
                    onCancel: function() {
                        (0, l.openExternalLink)((0, u.getViewOnceFaqUrl)())
                    },
                    children: (0, p.jsxs)(s.FlexColumn, {
                        children: [(0, p.jsx)(s.FlexItem, {
                            xstyle: h.graphic,
                            align: "center",
                            children: (0, p.jsx)(c.default, {
                                name: "view-once-sender-nux",
                                width: 195,
                                height: 177
                            })
                        }), (0, p.jsx)(f.TextHeader, {
                            className: (0, i.default)(h.text),
                            theme: "popup-title",
                            children: r.fbt._("Send photos and videos that can be viewed only once", null, {
                                hk: "t5MUO"
                            })
                        }), (0, p.jsx)(f.TextParagraph, {
                            className: (0, i.default)(h.text),
                            color: "secondary",
                            children: r.fbt._("For more privacy, your photo or video will disappear from the chat after the recipient opens it once. Remember, people can always take screenshots.", null, {
                                hk: "Y4e8s"
                            })
                        })]
                    })
                })
            };
            var r = n(48360),
                i = a(n(56720)),
                o = a(n(86777)),
                l = n(49012),
                u = n(29281),
                s = n(27968),
                d = a(n(45159)),
                c = a(n(7665)),
                f = n(22552),
                p = n(85893),
                h = {
                    text: {
                        marginBottom: "or9x5nie"
                    },
                    graphic: {
                        marginBottom: "t4zgqcuo"
                    }
                }
        },
        77353: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function() {
                var e = (0, s.default)(o.getAutoDownloadPhotos, o.setAutoDownloadPhotos),
                    t = (0, r.default)(e, 2),
                    n = t[0],
                    a = t[1],
                    c = (0, s.default)(o.getAutoDownloadAudio, o.setAutoDownloadAudio),
                    f = (0, r.default)(c, 2),
                    p = f[0],
                    h = f[1],
                    m = (0, s.default)(o.getAutoDownloadVideos, o.setAutoDownloadVideos),
                    v = (0, r.default)(m, 2),
                    g = v[0],
                    _ = v[1],
                    x = (0, s.default)(o.getAutoDownloadDocuments, o.setAutoDownloadDocuments),
                    C = (0, r.default)(x, 2),
                    y = C[0],
                    S = C[1];
                return (0, d.jsxs)(l.SettingsCheckList, {
                    children: [(0, d.jsx)(l.SettingsCheckListItem, {
                        a8nText: "option-photos",
                        id: "photos",
                        checked: n,
                        onChange: a,
                        children: i.fbt._("Photos", null, {
                            hk: "4wPArA"
                        })
                    }), (0, d.jsx)(l.SettingsCheckListItem, {
                        a8nText: "option-audio",
                        id: "audio",
                        checked: p,
                        onChange: h,
                        children: i.fbt._("Audio", null, {
                            hk: "eXaYA"
                        })
                    }), (0, d.jsx)(l.SettingsCheckListItem, {
                        a8nText: "option-videos",
                        id: "videos",
                        checked: g,
                        onChange: _,
                        children: i.fbt._("Videos", null, {
                            hk: "4yB3QY"
                        })
                    }), (0, d.jsx)(l.SettingsCheckListItem, {
                        a8nText: "option-documents",
                        id: "documents",
                        checked: y,
                        onChange: S,
                        children: i.fbt._("Documents", null, {
                            hk: "1UBrPi"
                        })
                    }), (0, d.jsx)(l.SettingsCheckListSection, {
                        children: (0, d.jsx)(u.TextDiv, {
                            theme: "muted",
                            children: i.fbt._("Voice Messages are always automatically downloaded for the best communication experience", null, {
                                hk: "jmuCZ"
                            })
                        })
                    })]
                })
            };
            var r = a(n(63038)),
                i = n(48360),
                o = n(1577),
                l = n(79348),
                u = n(22552),
                s = a(n(42787)),
                d = n(85893)
        },
        94362: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.labelId,
                    n = e.onAddLabel,
                    a = e.onUpdateLabel,
                    C = e.onCancel,
                    y = (0, _.default)((function() {
                        return t ? c.LabelCollection.assertGet(t) : void 0
                    })),
                    S = (0, o.useState)((function() {
                        var e;
                        return (null === (e = y.current) || void 0 === e ? void 0 : e.color) || void 0
                    })),
                    b = (0, r.default)(S, 2),
                    j = b[0],
                    E = b[1],
                    k = (0, o.useState)((function() {
                        var e;
                        return (null === (e = y.current) || void 0 === e ? void 0 : e.name) || ""
                    })),
                    w = (0, r.default)(k, 2),
                    T = w[0],
                    I = w[1],
                    P = (0, o.useState)(void 0),
                    M = (0, r.default)(P, 2),
                    O = M[0],
                    L = M[1],
                    A = function(e) {
                        var t = !0,
                            n = null;
                        return e && "" !== e.trim() || (t = !1), y.current && y.current.name === e || 0 === c.LabelCollection.where({
                            name: e
                        }).length || (t = !1, n = i.fbt._("Label name already exists", null, {
                            hk: "3du3mm"
                        })), {
                            passed: t,
                            error: n
                        }
                    };
                (0, o.useEffect)((function() {
                    n ? (c.LabelCollection.getNewLabelColor().then((function(e) {
                        E(e || "#d6d7d7")
                    })), (0, p.logLabelOperationEvent)(m.default.LABEL_OPERATIONS.VIEW, 1, m.default.LABEL_TARGETS.ADD_LABEL_DIALOG)) : a && (0, p.logLabelOperationEvent)(m.default.LABEL_OPERATIONS.VIEW, 1, m.default.LABEL_TARGETS.EDIT_LABEL_DIALOG)
                }), []);
                var D = function() {
                        if (!O) {
                            (0, p.logLabelOperationEvent)(m.default.LABEL_OPERATIONS.CLICK_POSITIVE, 1, n ? m.default.LABEL_TARGETS.ADD_LABEL_DIALOG : m.default.LABEL_TARGETS.EDIT_LABEL_DIALOG);
                            var e = T && T.trim(),
                                r = A(e || "");
                            r.passed ? (t && a ? a({
                                id: t,
                                color: j,
                                name: T
                            }, f.LABEL_PROPERTIES.NAME) : n && n(T || "", j), C ? C() : u.Cmd.closeModal()) : L(r.error)
                        }
                    },
                    R = !A(T.trim()).passed;
                return (0, x.jsx)(s.default, {
                    title: e.onUpdateLabel ? i.fbt._("Edit label", null, {
                        hk: "3QX44B"
                    }) : i.fbt._("Add new label", null, {
                        hk: "2JFfTv"
                    }),
                    okText: i.fbt._("OK", null, {
                        hk: "2KEeHb"
                    }),
                    onOK: D,
                    okDisabled: R,
                    onCancel: function() {
                        (0, p.logLabelOperationEvent)(m.default.LABEL_OPERATIONS.CLICK_NEGATIVE, 1, n ? m.default.LABEL_TARGETS.ADD_LABEL_DIALOG : m.default.LABEL_TARGETS.EDIT_LABEL_DIALOG), C ? C() : u.Cmd.closeModal()
                    },
                    children: (0, x.jsxs)("div", {
                        className: l.default.inputContainer,
                        children: [(0, x.jsx)("div", {
                            className: l.default.label,
                            children: j ? (0, h.renderLabelSvg)((0, d.intColorToHex)(j)) : (0, x.jsx)(v.Spinner, {
                                stroke: 5,
                                size: 20
                            })
                        }), (0, x.jsx)("div", {
                            className: l.default.input,
                            children: (0, x.jsx)(g.TextInput, {
                                a8n: "add-new-label-name-input",
                                focusOnMount: !0,
                                hideFloatingLabel: !0,
                                showRemaining: !0,
                                supportsEmoji: !0,
                                value: T,
                                error: O,
                                maxLength: 100,
                                onChange: function(e) {
                                    var t = A(e);
                                    I(e), L(t.passed ? void 0 : t.error)
                                },
                                onEnter: function(e) {
                                    e.stopPropagation(), D()
                                },
                                placeholder: i.fbt._("New label", null, {
                                    hk: "33ueym"
                                })
                            })
                        })]
                    })
                })
            };
            var r = a(n(63038)),
                i = n(48360),
                o = n(67294),
                l = a(n(54832)),
                u = n(65901),
                s = a(n(86777)),
                d = n(8961),
                c = n(14093),
                f = n(34083),
                p = n(72104),
                h = n(4267),
                m = a(n(50507)),
                v = n(85651),
                g = n(68544),
                _ = a(n(39394)),
                x = n(85893)
        },
        74360: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.product,
                    n = e.sessionId,
                    a = (0, u.useState)(!1),
                    S = (0, r.default)(a, 2),
                    b = S[0],
                    j = S[1],
                    E = (0, u.useState)(!1),
                    k = (0, r.default)(E, 2),
                    w = k[0],
                    T = k[1],
                    I = (0, u.useState)(""),
                    P = (0, r.default)(I, 2),
                    M = P[0],
                    O = P[1],
                    L = function() {
                        s.Cmd.closeModal()
                    };
                if (w) return (0, y.jsx)(d.default, {
                    title: l.fbt._("Request review", null, {
                        hk: "1Rp2pL"
                    }),
                    onOK: L,
                    children: (0, y.jsx)(g.TextDiv, {
                        children: l.fbt._("We will review the item and if it meets our guidelines, it will be added to your catalog.", null, {
                            hk: "4tmhbu"
                        })
                    })
                });
                var A = M.length < 1 || b;
                return (0, y.jsx)(d.default, {
                    title: l.fbt._("Request review", null, {
                        hk: "1Rp2pL"
                    }),
                    onOK: function() {
                        (0, f.logAppealProductCatalogClick)(n), j(!0);
                        var e = !0;
                        m.QPL.markerStart(v.QuickLogMarkerId.WHATSAPP_PRODUCT_APPEAL), (0, p.appealProduct)(t.id.toString(), M).then((function() {
                            t.canAppeal = !1, t.reviewStatus = h.PRODUCT_REVIEW_STATUS.PENDING, (0, f.logAppealProductCatalogSuccess)(n), j(!1), T(!0), e = !1, m.QPL.markerEnd(v.QuickLogMarkerId.WHATSAPP_PRODUCT_APPEAL, m.QuickLogActionType.SUCCESS)
                        })).catch((0, i.filteredCatch)(C.ServerStatusCodeError, (function(e) {
                            s.Cmd.openToast((0, y.jsx)(x.Toast, {
                                msg: l.fbt._("Failed to send review request.", null, {
                                    hk: "1MNBtG"
                                }),
                                id: (0, x.genId)("catalog_appeal_submission_failed")
                            })), (0, f.logAppealProductCatalogFailed)(n, e.status), j(!1)
                        }))).finally((function() {
                            e && m.QPL.markerEnd(v.QuickLogMarkerId.WHATSAPP_PRODUCT_APPEAL, m.QuickLogActionType.FAIL)
                        }))
                    },
                    onCancel: L,
                    okDisabled: A,
                    children: (0, y.jsxs)("form", {
                        children: [(0, y.jsx)(_.TextInput, {
                            a8n: "confirm-popup-text-input",
                            placeholder: l.fbt._("Enter reason for this request...", null, {
                                hk: "49sHMz"
                            }),
                            onChange: function(e) {
                                O(e)
                            },
                            value: M,
                            maxLength: 1e3
                        }), (0, y.jsx)(c.ExternalLink, {
                            href: o.default.WA_COMMERCE_POLICY_URL,
                            children: l.fbt._("Learn more", null, {
                                hk: "2S4fxr"
                            })
                        })]
                    })
                })
            };
            var r = a(n(63038)),
                i = n(15586),
                o = a(n(3208)),
                l = n(48360),
                u = n(67294),
                s = n(65901),
                d = a(n(86777)),
                c = n(49012),
                f = n(56264),
                p = n(36949),
                h = n(46408),
                m = n(3298),
                v = n(4099),
                g = n(22552),
                _ = n(68544),
                x = n(92428),
                C = n(59175),
                y = n(85893)
        },
        38174: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(48360),
                i = n(65901),
                o = n(65971),
                l = a(n(86777)),
                u = n(85893),
                s = function() {
                    i.Cmd.openModal((0, u.jsx)(l.default, {
                        okText: r.fbt._("OK", null, {
                            hk: "2KEeHb"
                        }),
                        onOK: function() {
                            return i.Cmd.closeModal()
                        },
                        children: (0, u.jsx)(o.ComplianceInfoHelpCenterBanner, {})
                    }))
                };
            t.default = s
        },
        69542: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(48360),
                i = n(65901),
                o = a(n(86777)),
                l = n(85893),
                u = function(e) {
                    i.Cmd.openModal((0, l.jsx)(o.default, {
                        title: r.fbt._("Information accuracy", null, {
                            hk: "1IkKdC"
                        }),
                        okText: r.fbt._("OK", null, {
                            hk: "2KEeHb"
                        }),
                        onOK: function() {
                            null == e || e(), i.Cmd.closeModal()
                        },
                        cancelText: r.fbt._("Go back", null, {
                            hk: "3k17TN"
                        }),
                        onCancel: function() {
                            return i.Cmd.closeModal()
                        },
                        children: (0, l.jsxs)(l.Fragment, {
                            children: [r.fbt._("By continuing, you confirm that all information you have provided is correct and current.", null, {
                                hk: "3VB7Ib"
                            }), (0, l.jsx)("br", {}), (0, l.jsx)("br", {}), r.fbt._("You are required by law to update this info on WhatsApp if it ever changes.", null, {
                                hk: "3FF6ZU"
                            })]
                        })
                    }))
                };
            t.default = u
        },
        73012: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, n = (0, C.default)(),
                    a = (0, s.useState)(null === (t = h.LabelCollection.labelColorPalette) || void 0 === t ? void 0 : t.colors),
                    r = (0, i.default)(a, 2),
                    l = r[0],
                    p = r[1],
                    v = (0, s.useRef)(null);
                (0, s.useEffect)((function() {
                    return (0, g.default)(h.LabelCollection.getLabelColorPalette(), n).then((function(e) {
                            p(e)
                        })).catch((0, o.catchAbort)((function() {}))),
                        function() {
                            var e;
                            null === (e = v.current) || void 0 === e || e.cancel()
                        }
                }), []);
                var x = (0, y.jsx)(_.Spinner, {
                    stroke: 6,
                    size: 24
                });
                l && (x = (0, y.jsx)(b, {
                    labelId: e.labelId,
                    onBack: e.onClose,
                    onUpdateColor: e.onUpdateColor,
                    colors: l,
                    currentColor: e.currentColor
                }));
                return (0, y.jsxs)(d.default, {
                    children: [(0, y.jsx)(f.DrawerHeader, {
                        title: u.fbt._("Choose color", null, {
                            hk: "16haXO"
                        }),
                        onBack: e.onClose,
                        type: f.DRAWER_HEADER_TYPE.LARGE
                    }), (0, y.jsx)(c.default, {
                        children: (0, y.jsx)("div", {
                            className: m.default.container,
                            children: x
                        })
                    })]
                })
            };
            var r = a(n(59713)),
                i = a(n(63038)),
                o = n(396),
                l = a(n(94184)),
                u = n(48360),
                s = n(67294),
                d = a(n(53187)),
                c = a(n(18345)),
                f = n(19288),
                p = n(8961),
                h = n(14093),
                m = a(n(44616)),
                v = n(34083),
                g = a(n(27003)),
                _ = n(85651),
                x = a(n(7665)),
                C = a(n(1379)),
                y = n(85893);

            function S(e) {
                var t, n = e.onUpdateColor,
                    a = e.labelId,
                    o = e.colorInt,
                    u = e.onBack,
                    d = (0, s.useState)(!1),
                    c = (0, i.default)(d, 2),
                    f = c[0],
                    h = c[1],
                    g = e.isSelected ? (0, y.jsx)(x.default, {
                        name: "checkmark-medium"
                    }) : null,
                    _ = function() {
                        f || h(!0)
                    },
                    C = (0, l.default)(m.default.wallpaperColorCanvas, (t = {}, (0, r.default)(t, m.default.canvasHover, f), (0, r.default)(t, m.default.canvasActive, e.isSelected), t));
                return (0, y.jsx)("span", {
                    className: C,
                    style: {
                        backgroundColor: (0, p.intColorToHex)(e.colorInt)
                    },
                    onMouseOver: _,
                    onMouseEnter: _,
                    onMouseLeave: function() {
                        f && h(!1)
                    },
                    onClick: function() {
                        n({
                            id: a,
                            color: o
                        }, v.LABEL_PROPERTIES.COLOR), u()
                    },
                    children: g
                })
            }

            function b(e) {
                for (var t = e.currentColor, n = e.colors.map((function(n) {
                        return (0, y.jsx)(S, {
                            onUpdateColor: e.onUpdateColor,
                            colorInt: n,
                            onBack: e.onBack,
                            labelId: e.labelId,
                            isSelected: t === n
                        }, n)
                    })), a = 0; a < 2; a++) n.push((0, y.jsx)("div", {
                    className: m.default.wallpaperColorEmpty
                }, "emptyEl" + a));
                return n
            }
        },
        89187: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onDeleteLabel,
                    n = (0, l.useState)(0),
                    a = (0, r.default)(n, 2),
                    j = a[0],
                    E = a[1],
                    k = (0, S.default)((function() {
                        return new i.default([], (function(e) {
                            return e.id
                        }))
                    }));
                (0, l.useEffect)((function() {
                    (0, v.logLabelOperationEvent)(g.default.LABEL_OPERATIONS.VIEW, void 0, g.default.LABEL_TARGETS.LABELS_SCREEN)
                }), []);
                var w = null;
                w = j > 0 ? (0, b.jsx)(_.default, {
                    selectedModels: k.current,
                    onCancel: function() {
                        k.current.unsetAll(), E(0)
                    },
                    onDelete: function() {
                        var e = k.current.getSelected();
                        (0, v.logLabelOperationEvent)(g.default.LABEL_OPERATIONS.VIEW, e.length, g.default.LABEL_TARGETS.DELETE_LABEL_DIALOG), u.Cmd.openModal((0, b.jsx)(s.default, {
                            okText: o.fbt._("Yes", null, {
                                hk: "12b9aE"
                            }),
                            cancelText: o.fbt._("No", null, {
                                hk: "4G38V6"
                            }),
                            onCancel: function() {
                                (0, v.logLabelOperationEvent)(g.default.LABEL_OPERATIONS.CLICK_NEGATIVE, 1, g.default.LABEL_TARGETS.DELETE_LABEL_DIALOG), u.Cmd.closeModal()
                            },
                            onOK: function() {
                                (0, v.logLabelOperationEvent)(g.default.LABEL_OPERATIONS.CLICK_POSITIVE, 1, g.default.LABEL_TARGETS.DELETE_LABEL_DIALOG),
                                function(e) {
                                    u.Cmd.closeModal(), k.current.unsetAll(), t(e)
                                }(e)
                            },
                            children: h.default.t(375, {
                                _plural: e.length
                            })
                        }))
                    },
                    theme: "drawer-header"
                }) : (0, b.jsx)(f.DrawerHeader, {
                    title: o.fbt._("Labels", null, {
                        hk: "t1hII"
                    }),
                    onBack: e.onClose,
                    type: f.DRAWER_HEADER_TYPE.LARGE
                });
                var T = (0, p.canEditLabel)() && (0, b.jsx)("div", {
                    className: m.default.addLabelBtContainer,
                    children: (0, b.jsx)(C.Round, {
                        large: !0,
                        onClick: e.openAddLabel,
                        children: (0, b.jsx)(y.default, {
                            name: "plus-large"
                        })
                    })
                });
                return (0, b.jsxs)(d.default, {
                    theme: "settings",
                    children: [w, (0, b.jsx)(c.default, {
                        children: (0, b.jsx)(x.default, {
                            shouldScrollIntoViewAndSelect: function() {
                                return {
                                    shouldScrollIntoView: !0,
                                    shouldSelect: !1
                                }
                            },
                            selectedLabels: k.current,
                            renderContext: "label-list",
                            onMultiSelect: function() {
                                var e = k.current.getSelected().length;
                                E(e)
                            },
                            onLabelClick: e.onLabelClick
                        })
                    }), T]
                })
            };
            var r = a(n(63038)),
                i = a(n(64709)),
                o = n(48360),
                l = n(67294),
                u = n(65901),
                s = a(n(86777)),
                d = a(n(53187)),
                c = a(n(18345)),
                f = n(19288),
                p = n(2629),
                h = a(n(45159)),
                m = a(n(39132)),
                v = n(72104),
                g = a(n(50507)),
                _ = a(n(13599)),
                x = a(n(79236)),
                C = n(80385),
                y = a(n(7665)),
                S = a(n(39394)),
                b = n(85893)
        },
        90882: (e, t, n) => {
            "use strict";
            var a = n(95318);
            t.Z = function(e) {
                var t = e.labelId,
                    n = e.openLabelColorDrawer,
                    a = e.onEditLabel,
                    p = e.onRemoveLabel,
                    h = (0, k.default)(),
                    m = (0, w.default)((function() {
                        return new r.default([], (function(e) {
                            return e.id.toString()
                        }))
                    })).current;
                (0, T.useListener)(m, "all", (function() {
                    return h()
                })), (0, o.useEffect)((function() {
                    (0, _.logLabelOperationEvent)(y.default.LABEL_OPERATIONS.VIEW, void 0, y.default.LABEL_TARGETS.LABEL_DETAILS_SCREEN)
                }), []);
                var C = function() {
                        m.unsetAll()
                    },
                    E = function() {
                        var e = m.getSelected();
                        (0, _.logLabelOperationEvent)(y.default.LABEL_OPERATIONS.CLICK_NEGATIVE, e.length, y.default.LABEL_TARGETS.BULK_UNLABEL_DIALOG), u.Cmd.closeModal()
                    },
                    M = function(e) {
                        for (var t, n, a = 0; a < e.length; a++) {
                            if (e[a] instanceof b.Msg ? n = !0 : t = !0, t && n) return !0
                        }
                        return !1
                    }(m.getSelected()),
                    O = m.getSelected().length > 0 ? (0, I.jsx)(S.default, {
                        labelEditEnabled: !M,
                        onRemoveLabel: function() {
                            var e = m.getSelected();
                            if (p) {
                                var n = g.LabelCollection.assertGet(t);
                                (0, _.logLabelOperationEvent)(y.default.LABEL_OPERATIONS.VIEW, e.length, y.default.LABEL_TARGETS.BULK_UNLABEL_DIALOG), u.Cmd.openModal((0, I.jsx)(s.default, {
                                    title: v.default.t(719, {
                                        count: e.length,
                                        labelName: n.name,
                                        _plural: e.length
                                    }),
                                    okText: i.fbt._("OK", null, {
                                        hk: "2KEeHb"
                                    }),
                                    cancelText: i.fbt._("Cancel", null, {
                                        hk: "H0gNq"
                                    }),
                                    onCancel: E,
                                    onOK: function() {
                                        return function(e, t) {
                                            u.Cmd.closeModal(), C(), p(e, t), (0, _.logLabelOperationEvent)(y.default.LABEL_OPERATIONS.CLICK_POSITIVE, t.length, y.default.LABEL_TARGETS.BULK_UNLABEL_DIALOG)
                                        }(t, e)
                                    }
                                }))
                            }
                        },
                        selectedModels: m,
                        onCancel: C,
                        theme: "drawer-header"
                    }) : (0, I.jsx)(f.DrawerHeader, {
                        onBack: e.onClose,
                        menu: (0, I.jsx)(P, {
                            openColorPicker: function() {
                                var e = g.LabelCollection.assertGet(t);
                                n(t, e.color)
                            },
                            openEditLabel: function() {
                                a && a(t)
                            }
                        }),
                        type: f.DRAWER_HEADER_TYPE.LABELS,
                        children: (0, I.jsx)(x.Labels, {
                            labels: [e.labelId],
                            renderAsCircle: !0,
                            showName: !0,
                            theme: "drawer-title"
                        })
                    });
                return (0, I.jsxs)(d.default, {
                    theme: "settings",
                    children: [O, (0, I.jsx)(c.default, {
                        children: (0, I.jsx)(l.default, {
                            hideMultiSelectBar: !0,
                            multiSelection: m,
                            labelFilter: e.labelId,
                            settings: j.default,
                            selectable: !0
                        })
                    })]
                })
            };
            var r = a(n(64709)),
                i = n(48360),
                o = n(67294),
                l = a(n(62058)),
                u = n(65901),
                s = a(n(86777)),
                d = a(n(53187)),
                c = a(n(18345)),
                f = n(19288),
                p = n(98169),
                h = n(94680),
                m = n(2629),
                v = a(n(45159)),
                g = n(14093),
                _ = n(72104),
                x = n(4267),
                C = n(91823),
                y = a(n(50507)),
                S = a(n(13599)),
                b = n(82380),
                j = a(n(43463)),
                E = a(n(7665)),
                k = a(n(57811)),
                w = a(n(39394)),
                T = n(8413),
                I = n(85893);

            function P(e) {
                var t = e.openColorPicker,
                    n = e.openEditLabel;
                return (0, m.canEditLabel)() ? (0, I.jsx)(C.MenuBarItem, {
                    a8nText: "starred-menu",
                    icon: (0, I.jsx)(E.default, {
                        name: "menu"
                    }),
                    title: v.default.t(611),
                    children: (0, I.jsxs)(p.Dropdown, {
                        type: "dropdown_menu",
                        flipOnRTL: !0,
                        dirX: p.DirX.LEFT,
                        children: [(0, I.jsx)(h.DropdownItem, {
                            a8n: "menu-item",
                            action: t,
                            children: i.fbt._("Choose color", null, {
                                hk: "16haXO"
                            })
                        }), (0, I.jsx)(h.DropdownItem, {
                            a8n: "menu-item",
                            action: n,
                            children: i.fbt._("Edit label", null, {
                                hk: "3QX44B"
                            })
                        })]
                    }, "labelChooseColor")
                }) : null
            }
        },
        42724: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.modelsToUpdate,
                    n = e.onLabelUpdateComplete,
                    a = (0, b.default)((function() {
                        return new i.default([], (function(e) {
                            return e.id
                        }))
                    })),
                    T = (0, l.useRef)(new Set),
                    I = a.current,
                    P = T.current,
                    M = (0, S.default)(),
                    O = (0, l.useMemo)((function() {
                        var e, n = (e = {}, t.forEach((function(t) {
                            var n = (0, C.unproxy)(t);
                            n.labels && n.labels.forEach((function(t) {
                                e[t] = e[t] ? ++e[t] : 1
                            }))
                        })), e);
                        return (0, r.default)(n, (function(e) {
                            return e === t.length ? k : e > 0 ? w : E
                        }))
                    }), []),
                    L = (0, j.jsx)(u.default, {
                        a8nText: "popup-controls-ok",
                        type: "primary",
                        disabled: 0 === P.size,
                        onClick: function() {
                            (0, m.logLabelOperationEvent)(g.default.LABEL_OPERATIONS.CLICK_POSITIVE, t.length, g.default.LABEL_TARGETS.LABEL_COMBINED_DIALOG);
                            var e = I.list,
                                a = I.selected,
                                r = e.map((function(e, t) {
                                    return {
                                        id: e.id,
                                        type: a[t] ? "add" : "remove"
                                    }
                                }));
                            h.LabelCollection.addOrRemoveLabels(r, t), n && n()
                        },
                        children: p.default.t(729)
                    }, 1),
                    A = (0, j.jsx)(u.default, {
                        a8nText: "popup-controls-cancel",
                        type: "secondary",
                        onClick: e.onCancel,
                        children: o.fbt._("Cancel", null, {
                            hk: "H0gNq"
                        })
                    }, 0),
                    D = (0, f.canEditLabel)() && (0, j.jsx)("div", {
                        className: v.default.newLabelBtn,
                        children: (0, j.jsxs)(u.default, {
                            a8nText: "popup-controls-cancel",
                            type: "simplified",
                            onClick: e.onAddNewLabel,
                            children: [(0, j.jsx)(y.default, {
                                name: "plus-large",
                                className: v.default.plus,
                                display: "inline"
                            }), o.fbt._("NEW LABEL", null, {
                                hk: "4xjp4I"
                            })]
                        }, 2)
                    });
                return (0, j.jsx)(_.Modal, {
                    type: _.ModalTheme.Tower,
                    children: (0, j.jsxs)(s.default, {
                        theme: "labels",
                        children: [(0, j.jsx)(c.DrawerHeader, {
                            title: o.fbt._("Label items", null, {
                                hk: "2xOVMD"
                            }),
                            type: c.DRAWER_HEADER_TYPE.POPUP,
                            onCancel: e.onCancel
                        }), (0, j.jsx)(d.default, {
                            "data-list-scroll-container": !0,
                            theme: "padding",
                            children: (0, j.jsx)(x.default, {
                                shouldScrollIntoViewAndSelect: e.shouldScrollIntoViewAndSelect,
                                initialLabelState: O,
                                selectedLabels: I,
                                renderContext: "label-selection",
                                onLabelClick: e.onLabelClick,
                                onMultiSelect: function(e) {
                                    e && (O[e] === w ? P.add("{labelId}_changed") : P.has(e) ? P.delete(e) : P.add(e), M())
                                }
                            })
                        }), D, (0, j.jsxs)("div", {
                            className: v.default.actionBtns,
                            children: [A, L]
                        })]
                    }, "mange_label_modal")
                })
            };
            var r = a(n(66604)),
                i = a(n(64709)),
                o = n(48360),
                l = n(67294),
                u = a(n(51599)),
                s = a(n(53187)),
                d = a(n(18345)),
                c = n(19288),
                f = n(2629),
                p = a(n(45159)),
                h = n(14093),
                m = n(72104),
                v = a(n(27053)),
                g = a(n(50507)),
                _ = n(73454),
                x = a(n(79236)),
                C = n(68220),
                y = a(n(7665)),
                S = a(n(57811)),
                b = a(n(39394)),
                j = n(85893),
                E = 0,
                k = 1,
                w = 2
        },
        70135: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(93913)),
                o = a(n(81506)),
                l = a(n(2205)),
                u = a(n(99842)),
                s = a(n(51463)),
                d = a(n(84646)),
                c = n(48360),
                f = n(67294),
                p = n(84533),
                h = a(n(9837)),
                m = n(29830),
                v = n(65901),
                g = a(n(86777)),
                _ = n(65002),
                x = n(20050),
                C = a(n(71562)),
                y = a(n(53187)),
                S = a(n(18345)),
                b = a(n(61876)),
                j = n(19288),
                E = n(75993),
                k = n(73568),
                w = a(n(23803)),
                T = a(n(92546)),
                I = a(n(45159)),
                P = n(63641),
                M = a(n(7665)),
                O = n(85893),
                L = function(e) {
                    (0, l.default)(n, e);
                    var t = (0, u.default)(n);

                    function n() {
                        var e;
                        (0, r.default)(this, n);
                        for (var a = arguments.length, i = new Array(a), l = 0; l < a; l++) i[l] = arguments[l];
                        return (e = t.call.apply(t, [this].concat(i))).flatListController = new T.default, e._handleBlockConfirm = function(e) {
                            (0, p.blockContact)(e).catch((function() {})), v.Cmd.closeModal()
                        }, e.handleBlock = function() {
                            v.Cmd.openModal((0, O.jsx)(C.default, {
                                title: I.default.t(136),
                                filter: function(e) {
                                    return !!x.ContactCollection.isFilteredContact(e) && (!m.BlocklistCollection.get(e.id) || I.default.t(700))
                                },
                                onCancel: function() {
                                    return v.Cmd.closeModal()
                                },
                                onSelect: (0, s.default)(e._handleBlockConfirm)
                            }))
                        }, e._handleUnblockConfirm = function(e) {
                            (0, p.unblockContact)(e).catch((function() {})), v.Cmd.closeModal()
                        }, e._handleUnblockCancel = function() {
                            v.Cmd.closeModal()
                        }, e._handleUnblock = function(t, n) {
                            v.Cmd.openModal((0, O.jsx)(g.default, {
                                okText: I.default.t(788),
                                onOK: e._handleUnblockConfirm.bind((0, o.default)(e), n),
                                cancelText: c.fbt._("Cancel", null, {
                                    hk: "H0gNq"
                                }),
                                onCancel: e._handleUnblockCancel,
                                children: I.default.t(789, {
                                    contact: n.formattedName
                                })
                            }))
                        }, e.renderItem = function(t) {
                            var n = t.blocklist.contact();
                            return (0, O.jsx)(_.Contact, {
                                contact: n,
                                onClick: e._handleUnblock,
                                onDelete: e._handleUnblock,
                                waitIdle: !0
                            }, n.id.toString())
                        }, e
                    }
                    return (0, i.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this;
                            this.props.listeners.add(m.BlocklistCollection, "add remove", (function() {
                                e.forceUpdate()
                            }))
                        }
                    }, {
                        key: "getData",
                        value: function() {
                            return m.BlocklistCollection.map((function(e) {
                                return {
                                    itemKey: e.id.toString(),
                                    blocklist: e
                                }
                            }))
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e, t;
                            return m.BlocklistCollection.length > 0 ? (e = (0, O.jsx)(w.default, {
                                flatListControllers: [this.flatListController],
                                className: h.default.list,
                                children: (0, O.jsx)(k.FlatList, {
                                    flatListController: this.flatListController,
                                    direction: "vertical",
                                    data: this.getData(),
                                    renderItem: this.renderItem
                                })
                            }), t = (0, O.jsx)("div", {
                                "data-a8n": d.default.key("blocked-description"),
                                className: h.default.hint,
                                children: I.default.t(135)
                            })) : e = (0, O.jsx)(E.Blocked, {}), (0, O.jsxs)(y.default, {
                                children: [(0, O.jsx)(j.DrawerHeader, {
                                    title: I.default.t(175),
                                    onBack: this.props.onClose,
                                    type: j.DRAWER_HEADER_TYPE.LARGE
                                }), (0, O.jsx)("div", {
                                    className: h.default.button,
                                    children: (0, O.jsx)(b.default, {
                                        a8nText: "li-add-blocked",
                                        onClick: this.handleBlock,
                                        icon: (0, O.jsx)(M.default, {
                                            name: "add-user",
                                            directional: !0
                                        }),
                                        children: I.default.t(136)
                                    })
                                }), (0, O.jsxs)(S.default, {
                                    children: [e, t]
                                })]
                            })
                        }
                    }]), n
                }(f.Component);
            L.displayName = "BlockedDrawer";
            var A = (0, P.ListenerHOC)(L);
            t.default = A
        },
        96002: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(59713)),
                i = a(n(63038)),
                o = n(15586),
                l = a(n(272)),
                u = n(46814),
                s = a(n(3208)),
                d = a(n(94184)),
                c = n(48360),
                f = n(67294),
                p = a(n(22232)),
                h = a(n(51241)),
                m = n(4318),
                v = a(n(14306)),
                g = n(65901),
                _ = a(n(53187)),
                x = a(n(18345)),
                C = n(19288),
                y = H(n(18286)),
                S = n(50157),
                b = n(7244),
                j = a(n(45159)),
                E = n(89694),
                k = a(n(61640)),
                w = H(n(94200)),
                T = a(n(37286)),
                I = a(n(50507)),
                P = a(n(58497)),
                M = a(n(57393)),
                O = n(80385),
                L = n(43890),
                A = n(85651),
                D = a(n(7665)),
                R = n(29034),
                N = a(n(39394)),
                F = a(n(60806)),
                B = a(n(61566)),
                U = n(85893);

            function G(e) {
                if ("function" != typeof WeakMap) return null;
                var t = new WeakMap,
                    n = new WeakMap;
                return (G = function(e) {
                    return e ? n : t
                })(e)
            }

            function H(e, t) {
                if (!t && e && e.__esModule) return e;
                if (null === e || "object" != typeof e && "function" != typeof e) return {
                    default: e
                };
                var n = G(t);
                if (n && n.has(e)) return n.get(e);
                var a = {},
                    r = Object.defineProperty && Object.getOwnPropertyDescriptor;
                for (var i in e)
                    if ("default" !== i && Object.prototype.hasOwnProperty.call(e, i)) {
                        var o = r ? Object.getOwnPropertyDescriptor(e, i) : null;
                        o && (o.get || o.set) ? Object.defineProperty(a, i, o) : a[i] = e[i]
                    } return a.default = e, n && n.set(e, a), a
            }
            var W = "ANIMATING",
                V = "LOADING",
                z = "RECORDING",
                q = "SENDING";

            function K(e, t) {
                var n = e.chat,
                    a = e.disposeStream,
                    G = e.onCaptured,
                    H = e.onBack,
                    K = e.onSend,
                    Y = (0, f.useRef)(null),
                    Q = (0, f.useRef)(null),
                    X = (0, f.useRef)(null),
                    Z = (0, f.useRef)(null),
                    J = (0, f.useRef)(null),
                    $ = (0, f.useState)(void 0),
                    ee = (0, i.default)($, 2),
                    te = ee[0],
                    ne = ee[1],
                    ae = (0, f.useState)(void 0),
                    re = (0, i.default)(ae, 2),
                    ie = re[0],
                    oe = re[1],
                    le = (0, f.useState)(!1),
                    ue = (0, i.default)(le, 2),
                    se = ue[0],
                    de = ue[1],
                    ce = (0, f.useState)(void 0),
                    fe = (0, i.default)(ce, 2),
                    pe = fe[0],
                    he = fe[1],
                    me = (0, f.useState)(W),
                    ve = (0, i.default)(me, 2),
                    ge = ve[0],
                    _e = ve[1],
                    xe = (0, f.useState)(void 0),
                    Ce = (0, i.default)(xe, 2),
                    ye = Ce[0],
                    Se = Ce[1],
                    be = function(e, t) {
                        var n;
                        e ? (null === (n = Q.current) || void 0 === n || n.call(Q), Q.current = t, _e(V), Se(e), (0, w.isSrcObjectInVideoElement)() || (e ? (window.URL.revokeObjectURL(X.current), X.current = window.URL.createObjectURL(e)) : (window.URL.revokeObjectURL(X.current), X.current = void 0))) : ge === W && _e(V)
                    },
                    je = (0, N.default)((function() {
                        return new u.ShiftTimer((function(e) {
                            var t = e.stream,
                                n = e.disposeStream;
                            be(t, n)
                        }))
                    })),
                    Ee = (0, N.default)((function() {
                        return new u.ShiftTimer((function(e) {
                            var t, n = e.stream,
                                a = e.disposeStream;
                            n && a && (null === (t = Q.current) || void 0 === t || t.call(Q));
                            (0, w.isSrcObjectInVideoElement)() || (X.current = window.URL.revokeObjectURL(X.current))
                        }))
                    })),
                    ke = function() {
                        n && n.setAttachMediaContents(null)
                    };
                (0, f.useEffect)((function() {
                    return je.current.onOrBefore(300, {
                            stream: e.stream,
                            disposeStream: e.disposeStream
                        }),
                        function() {
                            je.current.cancel(), X.current && window.URL.revokeObjectURL(X.current), null == a || a(), Y.current && Y.current.logCancel(), ke()
                        }
                }), []);
                var we = function(e, t) {
                    je.current.forceRunNow({
                        stream: e,
                        disposeStream: t
                    })
                };
                (0, f.useImperativeHandle)(t, (function() {
                    return {
                        loadNewStreamTimerUpdate: we,
                        loadNewStream: be
                    }
                }));
                var Te, Ie, Pe, Me, Oe, Le, Ae = function() {
                        var e = te;
                        if (K)
                            if (ie) {
                                var t, n, a = null === (t = Z.current) || void 0 === t ? void 0 : t.refInput,
                                    r = [];
                                if (te && a) {
                                    var i = a.serialize(te),
                                        o = [i[0].trim(), i[1]],
                                        l = o[0],
                                        u = o[1];
                                    l.length && (e = l, r = u.mentionedJidList || [])
                                }
                                K({
                                    caption: e,
                                    getImg: M.default.createFromBase64Jpeg(R.URL.parseDataURL(ie).data),
                                    isViewOnce: se,
                                    mentionedJidList: r
                                }), null === (n = Y.current) || void 0 === n || n.logSend({
                                    isViewOnce: se
                                })
                            } else __LOG__(4, void 0, new Error, !0)`Assertion failed!`, SEND_LOGS("capture-drawer-no-img");
                        else __LOG__(4, void 0, new Error, !0)`Assertion failed!`, SEND_LOGS("capture-drawer-no-onSend")
                    },
                    De = "capture-cover" === e.theme ? "cover" : "contain";
                switch (ge) {
                    case W:
                    case V:
                        if (Oe = (0, U.jsx)(A.Spinner, {
                                stroke: 4,
                                size: 50
                            }), ge === W) break;
                    case z:
                        var Re = (0, d.default)(v.default.video, (0, r.default)({}, v.default.videoInactive, ye && ge === V)),
                            Ne = ye ? (0, U.jsx)(B.default, {
                                autoPlay: !0,
                                ref: J,
                                onPlay: function(e) {
                                    _e(z), he({
                                        width: e.videoWidth,
                                        height: e.videoHeight
                                    })
                                },
                                src: X.current ? X.current : void 0,
                                srcObject: X.current ? void 0 : ye
                            }) : null;
                        Pe = ye ? (0, U.jsx)("div", {
                            children: (0, U.jsx)(P.default, {
                                type: De,
                                size: pe,
                                children: (0, U.jsx)("div", {
                                    className: Re,
                                    "data-animage-capture-webcam": !0,
                                    children: Ne
                                })
                            })
                        }, "webcam") : null, Te = ge === z ? (0, U.jsx)("div", {
                            className: v.default.btn,
                            children: (0, U.jsx)(O.Round, {
                                large: !0,
                                onClick: function() {
                                    var e, t = null === (e = J.current) || void 0 === e ? void 0 : e.underlyingVideo();
                                    if (t) {
                                        var r = document.createElement("canvas");
                                        r.height = t.videoHeight, r.width = t.videoWidth;
                                        var i = r.getContext("2d");
                                        if (i)
                                            if (i.translate(r.width, 0), i.scale(-1, 1), i.drawImage(t, 0, 0, t.videoWidth, t.videoHeight), G)(0, m.canvasToBlob)(r).then((function(e) {
                                                G(e)
                                            }));
                                            else {
                                                Ee.current.onOrBefore(500, {
                                                    stream: ye,
                                                    disposeStream: a
                                                });
                                                var o = new E.MediaPickerStatsLogger;
                                                o.logAdd("CAPTURE_MEDIA", "image", I.default.MEDIA_PICKER_ORIGIN_TYPE.MENU_CAMERA_CAPTURE), o.chatRecipients = (null == n ? void 0 : n.groupMetadata) ? n.groupMetadata.participants.length : 1, Y.current = o;
                                                var u = r.toDataURL("image/jpeg"),
                                                    s = window.dataURLtoBlob(u);
                                                n && (n.attachMediaContents || n.setAttachMediaContents(new p.default({
                                                    chatParticipantCount: n.getParticipantCount()
                                                })), (0, l.default)(n.attachMediaContents, "chat.attachMediaContents").processAttachments([{
                                                    file: (0, S.createFile)([s], "", {
                                                        type: "image/jpeg"
                                                    })
                                                }])), oe(u), _e(q), Se(void 0)
                                            }
                                        else __LOG__(3)`CaptureDrawer:onCapture can not get 2d context`
                                    }
                                },
                                children: (0, U.jsx)(D.default, {
                                    name: "camera"
                                })
                            })
                        }, "btn-capture") : null;
                        break;
                    case q:
                        if (Pe = (0, U.jsx)(P.default, {
                                type: De,
                                size: pe,
                                children: (0, U.jsx)("img", {
                                    alt: "",
                                    className: v.default.image,
                                    "data-animate-capture-snapshot": !0,
                                    src: ie
                                })
                            }), n) {
                            var Fe = (0, l.default)(n.attachMediaContents, "chat.attachMediaContents");
                            Pe = (0, U.jsx)(T.default, {
                                theme: "capture",
                                chat: n,
                                initCaption: null,
                                mediaCollection: Fe,
                                onDropText: function() {},
                                onSendMedia: function(e) {
                                    var t = (arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}).isViewOnce;
                                    if (K)
                                        if (0 === e.length) __LOG__(4, void 0, new Error, !0)`Assertion failed!`, SEND_LOGS("capture-drawer-no-img");
                                        else {
                                            var n, a, r = (0, l.default)(e[0], "medias[0]"),
                                                i = r.media,
                                                o = r.mentionedJidList,
                                                u = i.file;
                                            u instanceof Blob && (K({
                                                getImg: M.default.createFromData(u, u.type),
                                                caption: null !== (n = i.caption) && void 0 !== n ? n : void 0,
                                                isViewOnce: t,
                                                mentionedJidList: o
                                            }), null === (a = Y.current) || void 0 === a || a.logSend({
                                                isViewOnce: t
                                            })), ke()
                                        }
                                    else __LOG__(4, void 0, new Error, !0)`Assertion failed!`, SEND_LOGS("capture-drawer-no-onSend")
                                }
                            })
                        }
                        Te = (0, U.jsx)("div", {
                            className: (0, d.default)(v.default.btn, v.default.btnSend),
                            children: (0, U.jsx)(O.Round, {
                                large: !0,
                                onClick: Ae,
                                children: (0, U.jsx)(D.default, {
                                    name: "send",
                                    directional: !0
                                })
                            })
                        }, "btn-send"), Ie = (0, U.jsxs)("div", {
                            className: v.default.retakeBtn,
                            onClick: function() {
                                ne(void 0), _e(V), ke();
                                var e = w.start("camera"),
                                    t = e.asyncStream,
                                    n = e.disposeStream;
                                Q.current = n, t.then((function(e) {
                                    e && ((0, w.isSrcObjectInVideoElement)() || (X.current = window.URL.createObjectURL(e)), Se(e))
                                })).catch((0, o.filteredCatch)(y.GUM.NotAllowedError, (function() {
                                    H(), g.Cmd.openModal((0, U.jsx)(b.GuidePopup, {
                                        messaging: b.Messaging.CAMERA_FAIL,
                                        type: b.TYPE.GUIDE_UNBLOCK
                                    }))
                                }))).catch((0, o.filteredCatch)(y.GUM.GUMError, (function() {
                                    H(), g.Cmd.openModal((0, U.jsx)(b.GuidePopup, {
                                        messaging: b.Messaging.CAMERA_MISSING,
                                        type: b.TYPE.GUIDE_NONE
                                    }))
                                })))
                            },
                            children: [(0, U.jsx)("div", {
                                className: v.default.retakeIcon,
                                children: (0, U.jsx)(D.default, {
                                    name: "return"
                                })
                            }), c.fbt._("Retake", null, {
                                hk: "tGeQz"
                            })]
                        }), Me = e.chat ? (0, U.jsxs)("div", {
                            className: v.default.captionInput,
                            children: [(0, U.jsx)(k.default, {
                                ref: Z,
                                chat: e.chat,
                                maxLength: s.default.MAX_CAPTION_LENGTH,
                                multiline: !0,
                                onEnter: Ae,
                                onChange: function(e) {
                                    ne(e)
                                },
                                placeholder: j.default.t(134),
                                showRemaining: !0,
                                spellCheck: !0,
                                supportsEmoji: !0,
                                value: te
                            }), L.ServerProps.viewOnceWrite ? (0, U.jsx)(h.default, {
                                disabled: (Le = null == n ? void 0 : n.contact.isEnterprise, !(L.ServerProps.viewOnceWrite && !Le)),
                                isOn: se,
                                mediaType: "image",
                                onChange: function(e) {
                                    de(e)
                                }
                            }) : null]
                        }) : null;
                        break;
                    default:
                        __LOG__(2)`captureDrawer:render Unhandled video capture state ${ge}`
                }
                var Be = e.caption ? (0, U.jsx)(F.default, {
                        transitionName: "media-caption",
                        className: v.default.caption,
                        children: Me
                    }) : null,
                    Ue = (0, U.jsxs)("div", {
                        className: v.default.footer,
                        children: [Be, (0, U.jsx)(F.default, {
                            transitionName: "pop_delay",
                            children: Te
                        })]
                    });
                return ge === q && (Ue = null), (0, U.jsxs)(_.default, {
                    theme: e.theme,
                    children: [(0, U.jsx)(C.DrawerHeader, {
                        title: j.default.t(779),
                        type: C.DRAWER_HEADER_TYPE.OFFSET,
                        onCancel: e.onBack,
                        children: Ie
                    }), (0, U.jsxs)(x.default, {
                        overflow: "hidden",
                        children: [(0, U.jsxs)("div", {
                            className: v.default.container,
                            children: [Oe, (0, U.jsx)("div", {
                                className: v.default.body,
                                children: (0, U.jsx)(F.default, {
                                    transitionName: "capture",
                                    className: v.default.videoContainer,
                                    children: Pe
                                })
                            })]
                        }), Ue]
                    })]
                }, "attach-capture-modal")
            }
            K.defaultProps = {
                caption: !1
            };
            var Y = (0, f.forwardRef)(K);
            t.default = Y
        },
        6862: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = u.default.isRTL();
                return (0, s.jsx)("div", {
                    className: (0, r.default)(d.container),
                    children: (0, s.jsx)(l.FlexRow, {
                        align: "start",
                        justify: "start",
                        wrap: "wrap",
                        children: e.categories.map((function(n) {
                            return (0, s.jsx)(o.default, {
                                "aria-label": i.fbt._("Unselect category", null, {
                                    hk: "2Swokr"
                                }),
                                onClick: function() {
                                    return e.onRemoveItem(n.id)
                                },
                                label: n.localized_display_name,
                                postfixIcon: t ? void 0 : "round-x-inv",
                                prefixIcon: t ? "round-x-inv" : void 0,
                                xstyle: d.chip
                            }, n.id.toString())
                        }))
                    })
                })
            };
            var r = a(n(94184)),
                i = n(48360),
                o = (a(n(56720)), a(n(8352))),
                l = n(27968),
                u = a(n(45159)),
                s = n(85893),
                d = {
                    container: {
                        paddingTop: "b7n2qyd4",
                        paddingEnd: "iffbo4e8",
                        paddingBottom: "s8gyl5p1",
                        paddingStart: "khscay3k",
                        backgroundColor: "sjyhwr5o",
                        borderTop: "dl47i6rc"
                    },
                    chip: {
                        marginTop: "dj1c3cmq",
                        marginEnd: "bugiwsl0",
                        marginBottom: "mpdn4nr2",
                        marginStart: "svoq16ka"
                    }
                }
        },
        15001: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = (0, v.default)(e.onContinue),
                    n = (0, o.useMemo)((function() {
                        return (0, r.default)(t)
                    }), [t]),
                    a = i.fbt._("", null, {
                        hk: "1ZjYYW"
                    }),
                    x = (0, g.jsx)(h.default, {
                        name: "communities-nux"
                    }),
                    C = i.fbt._("", null, {
                        hk: "4fVDKS"
                    }),
                    y = (0, g.jsx)(h.default, {
                        name: "triple-dots",
                        width: 22,
                        height: 22
                    }),
                    S = i.fbt._("", null, {
                        hk: "2J8MAM"
                    }),
                    b = i.fbt._("", null, {
                        hk: "4fVDKS"
                    }),
                    j = i.fbt._("", null, {
                        hk: "2J8MAM"
                    }),
                    E = (0, g.jsx)(h.default, {
                        name: "announcement-speaker",
                        width: 22,
                        height: 22
                    });
                return (0, g.jsxs)(u.default, {
                    children: [(0, g.jsx)(d.DrawerHeader, {
                        title: i.fbt._("", null, {
                            hk: "GzfEK"
                        }),
                        type: d.DRAWER_HEADER_TYPE.LARGE
                    }), (0, g.jsxs)(s.default, {
                        children: [(0, g.jsxs)(c.default, {
                            animation: !1,
                            className: (0, l.default)(_.main),
                            children: [(0, g.jsx)(f.FlexRow, {
                                align: "center",
                                justify: "center",
                                children: (0, g.jsx)(f.FlexItem, {
                                    xstyle: _.badge,
                                    children: x
                                })
                            }), (0, g.jsx)(f.FlexRow, {
                                align: "center",
                                justify: "center",
                                children: (0, g.jsx)(m.TextHeader, {
                                    xstyle: _.header,
                                    size: "24",
                                    color: "dark",
                                    weight: "bold",
                                    children: a
                                })
                            }), (0, g.jsxs)("div", {
                                className: (0, l.default)(_.infoArea),
                                children: [(0, g.jsx)(f.FlexColumn, {
                                    xstyle: _.iconColumn,
                                    children: y
                                }), (0, g.jsxs)(f.FlexColumn, {
                                    xstyle: _.textArea,
                                    children: [(0, g.jsx)(m.TextHeader, {
                                        theme: "title",
                                        children: C
                                    }), (0, g.jsx)(m.TextParagraph, {
                                        theme: "muted",
                                        xstyle: _.subText,
                                        children: S
                                    })]
                                })]
                            }), (0, g.jsxs)("div", {
                                className: (0, l.default)(_.infoArea),
                                children: [(0, g.jsx)(f.FlexColumn, {
                                    xstyle: _.iconColumn,
                                    children: E
                                }), (0, g.jsxs)(f.FlexColumn, {
                                    xstyle: _.textArea,
                                    children: [(0, g.jsx)(m.TextHeader, {
                                        theme: "title",
                                        children: b
                                    }), (0, g.jsx)(m.TextParagraph, {
                                        theme: "muted",
                                        xstyle: _.subText,
                                        children: j
                                    })]
                                })]
                            })]
                        }), (0, g.jsx)("div", {
                            className: (0, l.default)(_.nextButton),
                            children: (0, g.jsx)(p.Round, {
                                a8nText: "create-group-btn",
                                onClick: n,
                                children: (0, g.jsx)(h.default, {
                                    name: "arrow-forward"
                                })
                            })
                        })]
                    })]
                })
            };
            var r = a(n(51463)),
                i = n(48360),
                o = n(67294),
                l = a(n(56720)),
                u = a(n(53187)),
                s = a(n(18345)),
                d = n(19288),
                c = a(n(46821)),
                f = n(27968),
                p = n(80385),
                h = a(n(7665)),
                m = n(22552),
                v = a(n(3227)),
                g = n(85893),
                _ = {
                    main: {
                        paddingBottom: "lnhl94cj"
                    },
                    nextButton: {
                        zIndex: "b9fczbqn",
                        display: "p357zi0d",
                        justifyContent: "j1p1mz06",
                        paddingBottom: "fwm24tzf",
                        marginTop: "mnhq3yws",
                        textAlign: "qfejxiq4"
                    },
                    badge: {
                        borderTopStartRadius: "boajuire",
                        borderTopEndRadius: "o93wvyfv",
                        borderBottomEndRadius: "i5w8n1e6",
                        borderBottomStartRadius: "cnpay6qi",
                        color: "qiqvuef5",
                        fontSize: "rwfn434h",
                        marginTop: "rek1qe2c",
                        paddingTop: "eujn52yf",
                        paddingEnd: "abxuf49s",
                        paddingBottom: "ckm995li",
                        paddingStart: "mhcwslh8",
                        textTransform: "ofejerhi"
                    },
                    header: {
                        marginTop: "rek1qe2c",
                        marginEnd: "k1jo73ug",
                        marginBottom: "mpdn4nr2",
                        marginStart: "isfiuinm",
                        width: "gha8fw27",
                        textAlign: "qfejxiq4"
                    },
                    infoArea: {
                        display: "p357zi0d",
                        marginTop: "mnhq3yws",
                        marginEnd: "k1jo73ug",
                        marginBottom: "mpdn4nr2",
                        marginStart: "isfiuinm",
                        maxWidth: "dknb6df3"
                    },
                    textArea: {
                        paddingStart: "bmj4fdax"
                    },
                    subText: {
                        paddingTop: "jvpa774f"
                    },
                    iconColumn: {
                        paddingTop: "tspiaou6"
                    }
                }
        },
        88284: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(319)),
                i = a(n(87757)),
                o = a(n(48926)),
                l = a(n(63038)),
                u = a(n(29521)),
                s = a(n(84646)),
                d = a(n(22060)),
                c = a(n(11845)),
                f = a(n(94184)),
                p = n(48360),
                h = n(67294),
                m = a(n(56720)),
                v = n(59566),
                g = n(65901),
                _ = a(n(6080)),
                x = a(n(53187)),
                C = a(n(18345)),
                y = n(19288),
                S = n(75993),
                b = a(n(23803)),
                j = a(n(92546)),
                E = a(n(52336)),
                k = n(26224),
                w = a(n(45159)),
                T = a(n(98232)),
                I = a(n(98755)),
                P = n(80385),
                M = n(96197),
                O = n(85651),
                L = a(n(7665)),
                A = n(44851),
                D = n(22552),
                R = n(92428),
                N = a(n(60806)),
                F = n(85893),
                B = {
                    search: {
                        paddingTop: "mw9hwy0h",
                        paddingEnd: "ixsqo53d",
                        paddingBottom: "ekpn4oxx",
                        paddingStart: "iy3dfvyp",
                        marginTop: "s15egc35",
                        marginEnd: "r67mms0c",
                        marginBottom: "pel5o5rz",
                        marginStart: "m0ig7u5t",
                        backgroundColor: "ihvf49ua"
                    },
                    inputArea: {
                        display: "l7jjieqr",
                        width: "ln8gz9je",
                        height: "bvcnfjzh",
                        paddingTop: "ppypbuwx",
                        paddingEnd: "f9ovudaz",
                        paddingBottom: "s8gyl5p1",
                        paddingStart: "gx1rr48f",
                        marginTop: "tt8xd2xn",
                        marginEnd: "jnwc1y2a",
                        marginBottom: "mpdn4nr2",
                        marginStart: "svoq16ka",
                        fontSize: "bze30y65",
                        lineHeight: "jgi8eev7",
                        color: "mfzfak1c",
                        verticalAlign: "fewfhwl7",
                        backgroundColor: "thr4l2wc",
                        borderTop: "q4zabkcz",
                        borderEnd: "jkanexlp",
                        borderBottom: "thn59n0e",
                        borderStart: "nsmrnv0a",
                        outline: "gk6igrwd"
                    },
                    inputLine: {
                        position: "g0rxnol2",
                        width: "ln8gz9je",
                        minHeight: "g4oj0cdv",
                        maxHeight: "f0mh0h6e",
                        paddingTop: "n1yiu2zv",
                        paddingEnd: "f9ovudaz",
                        paddingBottom: "przvwfww",
                        paddingStart: "mjn2akup",
                        overflowY: "ag5g9lrv",
                        fontSize: "bze30y65",
                        fontWeight: "e1gr2w1z",
                        lineHeight: "htjsae3x",
                        backgroundColor: "thr4l2wc",
                        borderTop: "q4zabkcz",
                        borderEnd: "jkanexlp",
                        borderStart: "nsmrnv0a",
                        borderBottom: "ob9ouq0z",
                        outline: "gk6igrwd",
                        transition: "qbtd8e50"
                    },
                    drawerSection: {
                        zIndex: "b9fczbqn",
                        display: "p357zi0d",
                        justifyContent: "j1p1mz06",
                        paddingBottom: "hjz8m82x",
                        marginTop: "ignnouf6",
                        textAlign: "qfejxiq4"
                    },
                    inputAreaSizer: {
                        position: "snyj76hw",
                        visibility: "kojwoqec"
                    },
                    contacts: {
                        position: "g0rxnol2",
                        flexGrow: "ggj6brxn",
                        flexShrink: "m0h2a7mj",
                        flexBasis: "l07amlnk",
                        overflowX: "gfz4du6o",
                        overflowY: "ag5g9lrv",
                        backgroundColor: "ihvf49ua"
                    },
                    paragraph: {
                        paddingTop: "b8cdf3jl",
                        paddingEnd: "h5uqwbaf",
                        paddingBottom: "q1tx93la",
                        paddingStart: "kjjye8e3",
                        fontSize: "f8jlpxt4",
                        lineHeight: "jgi8eev7",
                        textAlign: "qfejxiq4",
                        color: "pm5hny62",
                        backgroundColor: "ihvf49ua",
                        borderBottom: "daad4uqs"
                    },
                    spinner: {
                        backgroundColor: "ihvf49ua",
                        display: "p357zi0d",
                        justifyContent: "ac2vgrno",
                        paddingTop: "gzqlv4l6",
                        paddingEnd: "f9ovudaz",
                        paddingBottom: "lhcgb2gc",
                        paddingStart: "gx1rr48f"
                    }
                },
                U = (0, h.forwardRef)((function(e) {
                    var t = (0, R.genId)("max_subgroup_toast"),
                        n = (0, v.getABPropConfigValue)("parent_group_link_limit"),
                        a = (0, h.useState)(""),
                        U = (0, l.default)(a, 2),
                        G = U[0],
                        H = U[1],
                        W = (0, h.useState)(e.addedExistingGroups),
                        V = (0, l.default)(W, 2),
                        z = V[0],
                        q = V[1],
                        K = (0, h.useState)([]),
                        Y = (0, l.default)(K, 2),
                        Q = Y[0],
                        X = Y[1],
                        Z = (0, h.useState)(!0),
                        J = (0, l.default)(Z, 2),
                        $ = J[0],
                        ee = J[1],
                        te = (0, h.useRef)(new j.default),
                        ne = (0, h.useRef)(),
                        ae = (0, h.useRef)();
                    (0, h.useEffect)((function() {
                        c.default.focus(ae.current)
                    }));
                    var re = function() {
                        var e = (0, o.default)(i.default.mark((function e() {
                            var t, n;
                            return i.default.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        return ee(!0), e.next = 3, (0, A.syncAndGetAdminedGroups)();
                                    case 3:
                                        t = e.sent, n = t.filter((function(e) {
                                            var t = E.default.get(e.id.toString());
                                            return (null == t ? void 0 : t.groupType) === k.GroupType.DEFAULT
                                        })), X(n), ee(!1);
                                    case 7:
                                    case "end":
                                        return e.stop()
                                }
                            }), e)
                        })));
                        return function() {
                            return e.apply(this, arguments)
                        }
                    }();
                    (0, h.useEffect)((function() {
                        re()
                    }), []);
                    var ie, oe = function() {
                        d.default.shouldIndicateFocus(), c.default.focus(ae.current)
                    };
                    z.length > 0 && (ie = (0, F.jsx)(P.Round, {
                        a8nText: "group-participants-btn",
                        onClick: function() {
                            e.onSubmit(z)
                        },
                        children: (0, F.jsx)(L.default, {
                            name: "arrow-forward",
                            directional: !0
                        })
                    }));
                    var le, ue = function() {
                        var e = (0, u.default)(Q, z, (function(e, t) {
                            return e.id === t.id
                        }));
                        if (!G) return e;
                        var t = w.default.accentFold(G),
                            n = (0, T.default)(t);
                        return e.filter((function(e) {
                            return e.searchMatch(t, n)
                        }))
                    }();
                    return le = 0 === ue.length ? (0, F.jsx)(S.SearchGroups, {}) : (0, F.jsx)(_.default, {
                        ref: ne,
                        flatListController: te.current,
                        contacts: ue,
                        onClick: function(a, i) {
                            ! function(a) {
                                if (z.length + e.newGroupsCount >= n) {
                                    var i = p.fbt._("", null, {
                                        hk: "ZY1JV"
                                    });
                                    g.Cmd.openToast((0, F.jsx)(R.Toast, {
                                        msg: i,
                                        id: t
                                    }))
                                } else q([].concat((0, r.default)(z), [a])), H("")
                            }(i)
                        },
                        onFocusSearch: oe,
                        showPersonGroupDivisionHeader: !0,
                        isCommunityCreation: !0,
                        disabled: z.length + e.newGroupsCount >= n
                    }), (0, F.jsxs)(x.default, {
                        children: [(0, F.jsx)(y.DrawerHeader, {
                            title: p.fbt._("", null, {
                                hk: "2ildtF"
                            }).toString(),
                            type: y.DRAWER_HEADER_TYPE.LARGE,
                            onBack: e.onBack
                        }), (0, F.jsxs)(C.default, {
                            children: [(0, F.jsx)(D.TextParagraph, {
                                xstyle: B.paragraph,
                                children: p.fbt._("", null, {
                                    hk: "3nnXVI"
                                })
                            }), $ ? (0, F.jsx)("div", {
                                className: (0, m.default)(B.spinner),
                                children: (0, F.jsx)(O.Spinner, {})
                            }) : (0, F.jsxs)(F.Fragment, {
                                children: [(0, F.jsx)("div", {
                                    className: (0, m.default)(B.search),
                                    children: (0, F.jsxs)("div", {
                                        className: (0, m.default)(B.inputLine),
                                        children: [(0, F.jsx)("div", {
                                            "data-list-scroll-container": !0,
                                            children: (0, F.jsx)(I.default, {
                                                theme: "list-names",
                                                contacts: z,
                                                onDelete: function(e, t) {
                                                    ! function(e) {
                                                        q(z.filter((function(t) {
                                                            return !e.id.equals(t.id)
                                                        })))
                                                    }(t)
                                                },
                                                onFocusSearch: oe
                                            })
                                        }), (0, F.jsx)("input", {
                                            "data-a8n": s.default.key("inputarea"),
                                            className: (0, f.default)((0, m.default)(B.inputArea), M.SELECTABLE_INPUT_CSS_CLASS),
                                            ref: ae,
                                            placeholder: p.fbt._("", null, {
                                                hk: "5ZAVL"
                                            }),
                                            onChange: function(e) {
                                                return H(e.target.value)
                                            },
                                            value: G,
                                            type: "text"
                                        }), (0, F.jsx)("span", {
                                            className: (0, m.default)(B.inputAreaSizer),
                                            children: G
                                        })]
                                    })
                                }), (0, F.jsx)(b.default, {
                                    className: (0, m.default)(B.contacts),
                                    flatListControllers: [te.current],
                                    children: le
                                })]
                            }), (0, F.jsx)(N.default, {
                                transitionName: "btn",
                                className: (0, m.default)(B.drawerSection),
                                children: ie
                            })]
                        })]
                    })
                }));
            t.default = U
        },
        71115: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(51463)),
                i = a(n(272)),
                o = n(48360),
                l = n(67294),
                u = a(n(56720)),
                s = n(59566),
                d = a(n(51599)),
                c = a(n(88186)),
                f = n(65901),
                p = a(n(86777)),
                h = n(66834),
                m = a(n(53187)),
                v = a(n(18345)),
                g = n(19288),
                _ = a(n(46821)),
                x = n(73568),
                C = a(n(23803)),
                y = a(n(92546)),
                S = a(n(47081)),
                b = a(n(52336)),
                j = n(73454),
                E = a(n(23024)),
                k = n(80385),
                w = a(n(84287)),
                T = a(n(7665)),
                I = a(n(76080)),
                P = a(n(3227)),
                M = n(85893),
                O = {
                    addGroupButton: {
                        paddingBottom: "a15vwmim",
                        marginTop: "o9i7y497"
                    },
                    panelBody: {
                        zIndex: "jnl3jror",
                        display: "p357zi0d",
                        flexDirection: "f8m0rgwh",
                        flexGrow: "ggj6brxn",
                        overflowY: "ag5g9lrv",
                        backgroundColor: "ihvf49ua"
                    },
                    nextButton: {
                        zIndex: "b9fczbqn",
                        display: "p357zi0d",
                        justifyContent: "j1p1mz06",
                        paddingBottom: "hjz8m82x",
                        marginTop: "ignnouf6",
                        textAlign: "qfejxiq4",
                        animationName: "s0bejz76",
                        animationDuration: "oauresqk",
                        animationTimingFunction: "pqvv99ib"
                    },
                    roundIcon: {
                        height: "brqbuz94",
                        width: "nfc7olq2",
                        overflowX: "gfz4du6o",
                        overflowY: "r7fjleex"
                    },
                    announcementIcon: {
                        backgroundColor: "se52eggw"
                    },
                    announcementSpeaker: {
                        color: "q3u0wlip"
                    },
                    groupIcon: {
                        height: "ppled2lx",
                        width: "ln8gz9je"
                    }
                },
                L = (0, M.jsx)(w.default, {
                    children: (0, M.jsx)(T.default, {
                        name: "plus",
                        directional: !0
                    })
                }),
                A = (0, M.jsx)(w.default, {
                    children: (0, M.jsx)(T.default, {
                        name: "link"
                    })
                }),
                D = (0, M.jsx)(w.default, {
                    xstyle: [O.roundIcon, O.announcementIcon],
                    theme: "transparent",
                    children: (0, M.jsx)(T.default, {
                        name: "announcement-speaker",
                        directional: !0,
                        height: 32,
                        width: 32,
                        iconXstyle: O.announcementSpeaker
                    })
                }),
                R = (0, l.forwardRef)((function(e, t) {
                    var n = (0, s.getABPropConfigValue)("parent_group_link_limit"),
                        a = (0, l.useRef)(null),
                        R = (0, l.useRef)(new y.default),
                        N = (0, P.default)(e.onCreateCommunity),
                        F = (0, l.useMemo)((function() {
                            return (0, r.default)((function() {
                                N()
                            }))
                        }), [N]),
                        B = e.groups.map((function(e) {
                            e.subject;
                            var t, n, a = e.icon,
                                r = void 0 === a ? null : a,
                                l = e.id,
                                s = void 0 === l ? null : l,
                                d = e.tempId,
                                c = void 0 === d ? null : d,
                                f = e.participants,
                                p = void 0 === f ? null : f;
                            return null != s ? (t = (0, M.jsx)(h.DetailImage, {
                                id: s
                            }), null != p && (n = (0, S.default)(p))) : (t = null != r ? (0, M.jsx)("img", {
                                src: r,
                                alt: "Group icon",
                                className: (0, u.default)(O.groupIcon)
                            }) : (0, M.jsx)(T.default, {
                                name: "default-group",
                                xstyle: O.groupIcon,
                                className: E.default.defaultGroupIcon
                            }), n = o.fbt._("", null, {
                                hk: "1Q2Jqa"
                            })), {
                                itemKey: (0, i.default)(null != c ? c : null == s ? void 0 : s.toString(), "tempId ?? id?.toString()"),
                                name: e.subject,
                                icon: (0, M.jsx)(w.default, {
                                    xstyle: O.roundIcon,
                                    theme: "transparent",
                                    children: t
                                }),
                                secondary: n
                            }
                        }));
                    B.unshift({
                        itemKey: e.name,
                        name: e.name,
                        icon: D,
                        secondary: o.fbt._("", null, {
                            hk: "21RRQt"
                        })
                    });
                    var U = function() {
                        f.Cmd.openModal((0, M.jsx)(p.default, {
                            onOK: function() {
                                return f.Cmd.closeModal()
                            },
                            children: o.fbt._("", null, {
                                hk: "2i88hJ"
                            })
                        }))
                    };
                    return (0, l.useImperativeHandle)(t, (function() {
                        return {
                            restoreFocus: function() {
                                var e;
                                return null === (e = a.current) || void 0 === e ? void 0 : e.focus()
                            },
                            getElement: function() {
                                return a.current
                            }
                        }
                    })), (0, M.jsxs)(m.default, {
                        children: [(0, M.jsx)(g.DrawerHeader, {
                            title: o.fbt._("", null, {
                                hk: "4xaIXe"
                            }),
                            type: g.DRAWER_HEADER_TYPE.LARGE,
                            onBack: e.onBack
                        }), (0, M.jsxs)(v.default, {
                            children: [(0, M.jsxs)(_.default, {
                                children: [(0, M.jsx)("div", {
                                    "data-list-scroll-offset": !0,
                                    children: (0, M.jsx)("div", {
                                        className: (0, u.default)(O.addGroupButton),
                                        ref: a,
                                        children: (0, M.jsx)(c.default, {
                                            image: L,
                                            primary: o.fbt._("", null, {
                                                hk: "1LoFaq"
                                            }),
                                            onClick: function() {
                                                e.groups.length >= n ? U() : e.onNewGroupFlow()
                                            }
                                        })
                                    })
                                }), (0, M.jsx)("div", {
                                    "data-list-scroll-offset": !0,
                                    children: (0, M.jsx)("div", {
                                        className: (0, u.default)(O.addGroupButton),
                                        children: (0, M.jsx)(c.default, {
                                            image: A,
                                            primary: o.fbt._("", null, {
                                                hk: "1CsADY"
                                            }),
                                            onClick: function() {
                                                if (e.groups.length >= n) U();
                                                else if (null != b.default.findFirst((function(e) {
                                                        return e.participants.iAmAdmin()
                                                    }))) e.onExistingGroupFlow();
                                                else {
                                                    var t = (0, M.jsx)(d.default, {
                                                            type: "secondary",
                                                            onClick: function() {
                                                                return f.Cmd.closeModal()
                                                            },
                                                            children: o.fbt._("Cancel", null, {
                                                                hk: "w74ws"
                                                            })
                                                        }, 0),
                                                        a = (0, M.jsx)(d.default, {
                                                            type: "primary",
                                                            onClick: function() {
                                                                f.Cmd.closeModal(), e.onNewGroupFlow()
                                                            },
                                                            children: o.fbt._("", null, {
                                                                hk: "3Aq8lH"
                                                            })
                                                        }, 1);
                                                    f.Cmd.openModal((0, M.jsx)(j.Modal, {
                                                        actions: [t, a],
                                                        children: (0, M.jsx)("div", {
                                                            children: o.fbt._("", null, {
                                                                hk: "2SsDzN"
                                                            })
                                                        })
                                                    }))
                                                }
                                            }
                                        })
                                    })
                                })]
                            }), (0, M.jsx)(_.default, {
                                title: o.fbt._("", null, {
                                    hk: "uK7K1"
                                }),
                                children: (0, M.jsx)(C.default, {
                                    flatListControllers: [R.current],
                                    className: (0, u.default)(O.panelBody),
                                    id: "pane-side",
                                    children: (0, M.jsx)(x.FlatList, {
                                        flatListController: R.current,
                                        direction: "vertical",
                                        data: B,
                                        renderItem: function(t) {
                                            return t.itemKey === e.name ? (0, M.jsx)(c.default, {
                                                primary: t.name,
                                                image: t.icon,
                                                secondary: t.secondary
                                            }) : (0, M.jsx)(c.default, {
                                                primary: t.name,
                                                image: t.icon,
                                                secondary: t.secondary,
                                                detail: (0, M.jsx)(I.default, {
                                                    onClick: function() {
                                                        return n = t.itemKey, void e.onRemoveGroup(n);
                                                        var n
                                                    },
                                                    children: (0, M.jsx)(T.default, {
                                                        name: "x"
                                                    })
                                                })
                                            })
                                        }
                                    })
                                })
                            }), (0, M.jsx)("div", {
                                className: (0, u.default)(O.nextButton),
                                children: (0, M.jsx)(k.Round, {
                                    a8nText: "create-group-btn",
                                    onClick: F,
                                    children: (0, M.jsx)(T.default, {
                                        name: "arrow-forward"
                                    })
                                })
                            })]
                        })]
                    })
                }));
            t.default = R
        },
        24980: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(63038)),
                i = a(n(51463)),
                o = a(n(84646)),
                l = n(48360),
                u = n(67294),
                s = a(n(56720)),
                d = a(n(53187)),
                c = a(n(18345)),
                f = n(19288),
                p = a(n(46821)),
                h = a(n(96150)),
                m = n(76110),
                v = a(n(49309)),
                g = n(80385),
                _ = n(43890),
                x = a(n(7665)),
                C = n(68544),
                y = a(n(60806)),
                S = n(85893),
                b = {
                    marginTop: "ignnouf6",
                    marginEnd: "bcfko8ch",
                    marginBottom: "bibl1e27",
                    marginStart: "dl2ettod"
                },
                j = {
                    zIndex: "b9fczbqn",
                    display: "p357zi0d",
                    justifyContent: "j1p1mz06",
                    paddingBottom: "hjz8m82x",
                    marginTop: "ignnouf6",
                    textAlign: "qfejxiq4"
                },
                E = (0, u.forwardRef)((function(e, t) {
                    var n, a, E = (0, u.useRef)(null),
                        k = (0, u.useRef)(null),
                        w = (0, u.useState)(null !== (n = e.name) && void 0 !== n ? n : ""),
                        T = (0, r.default)(w, 2),
                        I = T[0],
                        P = T[1],
                        M = (0, u.useState)(null !== (a = e.description) && void 0 !== a ? a : ""),
                        O = (0, r.default)(M, 2),
                        L = O[0],
                        A = O[1],
                        D = (0, u.useState)(e.imgBlob),
                        R = (0, r.default)(D, 2),
                        N = R[0],
                        F = R[1];
                    (0, u.useEffect)((function() {
                        var e;
                        null === (e = E.current) || void 0 === e || e.restoreFocus()
                    }), []);
                    var B = function() {
                        var t = (0, h.default)(I.trim());
                        e.onContinue(t, L, N)
                    };
                    (0, u.useImperativeHandle)(t, (function() {
                        return {
                            restoreFocus: function() {
                                var e;
                                return null === (e = E.current) || void 0 === e ? void 0 : e.restoreFocus()
                            },
                            getElement: function() {
                                return k.current
                            }
                        }
                    }));
                    var U = I.trim().length > 0,
                        G = U ? (0, S.jsx)("div", {
                            className: (0, s.default)(j),
                            children: (0, S.jsx)(g.Round, {
                                a8nText: "create-group-btn",
                                onClick: (0, i.default)(B),
                                children: (0, S.jsx)(x.default, {
                                    name: "arrow-forward"
                                })
                            })
                        }) : null;
                    return (0, S.jsxs)(d.default, {
                        children: [(0, S.jsx)(f.DrawerHeader, {
                            title: l.fbt._("", null, {
                                hk: "GzfEK"
                            }),
                            type: f.DRAWER_HEADER_TYPE.LARGE,
                            onBack: e.onBack
                        }), (0, S.jsxs)(c.default, {
                            children: [(0, S.jsxs)(p.default, {
                                animation: !1,
                                children: [(0, S.jsx)("div", {
                                    className: (0, s.default)(b),
                                    children: (0, S.jsx)(m.PhotoPickerLoadable, {
                                        type: v.default.COMMUNITY,
                                        attachToChat: !1,
                                        startImage: N,
                                        onImageSet: function(e, t) {
                                            F(t)
                                        }
                                    })
                                }), (0, S.jsx)("div", {
                                    "data-a8n": o.default.key("community-subject"),
                                    className: (0, s.default)(b),
                                    ref: k,
                                    children: (0, S.jsx)(C.TextInput, {
                                        ref: function(e) {
                                            E.current = e
                                        },
                                        value: I,
                                        maxLength: 25,
                                        showRemaining: !0,
                                        onChange: function(e) {
                                            P(e)
                                        },
                                        placeholder: l.fbt._("", null, {
                                            hk: "1Yj1bU"
                                        }),
                                        onEnter: U ? (0, i.default)(B) : function() {},
                                        supportsEmoji: !0
                                    })
                                }), (0, S.jsx)("div", {
                                    "data-a8n": o.default.key("community-description"),
                                    className: (0, s.default)(b),
                                    children: (0, S.jsx)(C.TextInput, {
                                        value: L,
                                        maxLength: _.ServerProps.groupDescLength,
                                        showRemaining: !0,
                                        onChange: function(e) {
                                            A(e)
                                        },
                                        placeholder: l.fbt._("", null, {
                                            hk: "2jZNJ7"
                                        }),
                                        onEnter: U ? (0, i.default)(B) : function() {}
                                    })
                                })]
                            }), (0, S.jsx)(y.default, {
                                transitionName: "btn",
                                children: G
                            })]
                        })]
                    })
                }));
            t.default = E
        },
        47081: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.filter((function(e) {
                        return !e.contact.isMe && e.contact.shortName
                    })).slice(0, 3).map((function(e) {
                        return e.contact.shortName
                    })),
                    n = e.length - t.length - 1,
                    a = r.default.t(1020);
                t.length + n < 3 ? t.forEach((function(e, n) {
                    n === t.length - 1 ? a += r.default.t(405) + e : a += r.default.t(407) + e
                })) : a += r.default.t(407) + t.join(r.default.t(407));
                n > 0 && (a += r.default.t(405) + r.default.t(507, {
                    count: n,
                    _plural: n
                }));
                return a
            };
            var r = a(n(45159))
        },
        15201: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(63038)),
                i = a(n(22060)),
                o = a(n(11845)),
                l = n(48360),
                u = n(67294),
                s = a(n(23734)),
                d = a(n(88186)),
                c = n(20050),
                f = a(n(13600)),
                p = a(n(6080)),
                h = a(n(53187)),
                m = a(n(18345)),
                v = n(19288),
                g = n(75993),
                _ = a(n(92546)),
                x = n(2629),
                C = n(32012),
                y = a(n(45159)),
                S = a(n(17094)),
                b = a(n(98232)),
                j = a(n(84287)),
                E = a(n(7665)),
                k = a(n(8995)),
                w = n(85893),
                T = (0, u.forwardRef)((function(e, t) {
                    var n = e.title,
                        a = e.onBack,
                        T = e.onClick,
                        I = e.onNewGroup,
                        P = e.onNewCommunity,
                        M = (0, u.useState)(""),
                        O = (0, r.default)(M, 2),
                        L = O[0],
                        A = O[1],
                        D = (0, u.useRef)(),
                        R = (0, u.useRef)(),
                        N = (0, u.useRef)(),
                        F = (0, u.useMemo)((function() {
                            return c.ContactCollection.frequentContacts("message")
                        }), [c.ContactCollection.length]),
                        B = Boolean(L),
                        U = (0, u.useMemo)((function() {
                            return B ? [] : F
                        }), [B, F]),
                        G = (0, u.useState)((function() {
                            return new _.default
                        })),
                        H = (0, r.default)(G, 1)[0],
                        W = (0, u.useCallback)((function(e) {
                            c.ContactCollection.ensureSorted();
                            var t = "string" == typeof e ? e : L;
                            if (!t) return c.ContactCollection.getFilteredContacts();
                            var n = c.ContactCollection.getFilteredContacts().concat(c.ContactCollection.filter((function(e) {
                                    return e.name && !e.isMe && !e.isPSA && !e.isWAContact
                                }))),
                                a = y.default.accentFold(t),
                                r = (0, b.default)(a);
                            return n.filter((function(e) {
                                return e.searchMatch(a, r)
                            }))
                        }), [L]);
                    (0, u.useEffect)((function() {
                        o.default.focus(D.current)
                    }), []);
                    var V, z, q, K = (0, u.useCallback)((function() {
                            i.default.shouldIndicateFocus(), o.default.focus(D.current)
                        }), []),
                        Y = (0, u.useCallback)((function(e) {
                            var t = R.current;
                            null != t && (e.preventDefault(), e.stopPropagation(), i.default.shouldIndicateFocus(), t.focusFirst())
                        }), []),
                        Q = (0, k.default)((function(e) {
                            return A(e)
                        }), 100),
                        X = (0, u.useCallback)((function(e) {
                            N.current = e, Q(e)
                        }), [Q]),
                        Z = (0, u.useCallback)((function(e) {
                            e.preventDefault(), e.stopPropagation();
                            var t = U[0];
                            if (t) return i.default.shouldIndicateFocus(), void T(e, t);
                            var n = W(N.current)[0];
                            n && (i.default.shouldIndicateFocus(), T(e, n))
                        }), [T, W, U]),
                        J = W();
                    if (V = 0 === J.length ? L ? (0, g.SearchWithKeyword)(L) : (0, g.SearchWithoutKeyword)() : (0, w.jsx)(p.default, {
                            ref: R,
                            contacts: J,
                            flatListController: H,
                            frequentContacts: U,
                            onClick: T,
                            onFocusSearch: K,
                            showPersonGroupDivisionHeader: !!L
                        }), !L) {
                        var $ = (0, w.jsx)(j.default, {
                                children: (0, w.jsx)(E.default, {
                                    name: "default-group",
                                    height: 36,
                                    width: 36,
                                    directional: !0,
                                    className: f.default.defaultGroupIcon
                                })
                            }),
                            ee = (0, w.jsx)(j.default, {
                                children: (0, w.jsx)(E.default, {
                                    name: "community-group",
                                    directional: !0
                                })
                            });
                        z = (0, w.jsx)("div", {
                            "data-list-scroll-offset": !0,
                            children: (0, w.jsxs)("div", {
                                className: f.default.newGroupButton,
                                children: [(0, w.jsx)(d.default, {
                                    image: $,
                                    primary: l.fbt._("New group", null, {
                                        hk: "43A4qP"
                                    }),
                                    onClick: I
                                }), (0, w.jsx)(s.default, {})]
                            })
                        }), q = (0, x.communityCreationEnabled)() ? (0, w.jsx)("div", {
                            "data-list-scroll-offset": !0,
                            children: (0, w.jsxs)("div", {
                                className: f.default.newGroupButton,
                                children: [(0, w.jsx)(d.default, {
                                    image: ee,
                                    primary: l.fbt._("", null, {
                                        hk: "GzfEK"
                                    }),
                                    onClick: P
                                }), (0, w.jsx)(s.default, {})]
                            })
                        }) : null
                    }
                    return (0, w.jsxs)(h.default, {
                        ref: t,
                        children: [(0, w.jsx)(v.DrawerHeader, {
                            title: n,
                            type: v.DRAWER_HEADER_TYPE.LARGE,
                            onBack: a
                        }), (0, w.jsx)(C.HotKeys, {
                            handlers: {
                                down: Y
                            },
                            children: (0, w.jsx)(S.default, {
                                ref: D,
                                onSearch: X,
                                onEnter: Z,
                                placeholder: y.default.t(732)
                            })
                        }), (0, w.jsxs)(m.default, {
                            flatListControllers: [H],
                            children: [z, q, V]
                        })]
                    }, "contact-modal")
                }));
            t.default = T
        },
        54482: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = (0, A.useModelValues)(e.msg, ["id", "star", "type", "isGif", "isViewOnce", "labels", "numTimesForwarded", "isFrequentlyForwarded"]),
                    n = (0, D.default)(),
                    a = (0, M.default)(),
                    B = (0, R.default)(),
                    U = (0, u.useRef)(null),
                    G = (0, u.useRef)(null),
                    H = (0, O.default)((function() {
                        return new y.default.UiAction({
                            uiActionType: y.default.UI_ACTION_TYPE.MSG_INFO_OPEN,
                            uiActionPreloaded: !0
                        })
                    })),
                    W = (0, u.useState)(void 0),
                    V = (0, r.default)(W, 2),
                    z = V[0],
                    q = V[1],
                    K = (0, u.useState)(!1),
                    Y = (0, r.default)(K, 2),
                    Q = Y[0],
                    X = Y[1];
                (0, L.useListener)(null == z ? void 0 : z.played, ["add", "remove"], a), (0, L.useListener)(null == z ? void 0 : z.read, ["add", "remove"], a), (0, L.useListener)(null == z ? void 0 : z.delivery, ["add", "remove"], a), (0, L.useListener)(t, ["remove"], (function(e, t) {
                    t === S.MsgCollection && (null == n || n.uie.requestDismiss())
                })), (0, u.useEffect)((function() {
                    var e;
                    b.MsgInfoCollection.find(t.id).then((function(e) {
                        B.aborted || q(e)
                    })).catch((function() {
                        X(!0), d.Cmd.openToast((0, F.jsx)(P.Toast, {
                            msg: l.fbt._("Couldn't display message info. Try again later.", null, {
                                hk: "mRFf6"
                            }),
                            id: (0, P.genId)("msg_info_failed")
                        }))
                    }));
                    var n = null === (e = U.current) || void 0 === e ? void 0 : e.container;
                    t.type === o.MSG_TYPE.IMAGE && n && (n.scrollTop = n.scrollHeight);
                    var a = H.current;
                    a && (a.markUiActionT(), a.commit(), (0, k.logUiActionShadowPrivateStatsTestEvents)(), H.current = void 0)
                }), []);
                var Z, J, $, ee = function() {
                    var e;
                    return null === (e = G.current) || void 0 === e ? void 0 : e.getMsgComponentRef()
                };
                if (z) {
                    var te, ne, ae, re, ie, oe, le, ue = [],
                        se = t.type === o.MSG_TYPE.PTT;
                    if (se || t.isViewOnce) J = se ? l.fbt._("Seen", null, {
                        hk: "2XnbT5"
                    }) : l.fbt._("Seen", null, {
                        hk: "n9K7N"
                    }), re = z.played.head(), ie = null === (le = re) || void 0 === le ? void 0 : le.t, oe = (0, F.jsx)("span", {
                        className: f.default.icon,
                        children: (0, F.jsx)(I.default, {
                            name: se ? "status-ptt" : "view-once-viewed",
                            className: f.default.statusBlue
                        })
                    }), ue.push((0, F.jsx)(c.default, {
                        title: se ? x.default.t(620) : l.fbt._("Opened", null, {
                            hk: "4lUnhv"
                        }),
                        t: ie,
                        icon: oe
                    }, "played"));
                    re = z.read.head(), ie = null === (te = re) || void 0 === te ? void 0 : te.t, oe = (0, F.jsx)("span", {
                        className: f.default.icon,
                        children: (0, F.jsx)(I.default, {
                            name: "status-dblcheck",
                            className: f.default.ack
                        })
                    }), J = null !== (ne = J) && void 0 !== ne ? ne : x.default.t(622), ue.push((0, F.jsx)(c.default, {
                        title: J,
                        t: ie,
                        icon: oe
                    }, "read")), re = z.delivery.head(), ie = null === (ae = re) || void 0 === ae ? void 0 : ae.t, oe = (0, F.jsx)("span", {
                        className: f.default.icon,
                        children: (0, F.jsx)(I.default, {
                            name: "status-dblcheck"
                        })
                    }), ue.push((0, F.jsx)(c.default, {
                        title: x.default.t(618),
                        t: ie,
                        icon: oe
                    }, "delivery")), !w.ServerProps.hfmStringChanges && t.numTimesForwarded > 0 && !t.isFrequentlyForwarded && ue.push((0, F.jsx)(j.default, {
                        msg: t
                    }, "forward")), Z = (0, F.jsx)(v.default, {
                        theme: "padding",
                        children: ue
                    })
                }
                z || Q || ($ = (0, F.jsx)("div", {
                    className: f.default.spinner,
                    children: (0, F.jsx)(T.Spinner, {
                        size: 50,
                        stroke: 4
                    })
                }, "spinner"));
                var de = null;
                t.labels && t.labels.length > 0 && (0, g.canDisplayLabel)() && (de = (0, F.jsx)(v.default, {
                    theme: "padding",
                    children: (0, F.jsx)(_.default, {
                        labels: t.labels
                    })
                }));
                return (0, F.jsxs)(p.default, {
                    theme: "striped",
                    children: [(0, F.jsx)(m.DrawerHeader, {
                        title: x.default.t(617),
                        type: m.DRAWER_HEADER_TYPE.SMALL,
                        rtlFixIfOnDarwin: !0,
                        onCancel: function() {
                            null == n || n.uie.requestDismiss()
                        }
                    }), (0, F.jsx)(E.default, {
                        ref: U,
                        chatPreference: s.default.assertGet("defaultPreference"),
                        children: (0, F.jsx)(N.Wrapper, {
                            msg: t,
                            ref: G,
                            displayType: i.DISPLAY_TYPE.MSG_INFO,
                            isMsgVisible: function(e) {
                                var n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                                return e === t.id && (!!n || ee())
                            },
                            position: C.MsgPosition.END,
                            onProductClick: e.onProductClick
                        })
                    }), (0, F.jsxs)(h.default, {
                        children: [de, (0, F.jsxs)("div", {
                            className: f.default.body,
                            children: [$, Z]
                        })]
                    })]
                }, "message-info-modal")
            };
            var r = a(n(63038)),
                i = n(44741),
                o = n(40787),
                l = n(48360),
                u = n(67294),
                s = a(n(88549)),
                d = n(65901),
                c = a(n(91884)),
                f = a(n(52697)),
                p = a(n(53187)),
                h = a(n(18345)),
                m = n(19288),
                v = a(n(46821)),
                g = n(2629),
                _ = a(n(16516)),
                x = a(n(45159)),
                C = n(83592),
                y = a(n(50507)),
                S = n(94413),
                b = n(29289),
                j = a(n(76997)),
                E = a(n(80233)),
                k = n(26329),
                w = n(43890),
                T = n(85651),
                I = a(n(7665)),
                P = n(92428),
                M = a(n(57811)),
                O = a(n(39394)),
                L = n(8413),
                A = n(69283),
                D = a(n(93958)),
                R = a(n(1379)),
                N = n(43026),
                F = n(85893)
        },
        34045: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.supportTag,
                    n = e.onSend,
                    a = e.onFailure,
                    I = e.onCancel,
                    P = e.onEmail,
                    M = (0, k.default)(),
                    O = (0, u.useState)(""),
                    L = (0, i.default)(O, 2),
                    A = L[0],
                    D = L[1],
                    R = (0, u.useState)(null),
                    N = (0, i.default)(R, 2),
                    F = N[0],
                    B = N[1],
                    U = (0, u.useState)(!0),
                    G = (0, i.default)(U, 2),
                    H = G[0],
                    W = G[1],
                    V = (0, u.useState)(!1),
                    z = (0, i.default)(V, 2),
                    q = z[0],
                    K = z[1],
                    Y = (0, u.useRef)(null);
                (0, u.useEffect)((function() {
                    var e;
                    null === (e = Y.current) || void 0 === e || e.restoreFocus()
                }), []);
                var Q = function(e) {
                        return e.length >= 10
                    },
                    X = function(e) {
                        e.stopPropagation()
                    },
                    Z = {
                        enter: X
                    };
                q && (Z.esc = X);
                if (g.GK.supportsFeature(g.GK.F.MD_BACKEND)) {
                    var J = "contact-us-include-device";
                    return (0, w.jsx)(f.default, {
                        title: l.fbt._("Contact us", null, {
                            hk: "1FJ2cU"
                        }),
                        okDisabled: !Q(A) || q,
                        okSpinner: q,
                        okText: x.default.t(752),
                        onOK: function() {
                            if (Q(A)) {
                                var e = (0, r.default)((0, r.default)({}, E.UA.parser.getResult()), {}, {
                                    "Device ID": (0, v.assertGetMe)()
                                });
                                t && (e = (0, r.default)((0, r.default)({}, e), {}, {
                                    context: t
                                }));
                                var i = H ? JSON.stringify(e) : void 0;
                                K(!0), null == n || n({
                                    description: A
                                }), __LOG__(2)`InAppSupport: Sending support request with deviceInfo=${H}:${null!=i?i:"n/a"}`, (0, C.default)((0, y.sendSupportRequest)(A, i), M).then((function(e) {
                                    null != e.message ? (c.Cmd.closeModal(), c.Cmd.openToast((0, w.jsx)(j.Toast, {
                                        msg: l.fbt._("Your question has been sent to WhatsApp Support. We'll respond in a WhatsApp chat shortly.", null, {
                                            hk: "2wt947"
                                        }),
                                        id: (0, j.genId)()
                                    }))) : a && a({
                                        description: A
                                    })
                                })).catch((0, o.catchAbort)((function() {}))).finally((function() {
                                    K(!1)
                                }))
                            } else B(x.default.t(763))
                        },
                        onCancel: q ? void 0 : function() {
                            null == I || I(), c.Cmd.closeModal()
                        },
                        children: (0, w.jsx)(_.HotKeys, {
                            handlers: Z,
                            children: (0, w.jsxs)(m.FlexColumn, {
                                align: "stretch",
                                children: [(0, w.jsx)(b.TextInput, {
                                    error: F,
                                    maxLength: 5e3,
                                    onChange: function(e) {
                                        D(e)
                                    },
                                    placeholder: l.fbt._("Tell us how we can help", null, {
                                        hk: "1R8W3F"
                                    }),
                                    ref: Y,
                                    value: A
                                }), (0, w.jsx)(m.FlexItem, {
                                    xstyle: T.deviceInfo,
                                    grow: 1,
                                    children: (0, w.jsx)(S.TextParagraph, {
                                        theme: "muted-small",
                                        children: l.fbt._("Include device information? (optional)", null, {
                                            hk: "1nGqHl"
                                        })
                                    })
                                }), (0, w.jsxs)(m.FlexRow, {
                                    children: [(0, w.jsx)(m.FlexItem, {
                                        xstyle: T.deviceInfoLabel,
                                        grow: 1,
                                        children: (0, w.jsx)("label", {
                                            htmlFor: J,
                                            children: (0, w.jsxs)(S.TextParagraph, {
                                                theme: "plain",
                                                children: [l.fbt._("Technical details like your model and settings can help us answer your question.", null, {
                                                    hk: "1Edwn1"
                                                }), " ", (0, w.jsx)(p.ExternalLink, {
                                                    href: (0, h.getSupportChatFaqUrl)(),
                                                    children: x.default.t(554)
                                                })]
                                            })
                                        })
                                    }), (0, w.jsx)(m.FlexItem, {
                                        xstyle: T.deviceInfoCheckbox,
                                        grow: 0,
                                        children: (0, w.jsx)(s.CheckBox, {
                                            checked: H,
                                            id: J,
                                            onChange: function() {
                                                W(!H)
                                            }
                                        })
                                    })]
                                }), (0, w.jsx)(m.FlexRow, {
                                    children: (0, w.jsx)(m.FlexItem, {
                                        xstyle: T.emailLink,
                                        grow: 1,
                                        children: (0, w.jsx)(d.default, {
                                            onClick: function() {
                                                P && (c.Cmd.closeModal(), P({
                                                    description: A
                                                }))
                                            },
                                            children: l.fbt._("Get support via email", null, {
                                                hk: "3vajRd"
                                            })
                                        })
                                    })
                                })]
                            })
                        })
                    })
                }
                return (0, w.jsx)(f.default, {
                    okText: l.fbt._("OK", null, {
                        hk: "2KEeHb"
                    }),
                    onOK: function() {
                        return c.Cmd.closeModal()
                    },
                    title: l.fbt._("Contact us", null, {
                        hk: "1FJ2cU"
                    }),
                    children: (0, w.jsx)(S.TextParagraph, {
                        theme: "plain",
                        children: l.fbt._("The support request form is not yet available for desktop. Use your phone to submit it.", null, {
                            hk: "2Jk5Da"
                        })
                    })
                })
            };
            var r = a(n(81109)),
                i = a(n(63038)),
                o = n(396),
                l = n(48360),
                u = n(67294),
                s = (a(n(56720)), n(91404)),
                d = a(n(81288)),
                c = n(65901),
                f = a(n(86777)),
                p = n(49012),
                h = n(29281),
                m = n(27968),
                v = n(1577),
                g = n(38032),
                _ = n(32012),
                x = a(n(45159)),
                C = a(n(27003)),
                y = n(4049),
                S = n(22552),
                b = n(68544),
                j = n(92428),
                E = n(692),
                k = a(n(1379)),
                w = n(85893),
                T = {
                    deviceInfo: {
                        marginBottom: "t4zgqcuo",
                        marginTop: "opp68qpq"
                    },
                    deviceInfoCheckbox: {
                        minWidth: "r7yn1a4o"
                    },
                    deviceInfoLabel: {
                        paddingEnd: "l9g3jx6n"
                    },
                    emailLink: {
                        marginTop: "opp68qpq"
                    }
                }
        },
        8681: (e, t, n) => {
            "use strict";
            var a = n(21314).default,
                r = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function() {
                var e = (0, h.default)(),
                    t = (0, u.useState)(!1),
                    n = (0, i.default)(t, 2),
                    r = n[0],
                    c = n[1];
                (0, u.useEffect)((function() {
                    (0, p.default)(a.resolve(v.isEnabled()), e).then((function(e) {
                        c(e)
                    })).catch((0, o.catchAbort)((function() {}))).catch((function(e) {
                        __LOG__(3)`Unknown error while getting initial auto launch settings, ${String(e)}`
                    }))
                }), []);
                var g = function() {
                    var t = !r,
                        n = t ? v.enable() : v.disable();
                    (0, p.default)(a.resolve(n), e).then((function() {
                        c(t)
                    })).catch((0, o.catchAbort)((function() {})))
                };
                return (0, m.jsx)("div", {
                    className: d.default.container,
                    children: (0, m.jsxs)("div", {
                        className: d.default.section,
                        onClick: g,
                        children: [(0, m.jsx)("div", {
                            "data-a8n": l.default.key("menu-icon-auto-launch"),
                            className: d.default.control,
                            children: (0, m.jsx)(s.CheckBox, {
                                onChange: g,
                                checked: r
                            })
                        }), (0, m.jsx)("div", {
                            className: d.default.label,
                            children: f.default.t(690)
                        })]
                    })
                })
            };
            var i = r(n(63038)),
                o = n(396),
                l = r(n(84646)),
                u = n(67294),
                s = n(91404),
                d = r(n(61043)),
                c = r(n(17847)),
                f = r(n(45159)),
                p = r(n(27003)),
                h = r(n(1379)),
                m = n(85893),
                v = c.default.require("AutoLauncher")
        },
        55315: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(8681)),
                i = a(n(53187)),
                o = a(n(18345)),
                l = n(19288),
                u = a(n(45159)),
                s = n(85893),
                d = function(e) {
                    var t = e.onClose;
                    return (0, s.jsxs)(i.default, {
                        children: [(0, s.jsx)(l.DrawerHeader, {
                            a8n: "drawer-title-desktop-settings",
                            title: u.default.t(381),
                            onBack: t,
                            type: l.DRAWER_HEADER_TYPE.LARGE
                        }), (0, s.jsx)(o.default, {
                            children: (0, s.jsx)(r.default, {})
                        })]
                    })
                };
            t.default = d
        },
        26004: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(63038)),
                i = n(48360),
                o = n(10399),
                l = n(65901),
                u = n(2629),
                s = a(n(45159)),
                d = n(66821),
                c = n(79348),
                f = n(68220),
                p = n(22552),
                h = n(69283),
                m = a(n(42787)),
                v = n(85893),
                g = function(e) {
                    var t, n = (0, h.useModelValues)(e.mute, ["isMuted", "expiration", "isCallMuted", "callExpiration"]),
                        a = (0, h.useModelValues)(e.reactionsMute, ["isMuted", "expiration", "isCallMuted", "callExpiration"]),
                        g = (0, m.default)((function() {
                            return d.MuteCollection.getGlobalNotifications()
                        }), (function(e) {
                            return d.MuteCollection.setGlobalNotifications(e)
                        })),
                        _ = (0, r.default)(g, 2),
                        x = _[0],
                        C = _[1],
                        y = (0, m.default)((function() {
                            return d.MuteCollection.getOutgoingMessageSound()
                        }), (function(e) {
                            return d.MuteCollection.setOutgoingMessageSound(e)
                        })),
                        S = (0, r.default)(y, 2),
                        b = (S[0], S[1], (0, m.default)((function() {
                            return d.MuteCollection.getGlobalSounds()
                        }), (function(e) {
                            return d.MuteCollection.setGlobalSounds(e)
                        }))),
                        j = (0, r.default)(b, 2),
                        E = j[0],
                        k = j[1],
                        w = (0, m.default)((function() {
                            return d.MuteCollection.getGlobalCallRingtone()
                        }), (function(e) {
                            return d.MuteCollection.setGlobalCallRingtone(e)
                        })),
                        T = (0, r.default)(w, 2),
                        I = T[0],
                        P = T[1],
                        M = (0, m.default)((function() {
                            return d.MuteCollection.getGlobalPreviews()
                        }), (function(e) {
                            return d.MuteCollection.setGlobalPreviews(e)
                        })),
                        O = (0, r.default)(M, 2),
                        L = O[0],
                        A = O[1],
                        D = (0, m.default)((function() {
                            return d.MuteCollection.getCollapseMuted()
                        }), (function(e) {
                            return d.MuteCollection.setCollapseMuted(e)
                        })),
                        R = (0, r.default)(D, 2),
                        N = (R[0], R[1], []);
                    window.Notification && (N.push((0, v.jsx)(c.SettingsCheckListItem, {
                        a8nText: "option-desktop-notifications",
                        id: "desktop-notifications",
                        checked: x,
                        onChange: C,
                        children: s.default.t(691)
                    }, 0)), N.push((0, v.jsxs)(c.SettingsCheckListItem, {
                        a8nText: "options-msg-previews",
                        disabled: !x,
                        id: "msg-previews",
                        checked: L,
                        onChange: A,
                        children: [s.default.t(692), (0, v.jsx)(p.TextDiv, {
                            theme: "muted",
                            children: s.default.t(693)
                        })]
                    }, 1)));
                    var F = n.expiration,
                        B = n.callExpiration,
                        U = n.isMuted,
                        G = n.isCallMuted;
                    if ((0, u.receiveReactionsEnabled)()) {
                        var H = a.expiration,
                            W = a.isMuted;
                        t = (0, v.jsxs)(c.SettingsCheckListItem, {
                            a8nText: "option-reactions-mute-desktop-notifications",
                            id: "reactions-mute-desktop-notifications",
                            checked: W,
                            onChange: function() {
                                l.Cmd.muteAll((0, f.unproxy)(a), !a.isMuted, !0)
                            },
                            children: [i.fbt._("Turn off all reactions notifications", null, {
                                hk: "34XbQa"
                            }), W && null != H ? (0, v.jsx)(p.TextDiv, {
                                theme: "muted",
                                children: o.Clock.untilStr(H)
                            }) : null]
                        })
                    }
                    var V = (0, v.jsx)(c.SettingsCheckListItem, {
                            a8nText: "option-call-ringtone",
                            id: "call-ringtone",
                            checked: I,
                            onChange: P,
                            children: i.fbt._("Incoming Call Ringtone", null, {
                                hk: "3BWlOo"
                            })
                        }),
                        z = (0, v.jsxs)(c.SettingsCheckListItem, {
                            a8nText: "option-mute-desktop-call-notifications",
                            id: "mute-desktop-call-notifications",
                            checked: G,
                            onChange: function() {
                                l.Cmd.muteAllCall((0, f.unproxy)(n), !n.isCallMuted)
                            },
                            children: [i.fbt._("Turn off all desktop incoming calls", null, {
                                hk: "4yasC9"
                            }), G && null != B ? (0, v.jsx)(p.TextDiv, {
                                theme: "muted",
                                children: o.Clock.untilStr(B)
                            }) : null]
                        });
                    return (0, v.jsxs)(c.SettingsCheckList, {
                        children: [(0, v.jsx)(c.SettingsCheckListItem, {
                            a8nText: "option-sounds",
                            id: "sounds",
                            checked: E,
                            onChange: k,
                            children: s.default.t(694)
                        }), undefined, undefined, N, undefined, t, (0, v.jsxs)(c.SettingsCheckListItem, {
                            a8nText: "option-mute-desktop-notifications",
                            id: "mute-desktop-notifications",
                            checked: U,
                            onChange: function() {
                                l.Cmd.muteAll((0, f.unproxy)(n), !n.isMuted, !1)
                            },
                            children: [i.fbt._("Turn off all desktop notifications", null, {
                                hk: "JXF2W"
                            }), U && null != F ? (0, v.jsx)(p.TextDiv, {
                                theme: "muted",
                                children: o.Clock.untilStr(F)
                            }) : null]
                        }), V, z]
                    })
                };
            t.default = g
        },
        19868: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function() {
                return (0, o.jsx)("div", {
                    className: i.default.dropOverlay,
                    children: (0, o.jsx)("div", {
                        className: i.default.dropOverlayOutline,
                        children: r.fbt._("Drag file here", null, {
                            hk: "y9aHs"
                        })
                    })
                }, "container")
            };
            var r = n(48360),
                i = a(n(17731)),
                o = n(85893)
        },
        76722: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.rootRef,
                    n = e.disabled,
                    a = e.onClick,
                    f = e.children,
                    p = function(e) {
                        var t = (0, i.useState)(),
                            n = (0, r.default)(t, 2),
                            a = n[0],
                            o = n[1],
                            l = (0, i.useState)(),
                            u = (0, r.default)(l, 2),
                            d = u[0],
                            c = u[1],
                            f = (0, s.default)({
                                root: e,
                                rootMargin: null != a ? `-${a.offsetHeight}px` : void 0
                            }),
                            p = (0, r.default)(f, 2),
                            h = p[0],
                            m = p[1].isIntersecting;
                        return (0, i.useEffect)((function() {
                            if (null != e && null != a && null != d) {
                                if (m) a.style.removeProperty("right");
                                else {
                                    var t = e.offsetWidth - (e.clientWidth + 2 * e.clientLeft);
                                    a.style.setProperty("right", `${t}px`)
                                }
                                d.style.setProperty("min-height", `${a.offsetHeight}px`)
                            }
                        }), [m, e, a, d]), [m, function(e) {
                            h(e), c(e)
                        }, o]
                    }(t),
                    h = (0, r.default)(p, 3),
                    m = h[0],
                    v = h[1],
                    g = h[2];
                return (0, d.jsx)("div", {
                    ref: v,
                    className: (0, o.default)(c.ctaPlaceholder),
                    children: (0, d.jsx)(u.default, {
                        onRef: g,
                        xstyle: [m ? null : c.ctaContainerSticky],
                        theme: "sticky-button-section",
                        children: (0, d.jsx)(l.default, {
                            type: "primary",
                            onClick: a,
                            disabled: n,
                            className: (0, o.default)(c.ctaButton),
                            children: f
                        })
                    })
                })
            };
            var r = a(n(63038)),
                i = n(67294),
                o = a(n(56720)),
                l = a(n(51599)),
                u = a(n(46821)),
                s = a(n(99629)),
                d = n(85893),
                c = {
                    ctaContainerSticky: {
                        position: "ly2gu7o9",
                        bottom: "jxacihee",
                        left: "tukmaf4q",
                        boxShadow: "th8ck7tu"
                    },
                    ctaButton: {
                        display: "f804f6gw",
                        marginBottom: "pel5o5rz"
                    },
                    ctaPlaceholder: {
                        marginBottom: "brac1wpa"
                    }
                }
        },
        37261: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.E2EChangeModal = function(e) {
                var t = (0, u.useModelValues)(e.contact, ["formattedShortName"]),
                    n = r.fbt._("OK", null, {
                        hk: "2KEeHb"
                    }),
                    a = t.formattedShortName,
                    d = l.default.t(941, {
                        contactName: a
                    }),
                    c = l.default.t(940, {
                        contactName: a
                    });
                return (0, s.jsx)(o.default, {
                    title: d,
                    onOK: function() {
                        return i.Cmd.closeModal()
                    },
                    okText: n,
                    children: c
                })
            };
            var r = n(48360),
                i = n(65901),
                o = a(n(86777)),
                l = a(n(45159)),
                u = n(69283),
                s = n(85893)
        },
        5847: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.EditImageDrawer = function(e) {
                var t, n = e.attributionUrl,
                    a = e.onRetake,
                    T = e.retryText,
                    I = e.onFinished,
                    P = (0, S.default)(),
                    M = (0, o.useRef)(),
                    O = (0, o.useRef)(null),
                    L = (0, b.default)((function() {
                        return new m.default
                    })),
                    A = (0, o.useState)(!1),
                    D = (0, r.default)(A, 2),
                    R = D[0],
                    N = D[1],
                    F = (0, o.useState)({
                        width: 500,
                        height: 361
                    }),
                    B = (0, r.default)(F, 2),
                    U = B[0],
                    G = B[1],
                    H = (0, o.useState)((function() {
                        return new c.default(e.img)
                    })),
                    W = (0, r.default)(H, 1)[0];
                (0, j.useListener)(L.current, "change:isInitialized", (function() {
                    P()
                }));
                var V, z = R ? (0, k.jsx)("div", {
                    className: d.default.btnSend,
                    children: (0, k.jsx)(_.Round, {
                        large: !0,
                        onClick: function() {
                            var e, t;
                            null === (t = M.current) || void 0 === t || t.saveCanvas(), null === (e = O.current) || void 0 === e || e.crop().then((function(e) {
                                var t = e.thumb,
                                    n = e.full;
                                I(t, n), W.cleanUp()
                            }))
                        },
                        children: (0, k.jsx)(x.default, {
                            name: "checkmark-large"
                        })
                    })
                }, "btn-send") : null;
                L.current.isInitialized && (V = (0, k.jsx)(g.default, {
                    editedMedia: W,
                    stage: L.current.stage,
                    cropOverlay: L.current.cropOverlay,
                    mediaContainer: L.current.mediaContainer,
                    drawCanvas: function(e, t) {
                        var n;
                        null === (n = M.current) || void 0 === n || n.drawCanvas(e, t)
                    },
                    ref: O
                }));
                var q, K = (0, k.jsx)(h.default, {
                    className: d.default.mediaElement,
                    editedMedia: W,
                    mediaEditController: L.current,
                    fitType: "cover",
                    ref: M
                });
                if (a) {
                    var Y;
                    switch (T) {
                        case w.NONE:
                            Y = null;
                            break;
                        case w.RETAKE:
                            Y = i.fbt._("Retake", null, {
                                hk: "tGeQz"
                            });
                            break;
                        case w.RESTART:
                        default:
                            Y = i.fbt._("Upload", null, {
                                hk: "3FMQvb"
                            })
                    }
                    q = (0, k.jsxs)("button", {
                        className: d.default.retake,
                        onClick: a,
                        children: [(0, k.jsx)("div", {
                            className: d.default.retakeIcon,
                            children: (0, k.jsx)(x.default, {
                                name: "return"
                            })
                        }), Y]
                    })
                }
                var Q = n ? (0, k.jsxs)("div", {
                        className: d.default.attribution,
                        children: [(0, k.jsx)(f.ExternalLink, {
                            className: d.default.attributionLink,
                            href: n,
                            children: y.URL.hostname(n)
                        }), (0, k.jsxs)("span", {
                            children: [i.fbt._("Image may be subject to copyright.", null, {
                                hk: "XoHv1"
                            }), (0, k.jsx)(f.ExternalLink, {
                                href: (0, C.getTosUrl)(),
                                children: i.fbt._("Terms of Service", null, {
                                    hk: "1Lpm6J"
                                })
                            })]
                        })]
                    }) : null,
                    X = (0, k.jsxs)("div", {
                        className: d.default.footer,
                        children: [(0, k.jsx)(E.default, {
                            transitionName: "btn",
                            children: z
                        }), Q]
                    }),
                    Z = null !== (t = e.imageSize) && void 0 !== t ? t : {
                        width: 500,
                        height: 361
                    };
                return (0, k.jsxs)(l.default, {
                    theme: "edit",
                    children: [(0, k.jsx)(s.DrawerHeader, {
                        title: p.default.t(140),
                        type: "offset",
                        onCancel: e.onCancel,
                        children: q
                    }), (0, k.jsxs)(u.default, {
                        overflow: "hidden",
                        children: [(0, k.jsxs)("div", {
                            className: d.default.mediaBody,
                            children: [V, (0, k.jsx)("div", {
                                className: d.default.containerBackground,
                                children: (0, k.jsx)(E.default, {
                                    transitionName: "capture",
                                    children: (0, k.jsx)(v.default, {
                                        type: "cover",
                                        size: Z,
                                        onObjectLoad: function(e) {
                                            null != e && e instanceof HTMLElement && (!U || U.width === e.clientWidth && U.height === e.clientHeight || G({
                                                width: e.clientWidth,
                                                height: e.clientHeight
                                            }), R || N(!0))
                                        },
                                        children: K
                                    })
                                })
                            })]
                        }), X]
                    })]
                }, "attach-edit-modal")
            }, t.RETRY_OPTIONS = void 0;
            var r = a(n(63038)),
                i = n(48360),
                o = n(67294),
                l = a(n(53187)),
                u = a(n(18345)),
                s = n(19288),
                d = a(n(37783)),
                c = a(n(43620)),
                f = n(49012),
                p = a(n(45159)),
                h = a(n(29418)),
                m = a(n(21782)),
                v = a(n(58497)),
                g = a(n(9319)),
                _ = n(80385),
                x = a(n(7665)),
                C = n(98110),
                y = n(29034),
                S = a(n(57811)),
                b = a(n(39394)),
                j = n(8413),
                E = a(n(60806)),
                k = n(85893),
                w = {
                    NONE: "none",
                    RETAKE: "retake",
                    RESTART: "restart"
                };
            t.RETRY_OPTIONS = w
        },
        43620: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(82492)),
                o = n(50157),
                l = n(29034);
            t.default = function e(t, n, a, u) {
                var s = this;
                (0, r.default)(this, e), this.updateEditData = function(e) {
                    s.saveEdits(), s.editData = (0, i.default)({}, s.editData, e)
                }, this.updateEditItems = function(e, t) {
                    s.saveEdits();
                    var n = [];
                    s.editData.items && s.editData.items.forEach((function(e) {
                        e !== t && n.push(e)
                    })), n.push(e), s.editData.items = n
                }, this.saveEdits = function() {
                    var t = new e(s.media, s.originalImage, s.editData, s.previous);
                    s.previous = t
                }, this.revertEdit = function() {
                    s.previous && (s.editData = s.previous.editData, s.previous = s.previous.previous)
                }, this.saveEditsFromCanvas = function(e) {
                    var t = e.toDataURL();
                    s.editedImage || (s.editedImage = new Image), s.editedImage.src = t
                }, this.exportEditedMedia = function() {
                    if (s.hasEdits() && s.editedImage) {
                        var e = s.editedImage.src;
                        return l.URL.dataURLtoFile(e)
                    }
                    return s.media instanceof File ? s.media : (0, o.createFile)([s.media], "", {
                        type: s.media.type
                    })
                }, this.hasEdits = function() {
                    return !!s.previous && s.editedImage
                }, this.cleanUp = function() {
                    window.URL.revokeObjectURL(s.originalImage.src)
                }, this.media = t, n ? this.originalImage = n : (this.originalImage = new Image, this.originalImage.src = window.URL.createObjectURL(t)), this.previous = u, this.editData = {
                    height: 0,
                    width: 0,
                    offsetX: 0,
                    offsetY: 0,
                    rotation: 0,
                    scale: 1,
                    items: [],
                    baseItem: null
                }, (0, i.default)(this.editData, a)
            }
        },
        29418: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(319)),
                i = a(n(63038)),
                o = n(4710),
                l = n(8587),
                u = n(67294),
                s = a(n(88805)),
                d = a(n(58497)),
                c = a(n(6220)),
                f = a(n(74740)),
                p = n(85893);

            function h(e, t) {
                var n = e.mediaEditController,
                    a = e.editedMedia,
                    h = e.mediaPickerStatsLogger,
                    m = e.activeMediaId,
                    v = (0, u.useRef)(null),
                    g = (0, u.useRef)(null),
                    _ = (0, u.useRef)(null),
                    x = (0, u.useRef)(null),
                    C = (0, u.useState)({
                        height: 1,
                        width: 1
                    }),
                    y = (0, i.default)(C, 2),
                    S = y[0],
                    b = y[1],
                    j = (0, u.useState)(null),
                    E = (0, i.default)(j, 2),
                    k = E[0],
                    w = E[1],
                    T = (0, u.useState)(null),
                    I = (0, i.default)(T, 2),
                    P = (I[0], I[1]),
                    M = function(e, t) {
                        if (v.current) {
                            var i = v.current;
                            t && h && h.logChange(m || -1, t);
                            var u = a.editData,
                                s = function(e) {
                                    var t;
                                    return k ? t = k : (t = new o.Easel.Stage(e)).enableMouseOver(), n.stage = t, t
                                }(i);
                            e && (i.width = u.width, i.height = u.height), s.removeAllChildren(), null != u.baseItem && s.addChild(u.baseItem), u.items && s.addChild.apply(s, (0, r.default)(u.items));
                            var d = a.originalImage.naturalWidth,
                                c = a.originalImage.naturalHeight;
                            s.regX = d / 2, s.regY = c / 2, s.rotation = u.rotation, (0, l.isNonZeroNumber)(u.width) && (0, l.isNonZeroNumber)(u.height) && (s.x = u.width / 2 + u.scale * u.offsetX, s.y = u.height / 2 + u.scale * u.offsetY), s.scaleX = u.scale, s.scaleY = u.scale, s.update(), b({
                                width: i.width,
                                height: i.height
                            }), w(s)
                        }
                    },
                    O = function() {
                        var e = a.editData;
                        a.editedImage = null;
                        var t = a.originalImage;
                        if (e.width || e.height || (e.width = t.naturalWidth, e.height = t.naturalHeight), !e.baseItem) {
                            var n = new o.Easel.Bitmap(t);
                            e.baseItem = n
                        }
                        M(!0)
                    },
                    L = function() {
                        M(!0);
                        var e = v.current;
                        e && a.saveEditsFromCanvas(e)
                    },
                    A = function(e) {
                        e && (e.children.forEach((function(e) {
                            e.removeAllEventListeners()
                        })), e.removeAllEventListeners(), e.removeAllChildren(), e.enableMouseOver(0), e.clear())
                    };
                (0, u.useEffect)((function() {
                    var e;
                    (e = a.originalImage).complete ? O() : e.onload = O, P(g.current), x.current = new o.Easel.Stage(_.current), x.current.autoClear = !1, x.current.enableMouseOver(), g.current && (n.mediaContainer = g.current), n.cropOverlay = x.current
                }), []), (0, f.default)((function() {
                    var e = a.originalImage;
                    e.complete || (e.onload = void 0), L(), A(k), A(x.current)
                }));
                var D = function(e, t) {
                    b({
                        width: e,
                        height: t
                    })
                };
                (0, u.useImperativeHandle)(t, (function() {
                    return {
                        saveCanvas: L,
                        drawCanvas: M,
                        updateCanvasSize: D
                    }
                }));
                var R = (0, p.jsx)("canvas", {
                    ref: _,
                    className: s.default.cropOverlay
                });
                return (0, p.jsx)("div", {
                    className: e.className,
                    ref: g,
                    children: (0, p.jsxs)(d.default, {
                        type: e.fitType || "scaleDown",
                        size: S,
                        children: [R, (0, p.jsx)(c.default, {
                            ref: v,
                            className: s.default.mediaViewerImg
                        })]
                    })
                })
            }
            var m = (0, u.forwardRef)(h);
            t.default = m
        },
        21782: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(93913)),
                o = a(n(2205)),
                l = a(n(99842)),
                u = n(64287),
                s = function(e) {
                    (0, o.default)(n, e);
                    var t = (0, l.default)(n);

                    function n() {
                        var e;
                        (0, r.default)(this, n);
                        for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++) i[o] = arguments[o];
                        return (e = t.call.apply(t, [this].concat(i))).stage = (0, u.prop)(), e.cropOverlay = (0, u.prop)(), e.mediaContainer = (0, u.prop)(), e.isInitialized = (0, u.derived)(e._isInitialized, ["stage", "cropOverlay", "mediaContainer"]), e
                    }
                    return (0, i.default)(n, [{
                        key: "_isInitialized",
                        value: function() {
                            return !!this.stage && !!this.cropOverlay && !!this.mediaContainer
                        }
                    }, {
                        key: "clearStage",
                        value: function(e) {
                            e && (e.children.forEach((function(e) {
                                e.removeAllEventListeners()
                            })), e.removeAllEventListeners(), e.removeAllChildren(), e.clear())
                        }
                    }]), n
                }(u.BaseModel),
                d = (0, u.defineModel)(s);
            t.default = d
        },
        85493: (e, t) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.PROF_PIC_THUMB_SIDE = t.PROF_PIC_MIN_SIDE = t.PROF_PIC_MAX_SIDE = void 0;
            t.PROF_PIC_MIN_SIDE = 192;
            t.PROF_PIC_MAX_SIDE = 640;
            t.PROF_PIC_THUMB_SIDE = 96
        },
        9319: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(87757)),
                i = a(n(48926)),
                o = n(4710),
                l = n(67294),
                u = function(e, t) {
                    if (!t && e && e.__esModule) return e;
                    if (null === e || "object" != typeof e && "function" != typeof e) return {
                        default: e
                    };
                    var n = h(t);
                    if (n && n.has(e)) return n.get(e);
                    var a = {},
                        r = Object.defineProperty && Object.getOwnPropertyDescriptor;
                    for (var i in e)
                        if ("default" !== i && Object.prototype.hasOwnProperty.call(e, i)) {
                            var o = r ? Object.getOwnPropertyDescriptor(e, i) : null;
                            o && (o.get || o.set) ? Object.defineProperty(a, i, o) : a[i] = e[i]
                        } a.default = e, n && n.set(e, a);
                    return a
                }(n(19829)),
                s = n(85493),
                d = a(n(27)),
                c = a(n(7665)),
                f = n(8413),
                p = n(85893);

            function h(e) {
                if ("function" != typeof WeakMap) return null;
                var t = new WeakMap,
                    n = new WeakMap;
                return (h = function(e) {
                    return e ? n : t
                })(e)
            }
            var m = 1.1;

            function v(e, t) {
                var n = e.editedMedia,
                    a = e.cropOverlay,
                    h = e.drawCanvas,
                    v = (0, l.useRef)(0),
                    g = function(e) {
                        var t = v.current,
                            a = n.editData,
                            r = Math.max(2 * t / a.width, 2 * t / a.height),
                            i = Math.max(e, r);
                        if (a.width * e < t || a.height * e < t) return !1;
                        var o = -t / i + a.width / 2,
                            l = t / i - a.width / 2,
                            u = -t / i + a.height / 2,
                            s = t / i - a.height / 2;
                        return {
                            scale: i,
                            offsetX: Math.min(Math.max(a.offsetX, l), o),
                            offsetY: Math.min(Math.max(a.offsetY, s), u)
                        }
                    },
                    _ = function() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : m,
                            t = n.editData,
                            a = 0 !== e ? e : m,
                            r = g(t.scale * a);
                        r && (t.scale = r.scale, t.offsetX = r.offsetX, t.offsetY = r.offsetY, h())
                    },
                    x = function() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : m,
                            t = n.editData,
                            a = 0 !== e ? e : m,
                            r = g(t.scale / a);
                        r && (t.scale = r.scale, t.offsetX = r.offsetX, t.offsetY = r.offsetY, h())
                    };
                (0, f.useListener)(a.canvas, "mousewheel", (function(e) {
                    e.deltaY > 0 ? _(1.02) : x(1.02)
                }));
                var C = function(e, t) {
                    var a = n.editData,
                        r = e.stageX - t.x,
                        i = e.stageY - t.y,
                        o = a.offsetX + r / a.scale,
                        l = a.offsetY + i / a.scale,
                        u = function(e, t) {
                            var a = v.current,
                                r = n.editData,
                                i = (e - r.width / 2) * r.scale,
                                o = (e + r.width / 2) * r.scale,
                                l = (t + r.height / 2) * r.scale;
                            return {
                                x: i < -a && o > a,
                                y: (t - r.height / 2) * r.scale < -a && l > a
                            }
                        }(o, l);
                    u.x && (a.offsetX = o), u.y && (a.offsetY = l), t.x = e.stageX, t.y = e.stageY, h()
                };
                (0, l.useEffect)((function() {
                    n.saveEdits();
                    var e, t = n.editData,
                        r = a.canvas;
                    e = t.baseItem ? t.baseItem.getBounds() : {
                        width: 0,
                        height: 0
                    }, r.style.display = "block", r.width = e.width, r.height = e.height;
                    var i = new o.Easel.Shape;
                    i.graphics.beginFill("rgba(0, 0, 0, 0.1)"), i.graphics.drawRect(0, 0, e.width, e.height), i.regX = e.width / 2, i.regY = e.height / 2, i.x = e.width / 2, i.y = e.height / 2, i.on("mousedown", (function(e) {
                        var t = {
                                x: e.stageX,
                                y: e.stageY
                            },
                            n = i.on("pressmove", C, null, !1, t);
                        i.on("pressup", (function() {
                            i.off("pressmove", n)
                        }), null, !0)
                    })), i.cursor = "move";
                    var l = r.getContext("2d"),
                        u = r.width,
                        s = r.height,
                        d = u / s > 500 / 361 ? s / 361 : u / 500;
                    v.current = Math.min(361, 500) / 2 * .9 * d;
                    var c = v.current;
                    l.fillStyle = "rgba(0, 0, 0, 0.5)", l.fillRect(0, 0, u, s), l.globalCompositeOperation = "destination-out", l.beginPath(), l.arc(u / 2, s / 2, c, 0, 2 * Math.PI, !0), l.fillStyle = "#ffffff", l.fill(), a.addChild(i), a.update()
                }), []);
                var y = function() {
                    var e = (0, i.default)(r.default.mark((function e() {
                        var t, a, i, o, l, d, c, f, p;
                        return r.default.wrap((function(e) {
                            for (;;) switch (e.prev = e.next) {
                                case 0:
                                    if (a = n.editData, i = null === (t = n.editedImage) || void 0 === t ? void 0 : t.src, o = v.current, i) {
                                        e.next = 5;
                                        break
                                    }
                                    throw new Error("empty image");
                                case 5:
                                    return d = l = 2 * o, l > s.PROF_PIC_MAX_SIDE ? d = s.PROF_PIC_MAX_SIDE : l < s.PROF_PIC_MIN_SIDE && (d = s.PROF_PIC_MIN_SIDE), e.next = 10, u.crop(i, (a.width - 2 * o) / 2, (a.height - 2 * o) / 2, 2 * o, 2 * o, d, d, u.DATA_URL | u.CANVAS);
                                case 10:
                                    return c = e.sent, f = c.images.dataUrl, e.next = 14, u.crop(c.images.canvas, 0, 0, s.PROF_PIC_THUMB_SIDE, s.PROF_PIC_THUMB_SIDE);
                                case 14:
                                    return p = e.sent, e.abrupt("return", {
                                        thumb: p.images.dataUrl,
                                        full: f
                                    });
                                case 16:
                                case "end":
                                    return e.stop()
                            }
                        }), e)
                    })));
                    return function() {
                        return e.apply(this, arguments)
                    }
                }();
                return (0, l.useImperativeHandle)(t, (function() {
                    return {
                        crop: y
                    }
                })), (0, p.jsxs)("div", {
                    className: d.default.scaler,
                    children: [(0, p.jsx)("div", {
                        className: d.default.scalerButton,
                        onClick: function() {
                            _()
                        },
                        children: (0, p.jsx)(c.default, {
                            name: "plus"
                        })
                    }), (0, p.jsx)("div", {
                        className: d.default.scalerButton,
                        onClick: function() {
                            x()
                        },
                        children: (0, p.jsx)(c.default, {
                            name: "minus"
                        })
                    })]
                })
            }
            var g = (0, l.forwardRef)(v);
            t.default = g
        },
        6220: (e, t, n) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var a = n(67294),
                r = n(85893);

            function i(e, t) {
                return (0, r.jsx)("canvas", {
                    className: e.className,
                    ref: t
                })
            }

            function o(e, t) {
                return e.className === t.className
            }
            var l = (0, a.memo)((0, a.forwardRef)(i), o);
            t.default = l
        },
        74715: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, n = (0, o.useState)(e.initialDuration),
                    a = (0, r.default)(n, 2),
                    C = a[0],
                    y = a[1],
                    S = (0, g.default)(m.NUX.EPHEMERAL),
                    b = (0, r.default)(S, 2),
                    j = b[0],
                    E = b[1],
                    k = function(e) {
                        return y(parseInt(e.target.value, 10))
                    };
                t = j ? (0, _.jsx)(d.default, {
                    fromMe: !0
                }) : (0, _.jsxs)(_.Fragment, {
                    children: [(0, _.jsx)(v.TextParagraph, {
                        xstyle: x.explanation,
                        children: i.fbt._("All new messages in this chat will disappear after the selected duration.", null, {
                            hk: "4lToiN"
                        })
                    }), (0, p.getAllDurations)().map((function(e) {
                        var t = e.value,
                            n = e.label;
                        return (0, _.jsx)("div", {
                            className: (0, l.default)(x.option),
                            children: (0, _.jsxs)("label", {
                                className: (0, l.default)(x.label),
                                children: [(0, _.jsx)("input", {
                                    type: "radio",
                                    className: (0, l.default)(x.input),
                                    value: String(t),
                                    checked: t === C,
                                    onChange: k
                                }), n]
                            })
                        }, `option-${t}`)
                    }))]
                });
                return (0, _.jsx)(s.default, {
                    title: j ? void 0 : i.fbt._("Disappearing messages", null, {
                        hk: "384ocn"
                    }),
                    onOK: j ? function() {
                        E()
                    } : function() {
                        e.onDurationSelected(C), u.Cmd.closeModal()
                    },
                    onCancel: j ? function() {
                        (0, c.openExternalLink)((0, f.getEphemeralFaqUrl)())
                    } : function() {
                        u.Cmd.closeModal()
                    },
                    cancelText: j ? h.default.t(554) : i.fbt._("Cancel", null, {
                        hk: "H0gNq"
                    }),
                    children: t
                })
            };
            var r = a(n(63038)),
                i = n(48360),
                o = n(67294),
                l = a(n(56720)),
                u = n(65901),
                s = a(n(86777)),
                d = a(n(71842)),
                c = n(49012),
                f = n(29281),
                p = n(25206),
                h = a(n(45159)),
                m = n(15849),
                v = n(22552),
                g = a(n(36387)),
                _ = n(85893),
                x = {
                    option: {
                        display: "p357zi0d",
                        alignItems: "gndfcl4n",
                        height: "sai7fuui"
                    },
                    label: {
                        display: "f804f6gw",
                        cursor: "ajgl1lbb"
                    },
                    input: {
                        marginEnd: "claouzo6",
                        verticalAlign: "neme6l2y"
                    },
                    explanation: {
                        marginBottom: "t4zgqcuo"
                    }
                }
        },
        15733: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.frequentlyForwardedCount,
                    n = e.totalCount,
                    a = (0, c.jsxs)("span", {
                        className: u.default.text,
                        children: [1 === t && 1 === n ? r.fbt._("This message will be marked as forwarded many times.", null, {
                            hk: "37i1m9"
                        }) : r.fbt._("One or more messages will be marked as forwarded many times.", null, {
                            hk: "1Z8wFQ"
                        }), " ", (0, c.jsx)(o.ExternalLink, {
                            href: (0, l.getFrequentlyForwardedFaqUrl)(),
                            children: s.default.t(554)
                        })]
                    });
                return (0, c.jsxs)("div", {
                    className: u.default.wrapper,
                    children: [(0, c.jsx)("div", {
                        className: u.default.icon,
                        children: (0, c.jsx)(d.default, {
                            name: "highly-forwarded"
                        })
                    }), (0, c.jsx)(i.default, {
                        theme: "plain",
                        primary: a,
                        idle: !0
                    })]
                })
            };
            var r = n(48360),
                i = a(n(88186)),
                o = n(49012),
                l = n(29281),
                u = a(n(19517)),
                s = a(n(45159)),
                d = a(n(7665)),
                c = n(85893)
        },
        85077: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(63038)),
                i = n(396),
                o = n(15586),
                l = n(45121),
                u = n(48360),
                s = n(67294),
                d = a(n(88186)),
                c = n(65901),
                f = a(n(22261)),
                p = n(66834),
                h = a(n(53187)),
                m = a(n(18345)),
                v = a(n(61876)),
                g = n(19288),
                _ = n(73008),
                x = n(75993),
                C = function(e, t) {
                    if (!t && e && e.__esModule) return e;
                    if (null === e || "object" != typeof e && "function" != typeof e) return {
                        default: e
                    };
                    var n = F(t);
                    if (n && n.has(e)) return n.get(e);
                    var a = {},
                        r = Object.defineProperty && Object.getOwnPropertyDescriptor;
                    for (var i in e)
                        if ("default" !== i && Object.prototype.hasOwnProperty.call(e, i)) {
                            var o = r ? Object.getOwnPropertyDescriptor(e, i) : null;
                            o && (o.get || o.set) ? Object.defineProperty(a, i, o) : a[i] = e[i]
                        } a.default = e, n && n.set(e, a);
                    return a
                }(n(18286)),
                y = n(38032),
                S = n(34755),
                b = a(n(99223)),
                j = a(n(9025)),
                E = n(3995),
                k = a(n(45159)),
                w = n(45065),
                T = a(n(27003)),
                I = n(96197),
                P = n(4865),
                M = a(n(59782)),
                O = a(n(7665)),
                L = n(92428),
                A = n(69283),
                D = a(n(1379)),
                R = n(59175),
                N = n(85893);

            function F(e) {
                if ("function" != typeof WeakMap) return null;
                var t = new WeakMap,
                    n = new WeakMap;
                return (F = function(e) {
                    return e ? n : t
                })(e)
            }
            var B = "group-invite-link-anchor",
                U = 0,
                G = 1,
                H = 2;

            function W(e) {
                var t, n = e.state,
                    a = e.chat,
                    r = e.groupMetadata,
                    i = e.onDrawerButtonClick,
                    o = e.onSendLinkButtonClick;
                if (n === U) t = (0, N.jsx)(x.LoadingWithText, {
                    text: k.default.t(485)
                });
                else if (n === G) t = (0, N.jsx)(x.LoadingWithText, {
                    text: k.default.t(493, {
                        groupName: a.contact.name
                    })
                });
                else {
                    var l = r.groupInviteLink,
                        s = null;
                    document.queryCommandSupported("copy") && (s = (0, N.jsx)(f.default, {
                        elementId: B
                    }));
                    var c = (0, N.jsx)(p.DetailImage, {
                            id: a.id,
                            size: 82,
                            quality: p.DETAIL_IMAGE_QUALITY.HIGH
                        }),
                        h = (0, N.jsx)("span", {
                            className: b.default.linkContainer,
                            children: (0, N.jsx)(I.SelectableLink, {
                                id: B,
                                href: l,
                                selectable: !0,
                                children: l
                            })
                        });
                    t = (0, N.jsxs)(m.default, {
                        children: [(0, N.jsx)(d.default, {
                            image: c,
                            primary: (0, N.jsx)(_.EmojiText, {
                                text: a.contact.name,
                                direction: "auto"
                            }),
                            theme: "identity",
                            secondary: h
                        }), (0, N.jsx)("div", {
                            className: b.default.descContainer,
                            children: k.default.t(488)
                        }), (0, N.jsx)(M.default, {
                            onClick: o
                        }), s, (0, N.jsx)(v.default, {
                            a8nText: "li-revoke-link",
                            icon: (0, N.jsx)(O.default, {
                                name: "revoke",
                                className: b.default.icon
                            }),
                            onClick: i,
                            children: u.fbt._("Reset link", null, {
                                hk: "37cdK4"
                            })
                        })]
                    })
                }
                return t
            }

            function V(e, t) {
                var n = e.onBack,
                    a = e.chat,
                    d = (0, s.useState)(U),
                    f = (0, r.default)(d, 2),
                    p = f[0],
                    m = f[1],
                    v = (0, D.default)(),
                    _ = (0, A.useModelValues)(e.groupMetadata, ["inviteCode", "groupInviteLink"]),
                    x = function(e) {
                        switch (e) {
                            case 401:
                                return k.default.t(490);
                            case 403:
                                return u.fbt._("You can't view this group's invite link because you're no longer a participant.", null, {
                                    hk: "4fEfyY"
                                });
                            case 404:
                                return u.fbt._("You can't view this group's invite link because this group has ended.", null, {
                                    hk: "2fhpj0"
                                });
                            case 436:
                                return u.fbt._("Invite via link is temporarily unavailable for this group.", null, {
                                    hk: "11ALNM"
                                });
                            default:
                                return k.default.t(491)
                        }
                    };
                (0, s.useEffect)((function() {
                    (0, T.default)((0, S.queryGroupInviteCode)(_), v).then((function() {
                        m(H)
                    })).catch((0, o.filteredCatch)(R.ServerStatusCodeError, (function(e) {
                        ! function(e) {
                            var t = x(e);
                            n(), 436 === e && (y.GK.supportsFeature(y.GK.F.MD_BACKEND) && (0, w.queryAndUpdateGroupMetadataById)(a.id), (0, E.openGrowthLockedModal)(!0)), c.Cmd.openToast((0, N.jsx)(L.Toast, {
                                msg: t,
                                id: (0, L.genId)()
                            }))
                        }(e.statusCode)
                    }))).catch((0, i.catchAbort)((function() {})))
                }), []);
                var b = function() {
                    m(G);
                    var e = (0, S.revokeGroupInvite)(_);
                    (0, l.delayMs)(500).then((function() {
                        return e
                    })).then((function() {
                        c.Cmd.openToast((0, N.jsx)(L.Toast, {
                            msg: u.fbt._("The previous invite link is now reset and a new invite link has been created.", null, {
                                hk: "2RPI3K"
                            }),
                            id: (0, L.genId)()
                        })), m(H)
                    })).catch((0, o.filteredCatch)(R.ServerStatusCodeError, (function(e) {
                        ! function(e) {
                            var t = x(e);
                            n(), c.Cmd.openToast((0, N.jsx)(L.Toast, {
                                msg: t,
                                id: (0, L.genId)()
                            }))
                        }(e.statusCode)
                    }))).catch((0, o.filteredCatch)(C.Unmount, (function() {})))
                };
                return (0, N.jsxs)(h.default, {
                    ref: t,
                    children: [(0, N.jsx)(g.DrawerHeader, {
                        title: u.fbt._("Invite to group via link", null, {
                            hk: "3vDtFL"
                        }),
                        onBack: e.onBack,
                        rtlFixIfOnDarwin: !0,
                        type: g.DRAWER_HEADER_TYPE.SMALL
                    }), (0, N.jsx)(W, {
                        state: p,
                        chat: a,
                        groupMetadata: _,
                        onDrawerButtonClick: function() {
                            c.Cmd.openModal((0, N.jsx)(j.default, {
                                pushTransition: "none",
                                popTransition: "none",
                                chat: a,
                                onConfirm: b
                            }), {
                                transition: "modal-flow"
                            })
                        },
                        onSendLinkButtonClick: function() {
                            c.Cmd.openModal((0, N.jsx)(P.SendGroupInviteFlowLoadable, {
                                chat: a
                            }), {
                                transition: "modal-flow"
                            })
                        }
                    })]
                })
            }
            var z = (0, s.forwardRef)(V);
            t.default = z
        },
        4485: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onConfirm;
                return (0, s.jsx)(o.default, {
                    title: r.fbt._("Reset link", null, {
                        hk: "37cdK4"
                    }),
                    onOK: function() {
                        t(), i.Cmd.closeModal()
                    },
                    okText: r.fbt._("Reset link", null, {
                        hk: "37cdK4"
                    }),
                    onCancel: function() {
                        i.Cmd.closeModal()
                    },
                    cancelText: r.fbt._("Cancel", null, {
                        hk: "H0gNq"
                    }),
                    children: (0, s.jsx)("div", {
                        className: l.default.confirmationText,
                        children: u.default.t(492, {
                            groupName: e.chat.contact.name
                        })
                    })
                })
            };
            var r = n(48360),
                i = n(65901),
                o = a(n(86777)),
                l = a(n(58529)),
                u = a(n(45159)),
                s = n(85893)
        },
        57027: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = (0, V.useModelValues)(e.msg, ["id", "star", "type", "isGif", "isViewOnce", "labels", "numTimesForwarded", "isFrequentlyForwarded", "chat"]),
                    n = (0, G.default)(),
                    a = (0, q.default)(),
                    Q = (0, z.default)(),
                    X = (0, H.default)((function() {
                        return new x.default
                    })),
                    Z = (0, H.default)((function() {
                        return new I.default.UiAction({
                            uiActionType: I.default.UI_ACTION_TYPE.MSG_INFO_OPEN,
                            uiActionPreloaded: !0
                        })
                    })),
                    J = (0, c.useRef)(null),
                    $ = (0, c.useRef)(null),
                    ee = (0, c.useState)(void 0),
                    te = (0, i.default)(ee, 2),
                    ne = te[0],
                    ae = te[1],
                    re = (0, c.useState)(!1),
                    ie = (0, i.default)(re, 2),
                    oe = ie[0],
                    le = ie[1];
                (0, c.useEffect)((function() {
                    var e;
                    M.MsgInfoCollection.find(t.id).then((function(e) {
                        a.aborted || ae(e)
                    })).catch((function() {
                        le(!0), p.Cmd.openToast((0, Y.jsx)(U.Toast, {
                            msg: d.fbt._("Couldn't display message info. Try again later.", null, {
                                hk: "mRFf6"
                            }),
                            id: (0, U.genId)("msg_info_failed")
                        }))
                    }));
                    var n = null === (e = J.current) || void 0 === e ? void 0 : e.container;
                    t.type === s.MSG_TYPE.IMAGE && n && (n.scrollTop = n.scrollHeight);
                    var r = Z.current;
                    if (r) {
                        var i, o = null === (i = y.default.get(t.chat.id)) || void 0 === i ? void 0 : i.cachedDeviceSizeBucket;
                        null != o && (r.sizeBucket = o), r.markUiActionT(), r.commit(), (0, A.logUiActionShadowPrivateStatsTestEvents)(), Z.current = void 0
                    }
                }), []);
                var ue, se = function() {
                    var e;
                    return null === (e = $.current) || void 0 === e ? void 0 : e.getMsgComponentRef()
                };
                (0, W.useListener)(null == ne ? void 0 : ne.played, ["add", "remove"], n), (0, W.useListener)(null == ne ? void 0 : ne.read, ["add", "remove"], n), (0, W.useListener)(null == ne ? void 0 : ne.delivery, ["add", "remove"], n), (0, W.useListener)(t, "remove", (function(e, t) {
                    t === P.MsgCollection && (null == Q || Q.uie.requestDismiss())
                })), ne || oe || (ue = (0, Y.jsx)("div", {
                    className: b.default.spinner,
                    children: (0, Y.jsx)(N.Spinner, {
                        size: 50,
                        stroke: 4
                    })
                }, "spinner"));
                var de = function() {
                        var e = [],
                            n = t.type === s.MSG_TYPE.PTT,
                            a = n || t.isViewOnce;
                        if (ne && a) {
                            var i = n ? E.SECTIONS.PLAYED_HEADER : E.SECTIONS.VIEWED_HEADER;
                            e.push({
                                kind: "section",
                                type: i,
                                itemKey: i,
                                height: 50
                            }), e.push.apply(e, (0, r.default)(ne.played.map((function(e) {
                                return {
                                    participant: e,
                                    kind: "row",
                                    itemKey: e.id.toString(),
                                    height: _.DEFAULT_ITEM_HEIGHT
                                }
                            })))), ne.playedRemaining > 0 && (i = n ? E.SECTIONS.PLAYED_FOOTER : E.SECTIONS.VIEWED_FOOTER, e.push({
                                kind: "section",
                                type: i,
                                itemKey: i,
                                height: 50
                            }))
                        }
                        return ne && (ne.read.length > 0 || ne.playedRemaining > 0) && (e.push({
                            kind: "section",
                            type: a ? E.SECTIONS.SEEN_HEADER : E.SECTIONS.READ_HEADER,
                            itemKey: E.SECTIONS.READ_HEADER,
                            height: 50
                        }), e.push.apply(e, (0, r.default)(ne.read.map((function(e) {
                            return {
                                participant: e,
                                kind: "row",
                                itemKey: e.id.toString(),
                                height: _.DEFAULT_ITEM_HEIGHT
                            }
                        })))), ne.readRemaining > 0 && e.push({
                            kind: "section",
                            type: E.SECTIONS.READ_FOOTER,
                            itemKey: a ? E.SECTIONS.SEEN_FOOTER : E.SECTIONS.READ_FOOTER,
                            height: 50
                        })), ne && (ne.delivery.length > 0 || ne.deliveryRemaining > 0) && (e.push({
                            kind: "section",
                            type: E.SECTIONS.DELIVERED_HEADER,
                            itemKey: E.SECTIONS.DELIVERED_HEADER,
                            height: 50
                        }), e.push.apply(e, (0, r.default)(ne.delivery.map((function(e) {
                            return {
                                participant: e,
                                kind: "row",
                                itemKey: e.id.toString(),
                                height: _.DEFAULT_ITEM_HEIGHT
                            }
                        })))), ne.deliveryRemaining > 0 && e.push({
                            kind: "section",
                            type: E.SECTIONS.DELIVERED_FOOTER,
                            itemKey: E.SECTIONS.DELIVERED_FOOTER,
                            height: 50
                        })), t.numTimesForwarded > 0 && !t.isFrequentlyForwarded && e.push({
                            kind: "section",
                            type: E.SECTIONS.FORWARD_COUNT,
                            itemKey: E.SECTIONS.FORWARD_COUNT,
                            height: 60
                        }), e
                    }(),
                    ce = de.length ? (0, Y.jsx)(_.FlatList, {
                        flatListController: X.current,
                        direction: "vertical",
                        forceConsistentRenderCount: !1,
                        data: de,
                        renderItem: function(e) {
                            if ("row" === e.kind) return n = e.participant, (0, Y.jsx)(S.default, {
                                msgInfoParticipant: n,
                                contact: n.contact,
                                theme: "drawer-list"
                            }, n.id.toString());
                            var n, a;
                            if (e.type === E.SECTIONS.FORWARD_COUNT) return R.ServerProps.hfmStringChanges ? null : (0, Y.jsx)("div", {
                                className: b.default.forwardCount,
                                children: (0, Y.jsx)(O.default, {
                                    msg: t
                                })
                            });
                            switch (e.type) {
                                case E.SECTIONS.PLAYED_HEADER:
                                case E.SECTIONS.READ_HEADER:
                                case E.SECTIONS.SEEN_HEADER:
                                case E.SECTIONS.DELIVERED_HEADER:
                                case E.SECTIONS.VIEWED_HEADER:
                                    return function(e) {
                                        var n, a;
                                        switch (e) {
                                            case E.SECTIONS.PLAYED_HEADER:
                                                a = (0, Y.jsx)(F.default, {
                                                    name: "status-ptt",
                                                    className: b.default.statusBlue
                                                }), n = w.default.t(621);
                                                break;
                                            case E.SECTIONS.READ_HEADER:
                                                a = (0, Y.jsx)(F.default, {
                                                    name: "status-dblcheck",
                                                    className: b.default.ack
                                                }), n = w.default.t(623);
                                                break;
                                            case E.SECTIONS.SEEN_HEADER:
                                                a = (0, Y.jsx)(F.default, {
                                                    name: "status-dblcheck",
                                                    className: b.default.ack
                                                }), n = t.isViewOnce ? d.fbt._("Seen by", null, {
                                                    hk: "3MxARC"
                                                }) : d.fbt._("Seen by", null, {
                                                    hk: "3vzp0U"
                                                });
                                                break;
                                            case E.SECTIONS.DELIVERED_HEADER:
                                                a = (0, Y.jsx)(F.default, {
                                                    name: "status-dblcheck"
                                                }), n = w.default.t(619);
                                                break;
                                            case E.SECTIONS.VIEWED_HEADER:
                                                a = (0, Y.jsx)(F.default, {
                                                    name: "view-once-viewed",
                                                    className: b.default.statusBlue
                                                }), n = d.fbt._("Opened by", null, {
                                                    hk: "1BkoM7"
                                                });
                                                break;
                                            default:
                                                return __LOG__(4, void 0, new Error)`Invalid SECTION for group message info section header`, null
                                        }
                                        return a = (0, Y.jsx)("div", {
                                            className: b.default.titleIcon,
                                            children: a
                                        }), (0, Y.jsx)("div", {
                                            "data-a8n": l.default.key("msg-info-title"),
                                            className: b.default.title,
                                            children: (0, Y.jsx)(D.default, {
                                                side: a,
                                                ellipsify: !0,
                                                children: (0, Y.jsx)(B.TextSpan, {
                                                    theme: "section-title",
                                                    children: n
                                                })
                                            })
                                        })
                                    }(e.type);
                                default:
                                    return a = e.type, (0, Y.jsx)(j.default, {
                                        section: a,
                                        msgInfo: (0, o.default)(ne, "msgInfo")
                                    }, a)
                            }
                        }
                    }) : null,
                    fe = null;
                t.labels && t.labels.length > 0 && (0, C.canDisplayLabel)() && (fe = (0, Y.jsx)(g.default, {
                    theme: "padding",
                    children: (0, Y.jsx)(k.default, {
                        labels: t.labels
                    })
                }));
                return (0, Y.jsxs)(h.default, {
                    theme: "striped",
                    children: [(0, Y.jsx)(v.DrawerHeader, {
                        title: w.default.t(617),
                        type: v.DRAWER_HEADER_TYPE.SMALL,
                        rtlFixIfOnDarwin: !0,
                        onCancel: function() {
                            null == Q || Q.uie.requestDismiss()
                        }
                    }), (0, Y.jsx)(L.default, {
                        ref: J,
                        chatPreference: f.default.assertGet("defaultPreference"),
                        children: (0, Y.jsx)(K.Wrapper, {
                            msg: t,
                            ref: $,
                            displayType: u.DISPLAY_TYPE.MSG_INFO,
                            isMsgVisible: function(e) {
                                var n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                                return e === t.id && (!!n || se())
                            },
                            position: T.MsgPosition.END,
                            onProductClick: e.onProductClick
                        })
                    }), (0, Y.jsxs)(m.default, {
                        flatListControllers: [X.current],
                        children: [fe, ue, (0, Y.jsx)("div", {
                            className: b.default.list,
                            children: ce
                        })]
                    })]
                }, "message-info-modal")
            };
            var r = a(n(319)),
                i = a(n(63038)),
                o = a(n(272)),
                l = a(n(84646)),
                u = n(44741),
                s = n(40787),
                d = n(48360),
                c = n(67294),
                f = a(n(88549)),
                p = n(65901),
                h = a(n(53187)),
                m = a(n(18345)),
                v = n(19288),
                g = a(n(46821)),
                _ = n(73568),
                x = a(n(92546)),
                C = n(2629),
                y = a(n(52336)),
                S = a(n(50329)),
                b = a(n(42188)),
                j = a(n(67121)),
                E = n(21943),
                k = a(n(16516)),
                w = a(n(45159)),
                T = n(83592),
                I = a(n(50507)),
                P = n(94413),
                M = n(29289),
                O = a(n(76997)),
                L = a(n(80233)),
                A = n(26329),
                D = a(n(62861)),
                R = n(43890),
                N = n(85651),
                F = a(n(7665)),
                B = n(22552),
                U = n(92428),
                G = a(n(57811)),
                H = a(n(39394)),
                W = n(8413),
                V = n(69283),
                z = a(n(93958)),
                q = a(n(1379)),
                K = n(43026),
                Y = n(85893)
        },
        67121: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, n, a, c = (0, s.useModelValues)(e.msgInfo, ["playedRemaining", "readRemaining", "deliveryRemaining"]);
                switch (e.section) {
                    case o.SECTIONS.PLAYED_FOOTER:
                    case o.SECTIONS.VIEWED_FOOTER:
                        t = c.playedRemaining, n = c.playedRemaining;
                        break;
                    case o.SECTIONS.READ_FOOTER:
                    case o.SECTIONS.SEEN_FOOTER:
                        t = c.readRemaining, n = c.readRemaining;
                        break;
                    case o.SECTIONS.DELIVERED_FOOTER:
                        t = c.deliveryRemaining, n = c.deliveryRemaining;
                        break;
                    default:
                        return __LOG__(4, void 0, new Error)`Invalid SECTION for group message info section footer`, null
                }
                if (null == t || 0 === t) return null;
                a = {
                    count: t,
                    _plural: n
                };
                var f = l.default.t(624, a);
                return (0, d.jsx)("div", {
                    "data-a8n": r.default.key("msg-info-remaining"),
                    className: i.default.footer,
                    children: (0, d.jsx)(u.TextSpan, {
                        theme: "muted",
                        children: f
                    })
                })
            };
            var r = a(n(84646)),
                i = a(n(42188)),
                o = n(21943),
                l = a(n(45159)),
                u = n(22552),
                s = n(69283),
                d = n(85893)
        },
        21943: (e, t, n) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.SECTIONS = void 0;
            var a = n(76672).Mirrored(["DELIVERED_FOOTER", "DELIVERED_HEADER", "FORWARD_COUNT", "PLAYED_FOOTER", "PLAYED_HEADER", "READ_FOOTER", "READ_HEADER", "SEEN_FOOTER", "SEEN_HEADER", "VIEWED_FOOTER", "VIEWED_HEADER"]);
            t.SECTIONS = a
        },
        91522: (e, t, n) => {
            "use strict";
            var a = n(21314).default,
                r = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onClose,
                    n = e.gid,
                    r = e.onSend,
                    E = (0, u.useRef)(null),
                    k = (0, u.useRef)(null),
                    w = (0, u.useState)(l.fbt._("Invitation to join my WhatsApp group", null, {
                        hk: "2WNS77"
                    }).toString()),
                    T = (0, i.default)(w, 2),
                    I = T[0],
                    P = T[1],
                    M = (0, j.jsx)(C.Round, {
                        a8nText: "group-participants-btn",
                        large: !0,
                        onClick: function() {
                            var e;
                            (e = x.ProfilePicThumbCollection.get(n), new a((function(t) {
                                e && e.img ? (0, m.default)(e.img).then((function(e) {
                                    if (e.ok) return e.blob();
                                    t(void 0)
                                })).then((function(e) {
                                    if (e) {
                                        var n = new FileReader;
                                        n.onloadend = function() {
                                            var e = n.result;
                                            if (null != e) {
                                                var a = e.toString().split(",")[1];
                                                t(a)
                                            } else t(void 0)
                                        }, n.readAsDataURL(e)
                                    }
                                })).catch((function() {
                                    return t(void 0)
                                })) : t(void 0)
                            }))).then((function(e) {
                                r(I, e)
                            }))
                        },
                        children: (0, j.jsx)(y.default, {
                            name: "send",
                            directional: !0
                        })
                    }),
                    O = (0, j.jsx)(d.DetailImage, {
                        id: e.gid
                    }),
                    L = (0, j.jsx)(h.EmojiText, {
                        text: e.subject
                    });
                return (0, j.jsx)(g.Modal, {
                    type: g.ModalTheme.Invite,
                    children: (0, j.jsxs)(c.default, {
                        theme: "invite",
                        children: [(0, j.jsx)(p.DrawerHeader, {
                            type: p.DRAWER_HEADER_TYPE.POPUP,
                            title: l.fbt._("Send invite to...", null, {
                                hk: "2Yaa3P"
                            }),
                            onCancel: function() {
                                t()
                            }
                        }), (0, j.jsxs)(f.default, {
                            children: [(0, j.jsx)("div", {
                                className: v.default.search,
                                children: (0, j.jsx)("div", {
                                    "data-list-scroll-container": !0,
                                    children: (0, j.jsx)(_.default, {
                                        ref: E,
                                        theme: "list-names",
                                        contacts: e.participants.map((function(e) {
                                            return e.contact
                                        }))
                                    })
                                })
                            }), (0, j.jsx)("div", {
                                className: v.default.commentInput,
                                children: (0, j.jsx)(S.TextInput, {
                                    a8n: "groups-v4-invite-add-comment-input",
                                    ref: k,
                                    value: I,
                                    showRemaining: !0,
                                    maxLength: o.default.MAX_CAPTION_LENGTH,
                                    onChange: function(e) {
                                        P(e)
                                    },
                                    theme: "v4-invite-caption",
                                    supportsEmoji: !0
                                })
                            }), (0, j.jsx)(b.default, {
                                transitionName: "btn",
                                className: v.default.onSendInvite,
                                children: M
                            }), (0, j.jsx)("div", {
                                className: v.default.groupInfo,
                                children: (0, j.jsx)(s.default, {
                                    idle: !0,
                                    image: O,
                                    primary: L,
                                    secondary: l.fbt._("WhatsApp group invite", null, {
                                        hk: "Yox1t"
                                    }),
                                    theme: "group_v4_invite"
                                })
                            })]
                        })]
                    })
                })
            };
            var i = r(n(63038)),
                o = r(n(3208)),
                l = n(48360),
                u = n(67294),
                s = r(n(88186)),
                d = n(66834),
                c = r(n(53187)),
                f = r(n(18345)),
                p = n(19288),
                h = n(73008),
                m = r(n(9445)),
                v = r(n(19685)),
                g = n(73454),
                _ = r(n(98755)),
                x = n(30194),
                C = n(80385),
                y = r(n(7665)),
                S = n(68544),
                b = r(n(60806)),
                j = n(85893)
        },
        50504: (e, t, n) => {
            "use strict";
            var a = n(21314).default,
                r = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(n(63038)),
                o = r(n(63105)),
                l = r(n(35161)),
                u = n(45121),
                s = n(67294),
                d = n(97397),
                c = n(75993),
                f = r(n(45159)),
                p = r(n(41502)),
                h = r(n(98232)),
                m = r(n(39916)),
                v = r(n(8995)),
                g = r(n(39394)),
                _ = n(85893);

            function x(e, t) {
                var r = e.onCancel,
                    x = e.chats,
                    C = e.filter,
                    y = void 0 === C ? function() {
                        return !0
                    } : C,
                    S = e.onGroup,
                    b = (0, s.useRef)(null),
                    j = (0, g.default)((function() {
                        return new m.default([], (function(e) {
                            return e
                        }))
                    })),
                    E = (0, s.useState)(!0),
                    k = (0, i.default)(E, 2),
                    w = k[0],
                    T = k[1],
                    I = (0, s.useState)(void 0),
                    P = (0, i.default)(I, 2),
                    M = P[0],
                    O = P[1];
                (0, s.useEffect)((function() {
                    (0, u.delayMs)(300).then((function() {
                        return a.all((0, l.default)((0, o.default)(x, (function(e) {
                            var t;
                            return null === (t = e.groupMetadata) || void 0 === t ? void 0 : t.stale
                        })), (function(e) {
                            var t;
                            return n(52336).default.update(null === (t = e.groupMetadata) || void 0 === t ? void 0 : t.id).catch((function() {}))
                        })))
                    })).then((function() {
                        return T(!1)
                    }))
                }), []);
                var L = function() {
                    return b.current
                };
                (0, s.useImperativeHandle)(t, (function() {
                    return {
                        getElement: L
                    }
                }));
                var A = (0, v.default)(O, 100),
                    D = w ? (0, _.jsx)(c.Loading, {}) : (0, _.jsx)(c.SearchGroups, {});
                return (0, _.jsx)(p.default, {
                    title: f.default.t(933),
                    data: function() {
                        if (w) return [];
                        var e = f.default.accentFold(M),
                            t = (0, h.default)(e),
                            n = x.filter((function(n) {
                                return y(n) && (!e || e && n.contact.searchMatch(e, t))
                            }));
                        return j.current.init(n.filter((function(e) {
                            return !0 === y(e)
                        })).map((function(e) {
                            return e.id
                        }))), n.map((function(e) {
                            return {
                                chat: e,
                                itemKey: e.id.toString()
                            }
                        }))
                    }(),
                    renderItem: function(e) {
                        var t, n, a = y(e.chat),
                            r = "boolean" != typeof a;
                        return r && (t = a, n = "group-modal"), (0, _.jsx)(d.Chat, {
                            chat: e.chat,
                            contact: e.chat.contact,
                            mode: d.Mode.INFO,
                            active: j.current,
                            secondary: t,
                            noContext: !0,
                            theme: n,
                            onClick: r ? void 0 : S.bind(null, e.chat)
                        })
                    },
                    emptyState: D,
                    selection: j.current,
                    onCancel: r,
                    onSearch: A,
                    onSelect: function(e, t) {
                        if (t instanceof d.Mode) {
                            var n = t.props.chat;
                            !0 === y(n) && S(t.props.chat)
                        }
                    },
                    onRef: function(e) {
                        b.current = e
                    },
                    searchPlaceholder: f.default.t(735)
                })
            }
            var C = (0, s.forwardRef)(x);
            t.default = C
        },
        97437: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = (0, i.useRef)(-1),
                    n = (0, i.useRef)(!1),
                    a = function(e, a) {
                        (0, x.logSessionEvent)(e, t.current, a), n.current = !0
                    };
                (0, i.useEffect)((function() {
                    return t.current = performance.now(), l.AssetLoader.loadAsset(k, l.LOAD_PRIORITY.HELP_ANIMATED_DOODLE),
                        function() {
                            n.current || a(C.default.CONTACT_US_EXIT_STATE.CANCELLED)
                        }
                }), []);
                var o, w = function() {
                        a(C.default.CONTACT_US_EXIT_STATE.PROBLEM_DESCRIPTION)
                    },
                    T = function(e) {
                        a(C.default.CONTACT_US_EXIT_STATE.EMAIL_SEND, e)
                    },
                    I = function() {};
                b.UA.isElectron && (o = (0, E.jsx)(f.default, {
                    a8nText: "li-licenses",
                    onClick: function() {
                        u.Cmd.openModal((0, E.jsx)(_.LicensesPopupLoadable, {
                            onOk: I
                        }))
                    },
                    icon: (0, E.jsx)(y.default, {
                        name: "settings-document",
                        height: 24
                    }),
                    children: r.fbt._("Licenses", null, {
                        hk: "39PWhp"
                    })
                }));
                return (0, E.jsxs)(d.default, {
                    children: [(0, E.jsx)(p.DrawerHeader, {
                        a8n: "drawer-title-help",
                        title: g.default.t(526),
                        onBack: e.onClose,
                        type: p.DRAWER_HEADER_TYPE.LARGE
                    }), (0, E.jsxs)(c.default, {
                        children: [(0, E.jsx)("div", {
                            className: v.default.animation
                        }), (0, E.jsx)(j.default, {
                            className: v.default.versionInfo
                        }), (0, E.jsx)(f.default, {
                            a8nText: "li-faq",
                            icon: (0, E.jsx)(y.default, {
                                name: "settings-help"
                            }),
                            onClick: function() {
                                (0, h.openExternalLink)((0, m.getFaqUrl)()), a(C.default.CONTACT_US_EXIT_STATE.FAQ)
                            },
                            children: r.fbt._("Help Center", null, {
                                hk: "22rPCE"
                            })
                        }), (0, E.jsx)(f.default, {
                            a8nText: "li-contact-us",
                            icon: (0, E.jsx)(y.default, {
                                name: "group"
                            }),
                            onClick: function() {
                                u.Cmd.openModal((0, E.jsx)(s.default, {
                                    onCancel: w,
                                    onSend: T
                                }))
                            },
                            children: g.default.t(761)
                        }), o, (0, E.jsx)(f.default, {
                            a8nText: "li-tos",
                            icon: (0, E.jsx)(y.default, {
                                name: "settings-document",
                                height: 24
                            }),
                            onClick: function() {
                                n.current = !0, (0, h.openExternalLink)((0, S.getTosUrl)())
                            },
                            children: r.fbt._("Terms and Privacy Policy", null, {
                                hk: "y6imq"
                            })
                        }), undefined, undefined]
                    })]
                })
            };
            var r = n(48360),
                i = n(67294),
                o = a(n(68971)),
                l = n(52423),
                u = n(65901),
                s = a(n(94779)),
                d = a(n(53187)),
                c = a(n(18345)),
                f = a(n(61876)),
                p = n(19288),
                h = n(49012),
                m = n(29281),
                v = a(n(7078)),
                g = a(n(45159)),
                _ = n(3473),
                x = n(77839),
                C = a(n(50507)),
                y = a(n(7665)),
                S = n(98110),
                b = n(692),
                j = a(n(68605)),
                E = n(85893),
                k = {
                    id: "animated-doodle",
                    selectors: [`.${v.default.animation}`],
                    low: {
                        default: o.default
                    },
                    high: {
                        default: o.default
                    }
                }
        },
        22366: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.search = function() {
                return v.apply(this, arguments)
            };
            var r = a(n(87757)),
                i = a(n(48926)),
                o = a(n(44843)),
                l = function(e, t) {
                    if (!t && e && e.__esModule) return e;
                    if (null === e || "object" != typeof e && "function" != typeof e) return {
                        default: e
                    };
                    var n = d(t);
                    if (n && n.has(e)) return n.get(e);
                    var a = {},
                        r = Object.defineProperty && Object.getOwnPropertyDescriptor;
                    for (var i in e)
                        if ("default" !== i && Object.prototype.hasOwnProperty.call(e, i)) {
                            var o = r ? Object.getOwnPropertyDescriptor(e, i) : null;
                            o && (o.get || o.set) ? Object.defineProperty(a, i, o) : a[i] = e[i]
                        } a.default = e, n && n.set(e, a);
                    return a
                }(n(18286)),
                u = a(n(45159)),
                s = n(29034);

            function d(e) {
                if ("function" != typeof WeakMap) return null;
                var t = new WeakMap,
                    n = new WeakMap;
                return (d = function(e) {
                    return e ? n : t
                })(e)
            }
            var c = "https://www.bingapis.com/api/v6/images/search",
                f = "D41D8CD98F00B204E9800998ECF8427E4F4A7492",
                p = "Square",
                h = "Medium",
                m = {
                    ar: "ar-SA",
                    da: "da-DK",
                    de: "de-DE",
                    en: "en-US",
                    es: "es-US",
                    fi: "fi-FI",
                    fr: "fr-FR",
                    it: "it-IT",
                    ko: "ko-KR",
                    nl: "nl-NL",
                    pl: "pl-PL",
                    "pt-BR": "pt-BR",
                    ru: "ru-RU",
                    sv: "sv-SE",
                    tr: "tr-TR",
                    "zh-CN": "zh-CN",
                    "zh-TW": "zh-TW",
                    "zh-HK": "zh-HK"
                };

            function v() {
                return (v = (0, i.default)(r.default.mark((function e(t, n) {
                    var a, i, d, v, g, _ = arguments;
                    return r.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                return a = _.length > 2 && void 0 !== _[2] ? _[2] : 30, i = {
                                    q: t,
                                    SafeSearch: "Strict",
                                    appid: f,
                                    mkt: m[u.default.getLocale()] || m.en,
                                    size: h,
                                    aspect: p,
                                    count: a,
                                    offset: n
                                }, d = s.URL.build(c, i), e.next = 5, o.default.get(d, o.default.RESP_TYPE.JSON);
                            case 5:
                                if ((v = e.sent).response.hasOwnProperty("_type")) {
                                    e.next = 8;
                                    break
                                }
                                throw new l.InvalidServerResponseError(d, status, `Not a valid Bing response: ${JSON.stringify(v.response)}`);
                            case 8:
                                if ("ErrorResponse" !== v.response._type) {
                                    e.next = 11;
                                    break
                                }
                                throw g = v.response, new l.BingServerError(t, v.status, g);
                            case 11:
                                if ("Images" === v.response._type) {
                                    e.next = 13;
                                    break
                                }
                                throw new l.InvalidServerResponseError(d, status, `Did not receive an image search response, potentially malformed query ${JSON.stringify(v.response)}`);
                            case 13:
                                return e.abrupt("return", v.response);
                            case 14:
                            case "end":
                                return e.stop()
                        }
                    }), e)
                })))).apply(this, arguments)
            }
        },
        79054: (e, t, n) => {
            "use strict";
            var a = n(6089).default,
                r = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, n = e.onImageSelected,
                    r = (0, O.default)(),
                    D = (0, h.useRef)(null),
                    R = (0, h.useRef)(null),
                    N = (0, h.useRef)(null),
                    F = (0, h.useRef)(!1),
                    B = (0, h.useRef)(null),
                    U = (0, h.useState)({}),
                    G = (0, i.default)(U, 2),
                    H = G[0],
                    W = G[1],
                    V = (0, h.useState)(!1),
                    z = (0, i.default)(V, 2),
                    q = z[0],
                    K = z[1],
                    Y = (0, h.useState)(0),
                    Q = (0, i.default)(Y, 2),
                    X = Q[0],
                    Z = Q[1],
                    J = (0, h.useState)(""),
                    $ = (0, i.default)(J, 2),
                    ee = $[0],
                    te = $[1],
                    ne = (0, h.useState)([]),
                    ae = (0, i.default)(ne, 2),
                    re = ae[0],
                    ie = ae[1],
                    oe = (0, h.useState)(0),
                    le = (0, i.default)(oe, 2),
                    ue = le[0],
                    se = le[1],
                    de = (0, M.default)((function(e, t) {
                        F.current = !1;
                        var n = new a,
                            r = m.search(e, t).then((function(t) {
                                var a;
                                if (n.signal.aborted) throw new s.AbortError;
                                r === (null === (a = B.current) || void 0 === a ? void 0 : a.promise) && (! function(e, t) {
                                    var n, a, r = (0, u.default)(t.value, (function(e) {
                                            return e.thumbnailUrl
                                        })),
                                        i = (0, l.default)(t.value, (function(e) {
                                            return {
                                                id: e.imageId,
                                                name: e.name,
                                                thumbUrl: e.thumbnailUrl
                                            }
                                        })),
                                        s = t.value.length;
                                    ee === e ? (Z(t.nextOffset ? t.nextOffset : X + s), ie((0, o.default)(re, i)), se(null !== (n = t.totalEstimatedMatches) && void 0 !== n ? n : 0), W(Object.assign(r, H))) : (W(r), Z(t.nextOffset ? t.nextOffset : X + s), te(ee), ie(i), se(null !== (a = t.totalEstimatedMatches) && void 0 !== a ? a : 0))
                                }(e, t), K(!1))
                            })).catch((0, s.catchAbort)((function() {}))).catch((function() {
                                var e;
                                __LOG__(3, !0)`Image search failed`, v.Cmd.openToast((0, A.jsx)(I.Toast, {
                                    msg: p.fbt._("Image search failed", null, {
                                        hk: "9pHyN"
                                    }),
                                    id: (0, I.genId)()
                                })), r === (null === (e = B.current) || void 0 === e ? void 0 : e.promise) && K(!1)
                            })).finally((function() {
                                var e;
                                r === (null === (e = B.current) || void 0 === e ? void 0 : e.promise) && (B.current = null)
                            }));
                        B.current = {
                            promise: r,
                            controller: n
                        }, K(!0)
                    }), 750),
                    ce = function() {
                        de.cancel(), F.current && (F.current = !1), B.current && B.current.controller.abort()
                    },
                    fe = function() {
                        W({}), K(!1), Z(0), te(""), ie([]), se(0)
                    },
                    pe = function(e) {
                        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
                        F.current = !0, de(e, t)
                    },
                    he = x.DRAWER_HEADER_TYPE.POPUP;
                t = 0 === re.length ? q ? (0, A.jsx)(C.SearchingImages, {}) : ee ? (0, A.jsx)(C.ImageSearchEmpty, {}) : (0, A.jsx)(C.BeforeImageSearch, {}) : (0, A.jsx)(k.default, {
                    ref: N,
                    canLoadMore: X < ue,
                    isLoadingMore: q,
                    thumbnails: re,
                    onFocusPrev: function() {
                        c.default.shouldIndicateFocus(), f.default.focus(D.current)
                    },
                    onImageClick: function(e) {
                        var t = H[e];
                        if (t) {
                            var a, i = t.contentUrl;
                            if (P.UA.isElectron) a = (0, T.default)((function() {
                                return (0, S.default)(i)
                            })).then((function(e) {
                                if (200 !== e.status) throw new y.ServerStatusError(null, i, e.status);
                                return e.blob()
                            }));
                            else {
                                if (j.GK.supportsFeature(j.GK.F.MD_BACKEND)) throw new Error("This call is only supported in non-MD mode");
                                a = L.default.downloadImage(i)
                            }
                            a.then((function(e) {
                                if (!r.aborted) {
                                    if (!(e instanceof Blob)) throw new y.ImageError("Server did not respond with image bytes", i);
                                    n(e, t.hostPageUrl)
                                }
                            })).catch((function() {
                                __LOG__(3, !0)`Image search failed`, v.Cmd.openToast((0, A.jsx)(I.Toast, {
                                    msg: p.fbt._("Failed to load image", null, {
                                        hk: "1k5xX"
                                    }),
                                    id: (0, I.genId)()
                                }))
                            }))
                        }
                    },
                    onRequestMoreImages: function() {
                        F.current || B.current || !ue || X >= ue || pe(ee, X)
                    }
                });
                return (0, A.jsxs)(g.default, {
                    children: [(0, A.jsx)(x.DrawerHeader, {
                        title: p.fbt._("Image Search", null, {
                            hk: "p4JUz"
                        }),
                        type: he,
                        onBack: e.onBack,
                        onCancel: e.onCancel
                    }), (0, A.jsxs)(_.default, {
                        children: [(0, A.jsx)(E.HotKeys, {
                            onRef: function(e) {
                                R.current = e
                            },
                            handlers: {
                                down: function(e) {
                                    e.repeat || N.current && D.current && D.current.cursorIsAtEnd() && (e.preventDefault(), e.stopPropagation(), c.default.shouldIndicateFocus(), null != N.current && f.default.focus(N.current))
                                }
                            },
                            onFocus: function() {
                                c.default.maybeIndicateFocus(R.current)
                            },
                            children: (0, A.jsx)(w.default, {
                                ref: D,
                                placeholder: p.fbt._("Enter search term here", null, {
                                    hk: "sgCKx"
                                }),
                                onSearch: function(e) {
                                    var t = (e || "").trim();
                                    if (!t) return ce(), void fe();
                                    (0, d.numCodepoints)(t) < b.FTS_MIN_CHARS || t !== ee && (ce(), fe(), pe(t))
                                },
                                loading: q
                            })
                        }), t]
                    })]
                })
            };
            var i = r(n(63038)),
                o = r(n(57043)),
                l = r(n(35161)),
                u = r(n(24350)),
                s = n(396),
                d = n(27767),
                c = r(n(22060)),
                f = r(n(11845)),
                p = n(48360),
                h = n(67294),
                m = R(n(22366)),
                v = n(65901),
                g = r(n(53187)),
                _ = r(n(18345)),
                x = n(19288),
                C = n(75993),
                y = R(n(18286)),
                S = r(n(9445)),
                b = n(29322),
                j = n(38032),
                E = n(32012),
                k = r(n(5282)),
                w = r(n(17094)),
                T = r(n(78984)),
                I = n(92428),
                P = n(692),
                M = r(n(8995)),
                O = r(n(1379)),
                L = r(n(54270)),
                A = n(85893);

            function D(e) {
                if ("function" != typeof WeakMap) return null;
                var t = new WeakMap,
                    n = new WeakMap;
                return (D = function(e) {
                    return e ? n : t
                })(e)
            }

            function R(e, t) {
                if (!t && e && e.__esModule) return e;
                if (null === e || "object" != typeof e && "function" != typeof e) return {
                    default: e
                };
                var n = D(t);
                if (n && n.has(e)) return n.get(e);
                var a = {},
                    r = Object.defineProperty && Object.getOwnPropertyDescriptor;
                for (var i in e)
                    if ("default" !== i && Object.prototype.hasOwnProperty.call(e, i)) {
                        var o = r ? Object.getOwnPropertyDescriptor(e, i) : null;
                        o && (o.get || o.set) ? Object.defineProperty(a, i, o) : a[i] = e[i]
                    } return a.default = e, n && n.set(e, a), a
            }
        },
        78984: (e, t, n) => {
            "use strict";
            var a = n(21314).default,
                r = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                return (0, s.promiseLoop)(function() {
                    var t = (0, o.default)(i.default.mark((function t(n, a, r) {
                        var o, l;
                        return i.default.wrap((function(t) {
                            for (;;) switch (t.prev = t.next) {
                                case 0:
                                    return o = (0, u.delayMs)(c.expBackoff(r, 6e4, void 0, .1)), t.prev = 1, t.next = 4, m();
                                case 4:
                                    return t.next = 6, e();
                                case 6:
                                    if (!((l = t.sent).status >= 500 && l.status < 600)) {
                                        t.next = 9;
                                        break
                                    }
                                    return t.abrupt("return", o);
                                case 9:
                                    n(l), t.next = 15;
                                    break;
                                case 12:
                                    return t.prev = 12, t.t0 = t.catch(1), t.abrupt("return", o);
                                case 15:
                                case "end":
                                    return t.stop()
                            }
                        }), t, null, [
                            [1, 12]
                        ])
                    })));
                    return function() {
                        return t.apply(this, arguments)
                    }
                }())
            };
            var i = r(n(87757)),
                o = r(n(48926)),
                l = r(n(6410)),
                u = n(45121),
                s = n(33219),
                d = n(1146),
                c = function(e, t) {
                    if (!t && e && e.__esModule) return e;
                    if (null === e || "object" != typeof e && "function" != typeof e) return {
                        default: e
                    };
                    var n = h(t);
                    if (n && n.has(e)) return n.get(e);
                    var a = {},
                        r = Object.defineProperty && Object.getOwnPropertyDescriptor;
                    for (var i in e)
                        if ("default" !== i && Object.prototype.hasOwnProperty.call(e, i)) {
                            var o = r ? Object.getOwnPropertyDescriptor(e, i) : null;
                            o && (o.get || o.set) ? Object.defineProperty(a, i, o) : a[i] = e[i]
                        } a.default = e, n && n.set(e, a);
                    return a
                }(n(45951)),
                f = r(n(85443)),
                p = n(74950);

            function h(e) {
                if ("function" != typeof WeakMap) return null;
                var t = new WeakMap,
                    n = new WeakMap;
                return (h = function(e) {
                    return e ? n : t
                })(e)
            }

            function m() {
                return p.Socket.state === d.SOCKET_STATE.CONNECTED ? a.resolve() : (0, f.default)(p.Socket, "change:state", (0, l.default)({
                    state: d.SOCKET_STATE.CONNECTED
                }))
            }
        },
        51657: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function() {
                var e = (t = h.ServerProps.pttPlaybackSpeedEnabled ? g : [], [
                    [f.default.t(658), l.default.TOGGLE_UNREAD],
                    [f.default.t(668), l.default.TOGGLE_MUTE],
                    [f.default.t(650), l.default.TOGGLE_ARCHIVE],
                    [f.default.t(653), l.default.DELETE_OR_EXIT_CHAT],
                    [o.fbt._("Pin Chat", null, {
                        hk: "3l6ovX"
                    }), l.default.TOGGLE_PIN],
                    [o.fbt._("Search", null, {
                        hk: "3CChip"
                    }), l.default.SEARCH],
                    [o.fbt._("Search Chat", null, {
                        hk: "eUGKg"
                    }), l.default.SEARCH_IN_CHAT],
                    [f.default.t(669), l.default.OPEN_NEW_CHAT],
                    [f.default.t(662), l.default.GO_TO_NEXT_CHAT],
                    [f.default.t(663), l.default.GO_TO_PREV_CHAT],
                    [f.default.t(670), l.default.OPEN_NEW_GROUP],
                    [f.default.t(671), l.default.OPEN_PROFILE]
                ].concat((0, i.default)(t), [
                    [f.default.t(609), l.default.OPEN_SETTINGS],
                    [o.fbt._("Emoji Panel", null, {
                        hk: "2sDpHl"
                    }), l.default.OPEN_EMOJI_PANEL],
                    [o.fbt._("Gif Panel", null, {
                        hk: "28HQaF"
                    }), l.default.OPEN_GIF_PANEL],
                    [o.fbt._("Sticker Panel", null, {
                        hk: "4y6bgb"
                    }), l.default.OPEN_STICKER_PANEL]
                ])).map((function(e, t) {
                    var n = (0, r.default)(e, 3),
                        a = n[0],
                        i = n[1],
                        o = n[2],
                        l = void 0 === o || o,
                        u = (0, v.jsx)(d.KeyboardShortcut, {
                            action: i,
                            addModifiers: l
                        });
                    if (u) return (0, v.jsxs)("div", {
                        className: c.default.section,
                        children: [(0, v.jsx)("div", {
                            className: c.default.action,
                            title: a,
                            children: a
                        }), (0, v.jsx)("div", {
                            className: c.default.shortcut,
                            children: u
                        })]
                    }, t)
                }));
                var t;
                return (0, v.jsx)(s.default, {
                    onOK: function() {
                        u.Cmd.closeModal()
                    },
                    okText: o.fbt._("OK", null, {
                        hk: "2KEeHb"
                    }),
                    type: p.ModalTheme.Flex,
                    children: (0, v.jsxs)("div", {
                        className: c.default.container,
                        children: [(0, v.jsx)(m.TextSpan, {
                            theme: "popup-title",
                            children: o.fbt._("Keyboard shortcuts", null, {
                                hk: "1uFFXP"
                            })
                        }), (0, v.jsx)("div", {
                            className: c.default.list,
                            children: e
                        })]
                    })
                })
            };
            var r = a(n(63038)),
                i = a(n(319)),
                o = n(48360),
                l = a(n(49305)),
                u = n(65901),
                s = a(n(86777)),
                d = n(88175),
                c = a(n(38899)),
                f = a(n(45159)),
                p = n(73454),
                h = n(43890),
                m = n(22552),
                v = n(85893),
                g = [
                    [o.fbt._("Increase Speed of Selected Voice Message", null, {
                        hk: "YQPbc"
                    }), l.default.INCREASE_PTT_SPEED, !1],
                    [o.fbt._("Decrease Speed of Selected Voice Message", null, {
                        hk: "uHTZ8"
                    }), l.default.DECREASE_PTT_SPEED, !1]
                ]
        },
        46039: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, a, h = e.onOk,
                    m = (0, o.useState)(void 0),
                    v = (0, r.default)(m, 2),
                    g = v[0],
                    _ = v[1];
                (0, o.useEffect)((function() {
                    n.e(9223).then(n.bind(n, 88221)).catch((function() {
                        return null
                    })).then((function(e) {
                        _(null == e ? void 0 : e.default)
                    }))
                }), []), g || (t = (0, p.jsx)("div", {
                    className: s.default.spinner,
                    children: (0, p.jsx)(c.Spinner, {
                        size: 50,
                        stroke: 4
                    })
                }, "spinner"));
                g && (a = (0, p.jsx)("div", {
                    className: s.default.textContainer,
                    children: g
                }));
                return (0, p.jsx)(u.default, {
                    okText: i.fbt._("OK", null, {
                        hk: "2KEeHb"
                    }),
                    onOK: function() {
                        null == h || h(), l.Cmd.closeModal()
                    },
                    type: d.ModalTheme.Flex,
                    children: (0, p.jsxs)("div", {
                        className: s.default.container,
                        children: [(0, p.jsx)(f.TextSpan, {
                            theme: "popup-title",
                            children: i.fbt._("Licenses", null, {
                                hk: "39PWhp"
                            })
                        }), a, t]
                    })
                })
            };
            var r = a(n(63038)),
                i = n(48360),
                o = n(67294),
                l = n(65901),
                u = a(n(86777)),
                s = a(n(43588)),
                d = n(73454),
                c = n(85651),
                f = n(22552),
                p = n(85893)
        },
        42154: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.ID_SEPARATOR = t.Cluster = void 0;
            var r = a(n(319)),
                i = a(n(34575)),
                o = a(n(93913)),
                l = a(n(92810)),
                u = n(10532);
            t.ID_SEPARATOR = ",";
            var s = function() {
                function e() {
                    var t = this;
                    (0, i.default)(this, e), this.participants = new l.default;
                    for (var n = arguments.length, a = new Array(n), r = 0; r < n; r++) a[r] = arguments[r];
                    a.forEach((function(e) {
                        return t.add(e)
                    }))
                }
                return (0, o.default)(e, [{
                    key: "id",
                    get: function() {
                        return this.participants.map((function(e) {
                            return e.id.toString()
                        })).join(",")
                    }
                }, {
                    key: "center",
                    get: function() {
                        var e = this.participants.map((function(e) {
                                return e.lat
                            })),
                            t = this.participants.map((function(e) {
                                return e.lng
                            }));
                        return {
                            lat: (Math.min.apply(Math, (0, r.default)(e)) + Math.max.apply(Math, (0, r.default)(e))) / 2,
                            lng: (Math.min.apply(Math, (0, r.default)(t)) + Math.max.apply(Math, (0, r.default)(t))) / 2
                        }
                    }
                }, {
                    key: "lat",
                    get: function() {
                        return this.center.lat
                    }
                }, {
                    key: "lng",
                    get: function() {
                        return this.center.lng
                    }
                }, {
                    key: "length",
                    get: function() {
                        return this.participants.length
                    }
                }, {
                    key: "northeast",
                    get: function() {
                        var e = this.participants.map((function(e) {
                                return e.lat
                            })),
                            t = this.participants.map((function(e) {
                                return e.lng
                            }));
                        return {
                            lat: Math.max.apply(Math, (0, r.default)(e)),
                            lng: Math.max.apply(Math, (0, r.default)(t))
                        }
                    }
                }, {
                    key: "southwest",
                    get: function() {
                        var e = this.participants.map((function(e) {
                                return e.lat
                            })),
                            t = this.participants.map((function(e) {
                                return e.lng
                            }));
                        return {
                            lat: Math.min.apply(Math, (0, r.default)(e)),
                            lng: Math.min.apply(Math, (0, r.default)(t))
                        }
                    }
                }, {
                    key: "add",
                    value: function(e) {
                        this.participants.add(e)
                    }
                }, {
                    key: "hasSingleParticipant",
                    value: function() {
                        return 1 === this.length
                    }
                }, {
                    key: "fits",
                    value: function(e, t, n) {
                        var a = this.center,
                            r = a.lat,
                            i = a.lng,
                            o = e.lat,
                            l = e.lng,
                            s = (0, u.getMetersBetweenLatLngs)(r, i, r, l),
                            d = (0, u.getMetersBetweenLatLngs)(r, i, o, i),
                            c = (0, u.getMetersPerPixel)(r, t);
                        return s / c <= n && d / c <= n
                    }
                }]), e
            }();
            t.Cluster = s
        },
        45080: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onParticipantSelected,
                    n = e.participants,
                    a = (0, h.default)((function() {
                        return new s.default
                    }));
                return (0, m.jsxs)("div", {
                    className: r.default.container,
                    children: [(0, m.jsxs)("div", {
                        className: r.default.header,
                        children: [(0, m.jsx)("div", {
                            className: r.default.left,
                            children: (0, m.jsx)("span", {
                                className: r.default.close,
                                onClick: e.onClearSelected,
                                children: (0, m.jsx)(f.default, {
                                    name: "x"
                                })
                            })
                        }), (0, m.jsx)("div", {
                            className: r.default.right,
                            children: d.default.t(558, {
                                count: e.participants.length,
                                _plural: e.participants.length
                            })
                        })]
                    }), (0, m.jsx)(u.default, {
                        className: r.default.list,
                        flatListControllers: [a.current],
                        children: (0, m.jsx)(l.FlatList, {
                            data: n.map((function(e) {
                                return {
                                    itemKey: e.id.toString(),
                                    participant: e
                                }
                            })),
                            flatListController: a.current,
                            direction: "vertical",
                            defaultItemHeight: 48,
                            renderItem: function(e) {
                                var n = e.participant,
                                    a = n.isMe ? (0, m.jsx)("div", {
                                        className: r.default.time,
                                        children: (0, m.jsx)(o.default, {
                                            reason: "live-location-time",
                                            children: (0, m.jsx)(p.default, {
                                                participant: n
                                            })
                                        })
                                    }) : null;
                                return (0, m.jsxs)("div", {
                                    className: r.default.item,
                                    onClick: function() {
                                        return t(n.contact.id.toString())
                                    },
                                    children: [(0, m.jsx)("div", {
                                        className: r.default.left,
                                        children: (0, m.jsx)(i.DetailImage, {
                                            id: n.contact.id,
                                            size: 28
                                        })
                                    }), (0, m.jsxs)("div", {
                                        className: r.default.right,
                                        children: [(0, m.jsx)("div", {
                                            className: r.default.name,
                                            children: (0, m.jsx)(c.Name, {
                                                contact: n.contact,
                                                titlify: !0,
                                                ellipsify: !0,
                                                you: !0
                                            })
                                        }), a]
                                    })]
                                })
                            }
                        })
                    })]
                })
            };
            var r = a(n(25075)),
                i = n(66834),
                o = a(n(67049)),
                l = n(73568),
                u = a(n(23803)),
                s = a(n(92546)),
                d = a(n(45159)),
                c = n(1191),
                f = a(n(7665)),
                p = a(n(60880)),
                h = a(n(39394)),
                m = n(85893)
        },
        93139: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.cluster = function(e, t, n, a) {
                var o = new Map;
                if (!e.length) return o;
                for (var l = e.filter((function(e) {
                        return e !== n
                    })).sort((function(e, t) {
                        return e.lat - t.lat
                    })), u = function(e) {
                        var n = l[e],
                            u = void 0;
                        if (o.forEach((function(e) {
                                !u && e.fits(n, t, a) && (u = e)
                            })), u) {
                            var s = u,
                                d = u.id;
                            o.delete(d), s.add(n)
                        } else u = new i.Cluster(n);
                        o.set((0, r.default)(u, "clusterToAdd").id, (0, r.default)(u, "clusterToAdd"))
                    }, s = 0; s < l.length; s++) u(s);
                if (n && e.length !== l.length) {
                    var d = new i.Cluster(n);
                    o.set(d.id, d)
                }
                return o
            }, t.findClusterForParticipant = function(e, t) {
                var n, a = e.values();
                for (;
                    (n = a.next()) && !n.done;) {
                    var r = n.value;
                    if (r.participants.get(t)) return r
                }
                return null
            }, t.participantInCluster = function(e, t) {
                return e.split(i.ID_SEPARATOR).includes(t.toString())
            }, t.singleParticipantClusterId = function(e) {
                return !e.includes(i.ID_SEPARATOR)
            };
            var r = a(n(272)),
                i = n(42154)
        },
        28871: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.STALE_THRESHOLD = t.PIN_SIZE = t.MARKER_SIZE = t.IMAGE_SIZE = t.IMAGE_BORDER_SIZE = t.GLOW_SIZE = t.AVATAR_SIZE = void 0, t.getSmallestElapsedTime = i, t.isStale = function(e) {
                return i(e) >= 600
            };
            var r = a(n(319));
            t.STALE_THRESHOLD = 600;
            t.IMAGE_SIZE = 40;
            t.IMAGE_BORDER_SIZE = 2;
            t.GLOW_SIZE = 4;
            t.PIN_SIZE = 4;
            t.AVATAR_SIZE = 44;

            function i(e) {
                var t = e.participants.map((function(e) {
                    return e.elapsedTime()
                }));
                return Math.min.apply(Math, (0, r.default)(t))
            }
            t.MARKER_SIZE = 52
        },
        70533: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(93913)),
                o = a(n(2205)),
                l = a(n(99842)),
                u = n(48360),
                s = n(67294),
                d = n(10399),
                c = a(n(53187)),
                f = a(n(18345)),
                p = n(19288),
                h = a(n(93531)),
                m = a(n(55878)),
                v = a(n(45159)),
                g = n(63641),
                _ = a(n(68660)),
                x = n(95313),
                C = a(n(33416)),
                y = a(n(77804)),
                S = a(n(61897)),
                b = a(n(7665)),
                j = n(85893),
                E = function(e) {
                    (0, o.default)(n, e);
                    var t = (0, l.default)(n);

                    function n(e) {
                        var a;
                        return (0, r.default)(this, n), (a = t.call(this, e)).onClose = function() {
                            a.props.onClose ? a.props.onClose() : a.props.uim.uie.requestDismiss()
                        }, a.onRoadmapSelected = function() {
                            a.setState({
                                mapType: x.MapType.ROADMAP
                            })
                        }, a.onSatelliteSelected = function() {
                            a.setState({
                                mapType: x.MapType.SATELLITE
                            })
                        }, a.onTerrainSelected = function() {
                            a.setState({
                                mapType: x.MapType.TERRAIN
                            })
                        }, a.onTrafficToggled = function() {
                            a.setState((function(e) {
                                return {
                                    showTraffic: !e.showTraffic
                                }
                            }))
                        }, a.onMarkerSelected = function(e) {
                            a.setState({
                                markerSelected: e
                            })
                        }, a.state = {
                            mapType: x.MapType.ROADMAP,
                            showTraffic: !1,
                            markerSelected: !1,
                            online: y.default.online
                        }, a
                    }
                    return (0, i.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this;
                            this.props.listeners.add(y.default, "change:online", (function() {
                                e.setState({
                                    online: y.default.online
                                })
                            }))
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e, t, n, a, r = (0, j.jsx)(C.default, {
                                    onRoadmapSelected: this.onRoadmapSelected,
                                    onSatelliteSelected: this.onSatelliteSelected,
                                    onTerrainSelected: this.onTerrainSelected,
                                    onTrafficToggled: this.onTrafficToggled,
                                    showTraffic: this.state.showTraffic
                                }),
                                i = this.props.msg,
                                o = i.finalLat,
                                l = i.finalLng,
                                s = i.finalTimeOffset,
                                h = i.lat,
                                g = i.lng,
                                x = i.senderObj,
                                y = i.t,
                                S = this.state,
                                E = S.mapType,
                                k = S.showTraffic,
                                w = S.markerSelected;
                            return void 0 === o || void 0 === l || void 0 === s ? (e = h, t = g, n = y) : (e = o, t = l, n = y + s), a = S.online ? (0, j.jsxs)("div", {
                                className: m.default.wrapper,
                                children: [(0, j.jsx)(_.default, {
                                    contact: x,
                                    lat: e,
                                    lng: t,
                                    mapType: E,
                                    showTraffic: k,
                                    markerSelected: w,
                                    onMarkerSelected: this.onMarkerSelected
                                }), (0, j.jsxs)("div", {
                                    className: m.default.notification,
                                    children: [(0, j.jsx)("div", {
                                        className: m.default.ended,
                                        children: u.fbt._("Live location ended", null, {
                                            hk: "1qhVqb"
                                        })
                                    }), (0, j.jsx)("div", {
                                        className: m.default.lastUpdated,
                                        children: d.Clock.liveLocationLastUpdatedStr(n)
                                    })]
                                })]
                            }) : (0, j.jsx)("div", {
                                className: m.default.offline,
                                children: (0, j.jsxs)("div", {
                                    children: [(0, j.jsx)("div", {
                                        className: m.default.circle,
                                        children: (0, j.jsx)(b.default, {
                                            name: "live-location-disconnected"
                                        })
                                    }), (0, j.jsx)("div", {
                                        className: m.default.text,
                                        children: v.default.t(590)
                                    })]
                                })
                            }), (0, j.jsxs)(c.default, {
                                children: [(0, j.jsx)(p.DrawerHeader, {
                                    title: u.fbt._("Expired Location", null, {
                                        hk: "2bVGaN"
                                    }),
                                    type: p.DRAWER_HEADER_TYPE.SMALL,
                                    menu: r,
                                    onCancel: this.onClose
                                }), (0, j.jsx)(f.default, {
                                    children: a
                                })]
                            })
                        }
                    }]), n
                }(s.PureComponent);
            E.CONCERNS = {
                msg: ["finalLat", "finalLng", "finalTimeOffset", "lat", "lng", "senderObj", "t"]
            }, E.displayName = "ExpiredLocationDrawer";
            var k = (0, h.default)((0, g.ListenerHOC)((0, S.default)(E, E.CONCERNS)));
            t.default = k
        },
        68660: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(93913)),
                o = a(n(2205)),
                l = a(n(99842)),
                u = n(46814),
                s = n(67294),
                d = n(43990),
                c = n(95313),
                f = a(n(53575)),
                p = n(85893),
                h = function(e) {
                    (0, o.default)(n, e);
                    var t = (0, l.default)(n);

                    function n(e) {
                        var a;
                        return (0, r.default)(this, n), (a = t.call(this, e)).setMap = function(e) {
                            return a.map = e
                        }, a.mapOnClick = function() {
                            a.dismissMarkerTimer.debounceAndCap(50, 100)
                        }, a.markerOnClick = function() {
                            a.dismissMarkerTimer.isScheduled() && a.dismissMarkerTimer.cancel(), a.props.onMarkerSelected(!0)
                        }, a.getPixelPositionOffset = function(e, t) {
                            return {
                                x: -e / 2,
                                y: -t
                            }
                        }, a.dismissMarkerTimer = new u.ShiftTimer((function() {
                            a.props.markerSelected && a.props.onMarkerSelected(!1)
                        })), a
                    }
                    return (0, i.default)(n, [{
                        key: "componentWillUnmount",
                        value: function() {
                            this.dismissMarkerTimer.isScheduled() && this.dismissMarkerTimer.cancel()
                        }
                    }, {
                        key: "getMapPaneName",
                        value: function() {
                            return d.OverlayView.OVERLAY_MOUSE_TARGET
                        }
                    }, {
                        key: "getMarkers",
                        value: function() {
                            var e = this,
                                t = this.props,
                                n = t.lat,
                                a = t.lng,
                                r = t.contact,
                                i = t.markerSelected;
                            return (0, p.jsx)(f.default, {
                                marker: {
                                    isLive: !1,
                                    contact: r,
                                    lat: n,
                                    lng: a,
                                    selected: i,
                                    onClick: function(t) {
                                        return e.markerOnClick(t)
                                    }
                                }
                            })
                        }
                    }, {
                        key: "getTrafficLayer",
                        value: function() {
                            return this.props.showTraffic ? (0, p.jsx)(d.TrafficLayer, {
                                autoRefresh: !0
                            }) : null
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = this.props,
                                t = e.lat,
                                n = e.lng;
                            return (0, p.jsxs)(d.GoogleMap, {
                                ref: this.setMap,
                                defaultCenter: {
                                    lat: t,
                                    lng: n
                                },
                                defaultOptions: this.props.getMapOptions(),
                                defaultZoom: c.INITIAL_ZOOM,
                                mapTypeId: this.props.mapType,
                                onClick: this.mapOnClick,
                                children: [this.getMarkers(), this.getTrafficLayer()]
                            })
                        }
                    }]), n
                }(s.Component);
            h.displayName = "ExpiredLocationMap";
            var m = (0, c.withConfig)((0, d.withScriptjs)((0, d.withGoogleMap)(h)));
            t.default = m
        },
        17174: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(59713)),
                i = a(n(34575)),
                o = a(n(93913)),
                l = a(n(2205)),
                u = a(n(99842)),
                s = a(n(41609)),
                d = a(n(23493)),
                c = a(n(67082)),
                f = n(84460),
                p = a(n(94184)),
                h = n(48360),
                m = n(67294),
                v = a(n(45080)),
                g = n(93139),
                _ = n(65901),
                x = n(28871),
                C = a(n(53187)),
                y = a(n(18345)),
                S = n(19288),
                b = a(n(93531)),
                j = a(n(81964)),
                E = a(n(45159)),
                k = n(63641),
                w = a(n(16284)),
                T = a(n(76142)),
                I = n(95313),
                P = a(n(33416)),
                M = a(n(77804)),
                O = a(n(47211)),
                L = a(n(70099)),
                A = a(n(61897)),
                D = n(68220),
                R = a(n(7665)),
                N = a(n(36450)),
                F = n(92428),
                B = n(85893),
                U = ["click", "mousedown", "mousemove", "scroll"],
                G = "ACTIVE",
                H = "INACTIVE",
                W = "OFFLINE",
                V = function(e) {
                    (0, l.default)(n, e);
                    var t = (0, u.default)(n);

                    function n(e) {
                        var a;
                        return (0, i.default)(this, n), (a = t.call(this, e))._onParticipantAdd = function() {
                            var e = a.state,
                                t = e.zoomLevel,
                                n = e.selectedParticipantId;
                            a._updateMinZoomClusters(), a.setState({
                                clusters: a._getClusters(t, n)
                            })
                        }, a.onParticipantRemove = function(e) {
                            var t = a.state,
                                n = t.selectedClusterId,
                                r = t.selectedParticipantId,
                                i = t.zoomLevel;
                            a._updateMinZoomClusters();
                            var o = n,
                                l = r;
                            n && (0, g.participantInCluster)(n, e.id) && (o = null), c.default.equals(r, e.id) && (l = null), a.setState({
                                selectedClusterId: o,
                                selectedParticipantId: l,
                                clusters: a._getClusters(i, l)
                            })
                        }, a._onParticipantDisable = function(e) {
                            if (!e.isMe) {
                                var t = e.contact.formattedName;
                                _.Cmd.openToast((0, B.jsx)(F.Toast, {
                                    msg: E.default.t(573, {
                                        name: t
                                    }),
                                    id: (0, F.genId)()
                                }))
                            }
                        }, a.onLocationChanged = function() {
                            var e = a.state,
                                t = e.zoomLevel,
                                n = e.selectedParticipantId;
                            a._updateMinZoomClusters(), a.setState({
                                clusters: a._getClusters(t, n)
                            })
                        }, a.onIdle = function() {
                            var e = a.props.chat.liveLocation;
                            e && (e.stopViewingMap(), a.setState({
                                status: H
                            }))
                        }, a.onActivity = (0, d.default)((function() {
                            a._removeIdleTimeout(), a._addIdleTimeout()
                        }), 250), a._onRefresh = function() {
                            var e = a.props.chat.liveLocation;
                            e && (e.startViewingMap(), a.setState({
                                status: G
                            }))
                        }, a.onClose = function() {
                            a.props.onClose ? a.props.onClose() : a.props.uim.uie.requestDismiss()
                        }, a.onMarkerSelected = function(e) {
                            e ? (0, g.singleParticipantClusterId)(e) ? a.onParticipantSelected(e) : a._onClusterSelected(e) : a.onClearSelected()
                        }, a.onClearSelected = function() {
                            var e = a.state,
                                t = e.selectedParticipantId,
                                n = e.selectedClusterId,
                                r = e.zoomLevel;
                            (t || n) && a.setState({
                                selectedParticipantId: null,
                                selectedClusterId: null,
                                clusters: a._getClusters(r)
                            })
                        }, a._onClusterSelected = function(e) {
                            a.state.selectedClusterId !== e && a.setState({
                                selectedParticipantId: null,
                                selectedClusterId: e
                            })
                        }, a.onParticipantSelected = function(e) {
                            var t = a.state,
                                n = t.selectedParticipantId,
                                r = t.zoomLevel,
                                i = (0, f.createWid)(e);
                            c.default.equals(n, i) || a.setState({
                                selectedParticipantId: i,
                                selectedClusterId: null,
                                clusters: a._getClusters(r, i)
                            })
                        }, a.onStopSharing = function(e) {
                            e.preventDefault(), e.stopPropagation();
                            var t = a.props.chat;
                            _.Cmd.openModal((0, B.jsx)(w.default, {
                                chat: t
                            }))
                        }, a.onRoadmapSelected = function() {
                            a.setState({
                                mapType: I.MapType.ROADMAP
                            })
                        }, a.onSatelliteSelected = function() {
                            a.setState({
                                mapType: I.MapType.SATELLITE
                            })
                        }, a.onTerrainSelected = function() {
                            a.setState({
                                mapType: I.MapType.TERRAIN
                            })
                        }, a.onTrafficToggled = function() {
                            a.setState((function(e) {
                                return {
                                    showTraffic: !e.showTraffic
                                }
                            }))
                        }, a._onBackToCenter = function() {
                            a.setState({
                                selectedParticipantId: null,
                                selectedClusterId: null,
                                atCenter: !0,
                                clusters: a._getClusters(a.state.zoomLevel)
                            })
                        }, a.onMapMoved = function(e, t) {
                            a.setState((function(n) {
                                var r = {};
                                if (n.zoomLevel !== e) {
                                    var i = a._getClusters(e, n.selectedParticipantId);
                                    Object.assign(r, {
                                        zoomLevel: e,
                                        clusters: i
                                    })
                                }
                                return a._hasValidParticipants() && n.atCenter !== t && Object.assign(r, {
                                    atCenter: t
                                }), (0, s.default)(r) ? null : r
                            }))
                        }, a._updateMinZoomClusters(), a.state = {
                            clusters: a._getClusters(I.INITIAL_ZOOM),
                            selectedClusterId: null,
                            selectedParticipantId: null,
                            mapType: I.MapType.ROADMAP,
                            showTraffic: !1,
                            zoomLevel: I.INITIAL_ZOOM,
                            atCenter: !0,
                            status: M.default.online ? G : W
                        }, a
                    }
                    return (0, o.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            this._listenToModelChange(), this._listenToNetworkChange(), this._startCheckingForIdle();
                            var e = this.props.chat.liveLocation;
                            e && (e.startViewingMap(), this._addParticipantListeners(e))
                        }
                    }, {
                        key: "componentWillUnmount",
                        value: function() {
                            this.onActivity.cancel();
                            var e = this.props.chat.liveLocation;
                            e && e.stopViewingMap()
                        }
                    }, {
                        key: "_addParticipantListeners",
                        value: function(e) {
                            this.props.listeners.add(e.participants, "add", this._onParticipantAdd), this.props.listeners.add(e.participants, "remove", this.onParticipantRemove), this.props.listeners.add(e.participants, "change:disabled", this._onParticipantDisable), this.props.listeners.add(e.participants, "change:valid", this.onLocationChanged)
                        }
                    }, {
                        key: "_removeParticipantListeners",
                        value: function(e) {
                            this.props.listeners.remove(e.participants, "add", this._onParticipantAdd), this.props.listeners.remove(e.participants, "remove", this.onParticipantRemove), this.props.listeners.remove(e.participants, "change:disabled", this._onParticipantDisable), this.props.listeners.remove(e.participants, "change:valid", this.onLocationChanged)
                        }
                    }, {
                        key: "_listenToModelChange",
                        value: function() {
                            var e = this,
                                t = this.props.chat;
                            this.props.listeners.add((0, D.unproxy)(t), "change:liveLocation", (function() {
                                var n = t.liveLocation;
                                n && (e._removeParticipantListeners(n), e._addParticipantListeners(n));
                                var a = e.state.zoomLevel;
                                e.setState({
                                    clusters: e._getClusters(a)
                                })
                            }))
                        }
                    }, {
                        key: "_listenToNetworkChange",
                        value: function() {
                            var e = this;
                            this.props.listeners.add(M.default, "change:online", (function() {
                                M.default.online || e._stopCheckingForIdle(), e.setState({
                                    status: M.default.online ? G : W
                                })
                            }))
                        }
                    }, {
                        key: "_startCheckingForIdle",
                        value: function() {
                            this._addIdleTimeout(), this._addActivityListeners()
                        }
                    }, {
                        key: "_stopCheckingForIdle",
                        value: function() {
                            this._removeIdleTimeout(), this._removeActivityListeners()
                        }
                    }, {
                        key: "_addIdleTimeout",
                        value: function() {
                            this._idleTimeoutId = this.props.setTimeout(this.onIdle, 18e4)
                        }
                    }, {
                        key: "_removeIdleTimeout",
                        value: function() {
                            null != this._idleTimeoutId && this.props.clearTimeout(this._idleTimeoutId), this._idleTimeoutId = null
                        }
                    }, {
                        key: "_addActivityListeners",
                        value: function() {
                            var e = this;
                            U.forEach((function(t) {
                                e.props.listeners.add(document, t, e.onActivity)
                            }))
                        }
                    }, {
                        key: "_removeActivityListeners",
                        value: function() {
                            var e = this;
                            U.forEach((function(t) {
                                e.props.listeners.remove(document, t, e.onActivity)
                            }))
                        }
                    }, {
                        key: "_updateMinZoomClusters",
                        value: function() {
                            var e = this.getParticipants(),
                                t = e ? e.validLocations() : [];
                            this._minZoomClusters = (0, g.cluster)(t, I.MIN_ZOOM, null, x.MARKER_SIZE)
                        }
                    }, {
                        key: "getParticipants",
                        value: function() {
                            var e = this.props.chat.liveLocation;
                            return e ? e.participants : null
                        }
                    }, {
                        key: "_hasValidParticipants",
                        value: function() {
                            var e = this.getParticipants();
                            return !!e && !!e.validLocations().length
                        }
                    }, {
                        key: "_getOpenFromCluster",
                        value: function() {
                            var e = this.getParticipants();
                            if (!e || 0 === e.length) return null;
                            var t = this.props.openFrom,
                                n = null;
                            if (t) n = t;
                            else {
                                var a = e.at(0);
                                a && (n = a.id)
                            }
                            return n ? (0, g.findClusterForParticipant)(this._minZoomClusters, n) : null
                        }
                    }, {
                        key: "_getClusters",
                        value: function(e, t) {
                            var n = this.getParticipants(),
                                a = null,
                                r = [];
                            n && (t && (a = n.get(t)), r = n.validLocations());
                            var i = r,
                                o = [];
                            if (this._minZoomClusters.size > 1) {
                                var l = this._getOpenFromCluster();
                                if (l) {
                                    var u = l.participants;
                                    i = u.validLocations(), o = r.filter((function(e) {
                                        var t = e.id;
                                        return !u.get(t)
                                    }))
                                }
                            }
                            return {
                                primary: (0, g.cluster)(i, e, a, x.MARKER_SIZE),
                                secondary: (0, g.cluster)(o, e, a, x.MARKER_SIZE)
                            }
                        }
                    }, {
                        key: "_getList",
                        value: function() {
                            var e, t = this.state,
                                n = t.clusters,
                                a = t.selectedClusterId,
                                r = this.getParticipants();
                            if (null == r ? void 0 : r.length) {
                                if (a) {
                                    var i = n.primary.get(a) || n.secondary.get(a);
                                    if (i) {
                                        var o = i.participants;
                                        e = (0, B.jsx)(v.default, {
                                            participants: o,
                                            onParticipantSelected: this.onParticipantSelected,
                                            onClearSelected: this.onClearSelected
                                        })
                                    }
                                }
                                e || (e = (0, B.jsx)(O.default, {
                                    participants: r,
                                    onParticipantSelected: this.onParticipantSelected,
                                    onStopSharing: this.onStopSharing
                                }))
                            }
                            return e
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e, t;
                            this.props.isFirstLevel ? e = this.onClose : t = this.onClose;
                            var n, a, i = this.state,
                                o = i.selectedParticipantId,
                                l = i.selectedClusterId,
                                u = i.mapType,
                                s = i.showTraffic,
                                d = i.atCenter,
                                c = i.status,
                                f = c === G ? (0, B.jsx)(P.default, {
                                    onRoadmapSelected: this.onRoadmapSelected,
                                    onSatelliteSelected: this.onSatelliteSelected,
                                    onTerrainSelected: this.onTerrainSelected,
                                    onTrafficToggled: this.onTrafficToggled,
                                    showTraffic: s
                                }) : null;
                            if (c === G || c === H) {
                                var m = o && o.toString() || l;
                                n = (0, B.jsxs)("div", {
                                    className: j.default.wrapper,
                                    children: [(0, B.jsx)("div", {
                                        className: (0, p.default)(j.default.backToCenter, (0, r.default)({}, j.default.visible, !d)),
                                        onClick: this._onBackToCenter,
                                        children: (0, B.jsx)(R.default, {
                                            name: "return"
                                        })
                                    }), (0, B.jsx)(T.default, {
                                        clusters: this.state.clusters.primary,
                                        secondaryClusters: this.state.clusters.secondary,
                                        selectedMarkerId: m,
                                        openFrom: this.props.openFrom,
                                        mapType: u,
                                        showTraffic: s,
                                        atCenter: d,
                                        onMarkerSelected: this.onMarkerSelected,
                                        onClearSelected: this.onClearSelected,
                                        onLocationChanged: this.onLocationChanged,
                                        onMapMoved: this.onMapMoved
                                    }), this._getList()]
                                })
                            }
                            if (c === H || c === W) {
                                var v = c === H,
                                    g = v ? "live-location-refresh" : "live-location-disconnected",
                                    _ = v ? h.fbt._("Click to continue viewing live location", null, {
                                        hk: "4j5wQx"
                                    }) : E.default.t(590);
                                a = (0, B.jsx)(L.default, {
                                    inactive: v,
                                    svgName: g,
                                    text: _,
                                    onClick: v ? this._onRefresh : void 0
                                })
                            }
                            return (0, B.jsxs)(C.default, {
                                children: [(0, B.jsx)(S.DrawerHeader, {
                                    title: h.fbt._("Live Location", null, {
                                        hk: "1LvIwY"
                                    }),
                                    type: S.DRAWER_HEADER_TYPE.SMALL,
                                    menu: f,
                                    onBack: t,
                                    onCancel: e
                                }), (0, B.jsxs)(y.default, {
                                    children: [n, a]
                                })]
                            })
                        }
                    }]), n
                }(m.PureComponent);
            V.CONCERNS = {
                chat: ["id", "liveLocation"]
            }, V.displayName = "LiveLocationDrawer";
            var z = (0, b.default)((0, N.default)((0, k.ListenerHOC)((0, A.default)(V, V.CONCERNS))));
            t.default = z
        },
        76142: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(63038)),
                i = a(n(34575)),
                o = a(n(93913)),
                l = a(n(2205)),
                u = a(n(99842)),
                s = a(n(23279)),
                d = n(46814),
                c = n(67294),
                f = n(43990),
                p = n(95313),
                h = a(n(53575)),
                m = n(10532),
                v = n(85893),
                g = 1e-4,
                _ = function(e) {
                    (0, l.default)(n, e);
                    var t = (0, u.default)(n);

                    function n(e) {
                        var a;
                        return (0, i.default)(this, n), (a = t.call(this, e)).setMap = function(e) {
                            return a.map = e
                        }, a.handleLocationChanged = function(e) {
                            var t = a.props,
                                n = t.clusters,
                                r = t.atCenter,
                                i = t.selectedMarkerId;
                            if (a.props.onLocationChanged(), !i && r) a._viewAllClusters();
                            else if (i && i === e) {
                                var o = n.get(i);
                                o && a._viewSingleCluster(o)
                            }
                        }, a.handleIdle = (0, s.default)((function() {
                            var e = a.map;
                            if (e) {
                                var t = e.getZoom();
                                if (a._zoomingToAllClusters) {
                                    a._defaultZoomLevel = t, a._zoomingToAllClusters = !1;
                                    var n = a._zoomHistory;
                                    if (n.prev.preZoom === n.curr.postZoom && n.prev.postZoom === n.curr.preZoom) return
                                }
                                a.props.onMapMoved(t, a.atCenter())
                            }
                        }), 100), a.handleDragStart = function() {
                            var e = a.map;
                            if (e) {
                                var t = e.getZoom();
                                a.props.onMapMoved(t, !1)
                            }
                        }, a.handleResize = (0, s.default)((function() {
                            a._setMapLatLngDiff()
                        }), 250), a.mapOnClick = function() {
                            a.dismissMarkerTimer.debounceAndCap(50, 100)
                        }, a.markerOnClick = function(e, t) {
                            a.dismissMarkerTimer.isScheduled() && a.dismissMarkerTimer.cancel(), a.props.onMarkerSelected(t)
                        }, a.dismissMarkerTimer = new d.ShiftTimer((function() {
                            a.props.selectedMarkerId && a.props.onClearSelected()
                        })), a._defaultLatDiff = a._defaultLngDiff = .01, a._defaultZoomLevel = -1, a._zoomingToAllClusters = !1, a._zoomHistory = {
                            prev: {
                                preZoom: -1,
                                postZoom: -1
                            },
                            curr: {
                                preZoom: -1,
                                postZoom: -1
                            }
                        }, a
                    }
                    return (0, o.default)(n, [{
                        key: "componentWillUnmount",
                        value: function() {
                            this.handleIdle.cancel(), this.handleResize.cancel(), window.removeEventListener("resize", this.handleResize), this.dismissMarkerTimer.isScheduled() && this.dismissMarkerTimer.cancel()
                        }
                    }, {
                        key: "componentDidMount",
                        value: function() {
                            window.addEventListener("resize", this.handleResize), this._setMapLatLngDiff(), this._viewAllClusters()
                        }
                    }, {
                        key: "componentDidUpdate",
                        value: function(e) {
                            var t = this.props,
                                n = t.clusters,
                                a = t.secondaryClusters,
                                r = t.selectedMarkerId,
                                i = t.atCenter,
                                o = e.selectedMarkerId;
                            if (this._setMapLatLngDiff(), n.size && (!o || r || i))
                                if (r && o !== r) {
                                    var l = n.get(r) || a.get(r);
                                    l && this._viewSingleCluster(l)
                                } else !r && i && this._viewAllClusters()
                        }
                    }, {
                        key: "_viewAllClusters",
                        value: function() {
                            var e = this.props.clusters;
                            0 === e.size || this.atCenter() || (this._zoomToFitAllClusters(e), this._centerAllClusters(e))
                        }
                    }, {
                        key: "_viewSingleCluster",
                        value: function(e) {
                            this._zoomToFitSingleCluster(e), this._centerSingleCluster(e)
                        }
                    }, {
                        key: "_zoomToFitAllClusters",
                        value: function(e) {
                            var t = this.map;
                            if (t) {
                                this._zoomingToAllClusters = !0, this._zoomHistory.prev.preZoom = this._zoomHistory.curr.preZoom, this._zoomHistory.curr.preZoom = t.getZoom();
                                var n = this.getBounds(e),
                                    a = e.entries().next();
                                if (1 !== e.size || a.done) this._boundsTooSmall(n) ? t.fitBounds(this._getDefaultBounds(n.getCenter())) : t.fitBounds(n);
                                else {
                                    var i = (0, r.default)(a.value, 2)[1];
                                    this._zoomToFitSingleCluster(i, !1)
                                }
                                this._zoomHistory.prev.postZoom = this._zoomHistory.curr.postZoom, this._zoomHistory.curr.postZoom = t.getZoom()
                            }
                        }
                    }, {
                        key: "_zoomToFitSingleCluster",
                        value: function(e) {
                            var t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1],
                                n = this.map;
                            if (n && (!t || !this._boundsTooSmall(n.getBounds()))) {
                                var a = e.northeast,
                                    r = e.southwest,
                                    i = new google.maps.LatLng(a.lat, a.lng),
                                    o = new google.maps.LatLng(r.lat, r.lng),
                                    l = new google.maps.LatLngBounds(o, i);
                                this._boundsTooSmall(l) ? n.fitBounds(this._getDefaultBounds(l.getCenter())) : n.fitBounds(l)
                            }
                        }
                    }, {
                        key: "_centerAllClusters",
                        value: function(e) {
                            var t = this.getBounds(e).getCenter();
                            this._centerMap(t)
                        }
                    }, {
                        key: "_centerSingleCluster",
                        value: function(e) {
                            var t = new google.maps.LatLng(e.center);
                            this._centerMap(t)
                        }
                    }, {
                        key: "_centerMap",
                        value: function(e) {
                            var t = this.map;
                            t && (t.getCenter().equals(e) || t.panTo(e))
                        }
                    }, {
                        key: "_getInitialCenter",
                        value: function() {
                            return this.getBounds(this.props.clusters).getCenter()
                        }
                    }, {
                        key: "getBounds",
                        value: function(e) {
                            var t = new google.maps.LatLngBounds;
                            return e.forEach((function(e) {
                                t.extend({
                                    lat: e.lat,
                                    lng: e.lng
                                })
                            })), t
                        }
                    }, {
                        key: "_boundsTooSmall",
                        value: function(e) {
                            var t = e.getNorthEast(),
                                n = e.getSouthWest(),
                                a = t.lat() - n.lat(),
                                r = t.lng() - n.lng(),
                                i = Math.abs(a) < this._defaultLatDiff,
                                o = Math.abs(r) < this._defaultLngDiff;
                            return i || o
                        }
                    }, {
                        key: "_getDefaultBounds",
                        value: function(e) {
                            var t = new google.maps.LatLng(e.lat() - this._defaultLatDiff / 2, e.lng() - this._defaultLngDiff / 2),
                                n = new google.maps.LatLng(e.lat() + this._defaultLatDiff / 2, e.lng() + this._defaultLngDiff / 2);
                            return new google.maps.LatLngBounds(t, n)
                        }
                    }, {
                        key: "atCenter",
                        value: function() {
                            var e = this.map;
                            if (!e) return !0;
                            var t = e.getCenter(),
                                n = this._getInitialCenter(),
                                a = t.lat() - n.lat(),
                                r = t.lng() - n.lng();
                            return Math.abs(a) < g && Math.abs(r) < g && this._defaultZoomLevel === e.getZoom()
                        }
                    }, {
                        key: "_setMapLatLngDiff",
                        value: function() {
                            var e = this.map;
                            if (e) {
                                var t = e.getCenter(),
                                    n = e.getDiv(),
                                    a = (0, m.getMetersPerPixel)(t.lat(), p.INITIAL_ZOOM),
                                    r = n.offsetWidth * a,
                                    i = n.offsetHeight * a;
                                this._defaultLatDiff = (0, m.getLatDiff)(i), this._defaultLngDiff = (0, m.getLngDiff)(r, t.lat())
                            }
                        }
                    }, {
                        key: "getMarkers",
                        value: function() {
                            var e = this,
                                t = this.props,
                                n = t.clusters,
                                a = t.secondaryClusters,
                                r = t.selectedMarkerId,
                                i = [],
                                o = function(t, n) {
                                    i.push((0, v.jsx)(h.default, {
                                        marker: {
                                            isLive: !0,
                                            cluster: t,
                                            onLocationChanged: function() {
                                                return e.handleLocationChanged(n)
                                            },
                                            selected: r === n,
                                            onClick: function(t) {
                                                return e.markerOnClick(t, n)
                                            }
                                        }
                                    }, n))
                                };
                            return n.forEach(o), a.forEach(o), i
                        }
                    }, {
                        key: "getTrafficLayer",
                        value: function() {
                            return this.props.showTraffic ? (0, v.jsx)(f.TrafficLayer, {
                                autoRefresh: !0
                            }) : null
                        }
                    }, {
                        key: "render",
                        value: function() {
                            return (0, v.jsxs)(f.GoogleMap, {
                                ref: this.setMap,
                                defaultCenter: this._getInitialCenter(),
                                defaultOptions: this.props.getMapOptions(),
                                defaultZoom: p.INITIAL_ZOOM,
                                mapTypeId: this.props.mapType,
                                onClick: this.mapOnClick,
                                onDragStart: this.handleDragStart,
                                onIdle: this.handleIdle,
                                children: [this.getMarkers(), this.getTrafficLayer()]
                            })
                        }
                    }]), n
                }(c.Component);
            _.displayName = "LiveLocationMap";
            var x = (0, p.withConfig)((0, f.withScriptjs)((0, f.withGoogleMap)(_)));
            t.default = x
        },
        95313: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.MapType = t.MIN_ZOOM = t.INITIAL_ZOOM = void 0, t.withConfig = function(e) {
                return function(t) {
                    (0, l.default)(a, t);
                    var n = (0, u.default)(a);

                    function a() {
                        var e;
                        (0, i.default)(this, a);
                        for (var t = arguments.length, r = new Array(t), o = 0; o < t; o++) r[o] = arguments[o];
                        return (e = n.call.apply(n, [this].concat(r))).state = {
                            authFailed: !0 === window.gm_authFailed
                        }, e._onAuthFailed = function() {
                            window.gm_authFailed = !0, e.setState({
                                authFailed: !0
                            });
                            var t = e._getUrl();
                            __LOG__(4, void 0, new Error, !0)`url: ${t}\ntarget: ${"electron-renderer"}`, SEND_LOGS("google-map-auth-failed")
                        }, e
                    }
                    return (0, o.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            window.gm_authFailure = this._onAuthFailed
                        }
                    }, {
                        key: "componentWillUnmount",
                        value: function() {
                            window.gm_authFailure = void 0
                        }
                    }, {
                        key: "_getUrl",
                        value: function() {
                            var e = {
                                client: "gme-whatsappinc",
                                v: "3",
                                libraries: "geometry,drawing,places",
                                t: Math.floor(Date.now() / 864e5)
                            };
                            return p.URL.build("https://maps.googleapis.com/maps/api/js", e)
                        }
                    }, {
                        key: "getMapOptions",
                        value: function() {
                            return {
                                clickableIcons: !1,
                                fullscreenControl: !1,
                                keyboardShortcuts: !1,
                                mapTypeControl: !1,
                                minZoom: 3,
                                streetViewControl: !1,
                                zoomControl: !0,
                                zoomControlOptions: {
                                    position: google.maps.ControlPosition.TOP_RIGHT
                                }
                            }
                        }
                    }, {
                        key: "render",
                        value: function() {
                            if (this.state.authFailed) return (0, h.jsx)("div", {
                                className: c.default.authFailed,
                                children: s.fbt._("Failed to load Google Maps", null, {
                                    hk: "2k0Pgj"
                                })
                            });
                            var t = this._getUrl(),
                                n = (0, h.jsx)("div", {
                                    className: c.default.loading,
                                    children: (0, h.jsx)(f.Spinner, {
                                        color: "highlight"
                                    })
                                }),
                                a = (0, h.jsx)("div", {
                                    className: c.default.container
                                }),
                                i = (0, h.jsx)("div", {
                                    className: c.default.map
                                });
                            return (0, h.jsx)(e, (0, r.default)({
                                googleMapURL: t,
                                loadingElement: n,
                                containerElement: a,
                                mapElement: i,
                                getMapOptions: this.getMapOptions
                            }, this.props))
                        }
                    }]), a
                }(d.Component)
            };
            var r = a(n(81109)),
                i = a(n(34575)),
                o = a(n(93913)),
                l = a(n(2205)),
                u = a(n(99842)),
                s = n(48360),
                d = n(67294),
                c = a(n(82165)),
                f = n(85651),
                p = n(29034),
                h = n(85893),
                m = n(76672)({
                    ROADMAP: "roadmap",
                    SATELLITE: "satellite",
                    TERRAIN: "terrain"
                });
            t.MapType = m;
            t.INITIAL_ZOOM = 15;
            t.MIN_ZOOM = 3
        },
        53575: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(59713)),
                i = a(n(34575)),
                o = a(n(93913)),
                l = a(n(2205)),
                u = a(n(99842)),
                s = a(n(94184)),
                d = n(67294),
                c = n(43990),
                f = a(n(99633)),
                p = n(28871),
                h = n(63641),
                m = a(n(24725)),
                v = a(n(2377)),
                g = a(n(36450)),
                _ = a(n(48955)),
                x = n(85893),
                C = function(e) {
                    (0, l.default)(n, e);
                    var t = (0, u.default)(n);

                    function n(e) {
                        var a;
                        return (0, i.default)(this, n), (a = t.call(this, e))._setOverlay = function(e) {
                            a.overlay = e
                        }, a.handleLocationChanged = function() {
                            a.props.marker.isLive && a.props.marker.onLocationChanged()
                        }, a._handleLastUpdatedTimeChanged = function() {
                            if (a.props.marker.isLive) {
                                null != a.timeoutId && (a.props.clearTimeout(a.timeoutId), a.timeoutId = null);
                                var e = (0, p.isStale)(a.props.marker.cluster);
                                a.state.stale !== e && a.setState({
                                    stale: e
                                }), e || a._setStaleTimeout()
                            }
                        }, a._getPixelPositionOffset = function(e, t) {
                            return {
                                x: -e / 2,
                                y: -t
                            }
                        }, a.state = {
                            stale: !e.marker.isLive || (0, p.isStale)(e.marker.cluster)
                        }, a
                    }
                    return (0, o.default)(n, [{
                        key: "_setStaleTimeout",
                        value: function() {
                            var e = this;
                            if (this.props.marker.isLive) {
                                var t = this.props.marker.cluster,
                                    n = p.STALE_THRESHOLD - (0, p.getSmallestElapsedTime)(t);
                                n <= 0 || (this.timeoutId = this.props.setTimeout((function() {
                                    return e.setState({
                                        stale: !0
                                    })
                                }), 1e3 * n))
                            }
                        }
                    }, {
                        key: "componentDidMount",
                        value: function() {
                            var e = this;
                            if (this.props.marker.isLive) {
                                var t = this.props.marker.cluster;
                                (0, p.isStale)(t) || this._setStaleTimeout(), t.participants.forEach((function(t) {
                                    e.props.listeners.add(t, "change:lat change:lng", e.handleLocationChanged), e.props.listeners.add(t, "change:lastUpdated", e._handleLastUpdatedTimeChanged)
                                }))
                            }
                        }
                    }, {
                        key: "_getMapPaneName",
                        value: function() {
                            return this.props.marker.onClick ? c.OverlayView.OVERLAY_MOUSE_TARGET : c.OverlayView.OVERLAY_LAYER
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e, t, n, a, i, o = this.props.marker,
                                l = o.onClick,
                                u = o.selected,
                                d = this.state.stale;
                            if (this.props.marker.isLive) {
                                var h = this.props.marker.cluster;
                                t = h.lat, n = h.lng, a = h.participants.map((function(e) {
                                    return e.id
                                }))
                            } else t = this.props.marker.lat, n = this.props.marker.lng, a = [this.props.marker.contact.id];
                            if (u) {
                                var g, C, y;
                                if (this.props.marker.isLive) {
                                    var S = this.props.marker.cluster,
                                        b = S.participants,
                                        j = S.hasSingleParticipant() ? b.at(0) : null;
                                    j && (g = j.id, C = j.accuracy, y = j.isMe)
                                } else {
                                    var E = this.props.marker.contact;
                                    g = E.id, y = E.isMe
                                }
                                g && (i = (0, x.jsx)(v.default, {
                                    id: g,
                                    lat: t,
                                    lng: n,
                                    accuracy: C,
                                    isMe: y || !1,
                                    markerSize: p.MARKER_SIZE
                                }))
                            }
                            return (0, x.jsx)(c.OverlayView, {
                                ref: this._setOverlay,
                                position: {
                                    lat: t,
                                    lng: n
                                },
                                mapPaneName: this._getMapPaneName(),
                                getPixelPositionOffset: this._getPixelPositionOffset,
                                children: (0, x.jsx)(_.default.Provider, {
                                    value: this.context,
                                    children: (0, x.jsxs)("div", {
                                        className: (0, s.default)(m.default.container, (0, r.default)({}, m.default.selected, u)),
                                        onClick: l,
                                        children: [i, (0, x.jsx)("div", {
                                            className: (0, s.default)(m.default.glow, (e = {}, (0, r.default)(e, m.default.stale, d), (0, r.default)(e, m.default.expired, !this.props.marker.isLive), e)),
                                            style: {
                                                height: p.AVATAR_SIZE,
                                                width: p.AVATAR_SIZE,
                                                padding: p.GLOW_SIZE
                                            },
                                            children: (0, x.jsx)("div", {
                                                children: (0, x.jsx)(f.default, {
                                                    ids: a,
                                                    size: p.IMAGE_SIZE,
                                                    border: !0,
                                                    showCount: !0
                                                })
                                            })
                                        }), (0, x.jsx)("div", {
                                            className: (0, s.default)(m.default.pin, (0, r.default)({}, m.default.selected, u)),
                                            style: {
                                                height: p.PIN_SIZE,
                                                width: p.PIN_SIZE,
                                                marginLeft: (p.MARKER_SIZE - p.PIN_SIZE) / 2
                                            }
                                        })]
                                    })
                                })
                            })
                        }
                    }]), n
                }(d.Component);
            C.contextType = _.default, C.displayName = "LiveLocationMarker";
            var y = (0, g.default)((0, h.ListenerHOC)(C));
            t.default = y
        },
        33416: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                return (0, d.jsx)(u.MenuBarItem, {
                    a8nText: "live-location-map-menu",
                    icon: (0, d.jsx)(s.default, {
                        name: "menu"
                    }),
                    title: l.default.t(611),
                    children: (0, d.jsxs)(i.Dropdown, {
                        type: "dropdown_menu",
                        flipOnRTL: !0,
                        dirX: i.DirX.LEFT,
                        dirY: i.DirY.BOTTOM,
                        children: [(0, d.jsx)(o.DropdownItem, {
                            a8n: "mi-roadmap-view menu-item",
                            action: e.onRoadmapSelected,
                            children: r.fbt._("Map view", null, {
                                hk: "2d2FOv"
                            })
                        }), (0, d.jsx)(o.DropdownItem, {
                            a8n: "mi-satellite-view menu-item",
                            action: e.onSatelliteSelected,
                            children: r.fbt._("Satellite view", null, {
                                hk: "QnsuG"
                            })
                        }), (0, d.jsx)(o.DropdownItem, {
                            a8n: "mi-terrain-view menu-item",
                            action: e.onTerrainSelected,
                            children: r.fbt._("Terrain view", null, {
                                hk: "3LpQsK"
                            })
                        }), (0, d.jsx)(o.DropdownItem, {
                            a8n: "mi-traffic menu-item",
                            action: e.onTrafficToggled,
                            children: e.showTraffic ? r.fbt._("Hide traffic", null, {
                                hk: "1GfpvE"
                            }) : r.fbt._("Show traffic", null, {
                                hk: "21KWWk"
                            })
                        })]
                    })
                })
            };
            var r = n(48360),
                i = n(98169),
                o = n(94680),
                l = a(n(45159)),
                u = n(91823),
                s = a(n(7665)),
                d = n(85893)
        },
        47211: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onParticipantSelected,
                    n = e.onStopSharing,
                    a = e.participants,
                    v = (0, h.default)((function() {
                        return new d.default
                    })),
                    g = (0, i.useMemo)((function() {
                        return a.map((function(e) {
                            return {
                                itemKey: e.id.toString(),
                                contentKey: e.valid ? "valid" : "invalid",
                                participant: e
                            }
                        }))
                    }), [a]);
                return (0, m.jsx)(s.default, {
                    className: f.default.list,
                    flatListControllers: [v.current],
                    children: (0, m.jsx)(u.FlatList, {
                        data: g,
                        renderItem: function(e) {
                            var a = e.participant,
                                i = a.valid ? (0, m.jsx)(l.default, {
                                    reason: "live-location-time",
                                    children: (0, m.jsx)(p.default, {
                                        participant: a
                                    })
                                }) : c.default.t(579),
                                u = a.valid ? function() {
                                    return t(a.contact.id.toString())
                                } : null,
                                s = a.isMe ? (0, m.jsx)("div", {
                                    onClick: n,
                                    className: f.default.stopSharingButton,
                                    children: r.fbt._("Stop Sharing", null, {
                                        hk: "14LWdj"
                                    })
                                }) : null;
                            return (0, m.jsx)(o.Contact, {
                                contact: a.contact,
                                secondary: i,
                                onClick: u,
                                detail: s
                            })
                        },
                        flatListController: v.current,
                        direction: "vertical"
                    })
                })
            };
            var r = n(48360),
                i = n(67294),
                o = n(65002),
                l = a(n(67049)),
                u = n(73568),
                s = a(n(23803)),
                d = a(n(92546)),
                c = a(n(45159)),
                f = a(n(4910)),
                p = a(n(60880)),
                h = a(n(39394)),
                m = n(85893)
        },
        2377: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(59713)),
                i = a(n(34575)),
                o = a(n(93913)),
                l = a(n(2205)),
                u = a(n(99842)),
                s = a(n(94184)),
                d = n(48360),
                c = n(67294),
                f = n(65901),
                p = n(67771),
                h = n(20050),
                m = n(94680),
                v = n(49012),
                g = n(68985),
                _ = a(n(45159)),
                x = n(46061),
                C = n(1191),
                y = a(n(60136)),
                S = a(n(7665)),
                b = n(16835),
                j = a(n(93820)),
                E = n(85893),
                k = function(e) {
                    (0, l.default)(n, e);
                    var t = (0, u.default)(n);

                    function n(e) {
                        var a;
                        return (0, i.default)(this, n), (a = t.call(this, e)).mouseEnter = function() {
                            a.state.hover || a.setState({
                                hover: !0
                            })
                        }, a.mouseLeave = function() {
                            a.state.hover && a.setState({
                                hover: !1
                            })
                        }, a._handleDirection = function() {
                            var e = a.props,
                                t = e.lat,
                                n = e.lng;
                            (0, v.openExternalLink)((0, x.getDirectionUrl)(t, n))
                        }, a.handleMessage = function() {
                            var e = a.props.id;
                            (0, g.findChat)(e).then((function(e) {
                                e.active && f.Cmd.existsDrawerRight((function(e) {
                                    e && 2 === p.Column.column && f.Cmd.closeDrawerRight()
                                })), f.Cmd.openChatFromUnread(e).then((function(t) {
                                    t && f.Cmd.focusChatTextInput(e)
                                }))
                            }))
                        }, a._handleContextOpen = function(e) {
                            var t = null == e ? void 0 : e.target;
                            a.setState({
                                contextMenu: {
                                    menu: a._getContextMenu(),
                                    anchor: t
                                }
                            })
                        }, a.handleContextClose = function() {
                            a.setState({
                                contextMenu: !1
                            })
                        }, a.state = {
                            hover: !1,
                            contextMenu: !1
                        }, a
                    }
                    return (0, o.default)(n, [{
                        key: "_getContextMenu",
                        value: function() {
                            var e = [];
                            return e.push((0, E.jsx)(m.DropdownItem, {
                                a8n: "get-directions",
                                action: this._handleDirection,
                                children: d.fbt._("Get directions", null, {
                                    hk: "MwnzW"
                                })
                            }, "direction")), e.push((0, E.jsx)(m.DropdownItem, {
                                a8n: "send-message",
                                action: this.handleMessage,
                                children: d.fbt._("Message", null, {
                                    hk: "mZ5DE"
                                })
                            }, "message")), e
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = this.props,
                                t = e.id,
                                n = e.accuracy,
                                a = e.isMe,
                                i = e.markerSize,
                                o = h.ContactCollection.assertGet(t),
                                l = (0, E.jsx)("div", {
                                    className: y.default.name,
                                    children: (0, E.jsx)(C.Name, {
                                        ellipsify: !0,
                                        you: !0,
                                        contact: o
                                    })
                                }),
                                u = null != n ? (0, E.jsx)("div", {
                                    className: y.default.status,
                                    children: _.default.t(557, {
                                        accuracy: n,
                                        _plural: n
                                    })
                                }) : null,
                                d = a ? null : (0, E.jsx)("div", {
                                    onClick: this._handleContextOpen,
                                    className: y.default.menuButton,
                                    children: (0, E.jsx)(S.default, {
                                        name: "down"
                                    })
                                }),
                                c = (0, E.jsx)("div", {
                                    className: y.default.triangle
                                }),
                                f = !a && this.state.contextMenu ? (0, E.jsx)(b.UIE, {
                                    displayName: "LiveLocationPopupContextMenu",
                                    escapable: !0,
                                    popable: !0,
                                    requestDismiss: this.handleContextClose,
                                    children: (0, E.jsx)(j.default, {
                                        contextMenu: this.state.contextMenu
                                    })
                                }) : null;
                            return (0, E.jsxs)("div", {
                                className: (0, s.default)(y.default.container, (0, r.default)({}, y.default.twoLines, !!u)),
                                style: {
                                    transform: `translateX(calc(-50% + ${i/2}px))`
                                },
                                children: [(0, E.jsxs)("div", {
                                    className: y.default.popup,
                                    onMouseOver: this.mouseEnter,
                                    onMouseEnter: this.mouseEnter,
                                    onMouseDown: this.mouseLeave,
                                    onMouseUp: this.mouseEnter,
                                    onMouseLeave: this.mouseLeave,
                                    children: [l, u, d]
                                }), c, f]
                            })
                        }
                    }]), n
                }(c.Component);
            t.default = k, k.displayName = "LiveLocationPopup"
        },
        70099: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                return (0, o.jsx)("div", {
                    className: e.inactive ? r.default.inactive : r.default.offline,
                    onClick: e.onClick,
                    children: (0, o.jsxs)("div", {
                        children: [(0, o.jsx)("div", {
                            className: r.default.circle,
                            children: (0, o.jsx)(i.default, {
                                name: e.svgName
                            })
                        }), (0, o.jsx)("div", {
                            className: r.default.text,
                            children: e.text
                        })]
                    })
                })
            };
            var r = a(n(81964)),
                i = a(n(7665)),
                o = n(85893)
        },
        60880: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(63038)),
                i = n(48360),
                o = n(67294),
                l = a(n(45159)),
                u = a(n(12149)),
                s = n(8413),
                d = n(59388),
                c = n(85893),
                f = function(e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                        n = e;
                    t && (n += 59);
                    var a = 3600,
                        r = Math.floor(n / a),
                        i = n % a,
                        o = Math.floor(i / 60);
                    return {
                        hours: r,
                        minutes: o
                    }
                },
                p = function(e) {
                    var t, n, a, r;
                    return e.isMe ? (t = e.remainingTime(), n = f(t, !0), a = n.hours, r = n.minutes, a > 0 ? r > 0 ? l.default.t(565, {
                        hours: a,
                        minutes: r
                    }) : l.default.t(564, {
                        hours: a,
                        _plural: a
                    }) : l.default.t(566, {
                        minutes: r,
                        _plural: r
                    })) : function(e) {
                        var t = f(e),
                            n = t.hours,
                            a = t.minutes;
                        return n > 0 ? a > 0 ? l.default.t(575, {
                            hours: n,
                            minutes: a
                        }) : l.default.t(574, {
                            hours: n,
                            _plural: n
                        }) : a > 0 ? l.default.t(576, {
                            minutes: a,
                            _plural: a
                        }) : i.fbt._("Updated just now", null, {
                            hk: "29EIVi"
                        })
                    }(e.elapsedTime())
                },
                h = function(e) {
                    var t = e.participant,
                        n = (0, o.useState)((function() {
                            return p(t)
                        })),
                        a = (0, r.default)(n, 2),
                        i = a[0],
                        l = a[1];
                    (0, s.useListener)(t, t.isMe ? "change:expiration" : "change:lastUpdated", (function(e) {
                        return l(p(e))
                    }));
                    var f = (0, u.default)((function() {
                            return l(p(t))
                        }), 6e4),
                        h = (0, r.default)(f, 2),
                        m = h[0],
                        v = h[1],
                        g = (0, d.useManualTimeout)((function() {
                            l(p(t)), m()
                        })),
                        _ = (0, r.default)(g, 1)[0],
                        x = t.expiration,
                        C = t.lastUpdated;
                    return (0, o.useEffect)((function() {
                        var e = function(e) {
                            return e.isMe ? e.remainingTime() : e.elapsedTime()
                        }(t) % 60;
                        v(), _(1e3 * e)
                    }), [x, C]), (0, c.jsx)("span", {
                        children: i
                    })
                };
            t.default = h
        },
        10532: (e, t) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.getLatDiff = function(e) {
                return r(e / n)
            }, t.getLngDiff = function(e, t) {
                var i = n * Math.cos(a(t));
                return r(e / i)
            }, t.getMetersBetweenLatLngs = function(e, t, r, i) {
                var o = a(r - e),
                    l = a(i - t),
                    u = Math.sin(o / 2) * Math.sin(o / 2) + Math.cos(a(e)) * Math.cos(a(r)) * Math.sin(l / 2) * Math.sin(l / 2),
                    s = 2 * Math.atan2(Math.sqrt(u), Math.sqrt(1 - u));
                return n * s
            }, t.getMetersPerPixel = function(e, t) {
                var n = Math.cos(e * Math.PI / 180),
                    a = 1 / Math.pow(2, t);
                return 156543.03392 * n * a
            };
            var n = 6371e3;

            function a(e) {
                return e * (Math.PI / 180)
            }

            function r(e) {
                return e * (180 / Math.PI)
            }
        },
        76885: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(48360),
                i = n(67294),
                o = a(n(77353)),
                l = a(n(53187)),
                u = a(n(18345)),
                s = n(19288),
                d = n(85893),
                c = (0, i.forwardRef)((function(e, t) {
                    return (0, d.jsxs)(l.default, {
                        ref: t,
                        children: [(0, d.jsx)(s.DrawerHeader, {
                            a8n: "drawer-title-auto-download",
                            title: r.fbt._("Media Auto-Download", null, {
                                hk: "2iFTSV"
                            }),
                            onBack: e.onClose,
                            type: s.DRAWER_HEADER_TYPE.LARGE
                        }), (0, d.jsx)(u.default, {
                            children: (0, d.jsx)(o.default, {}, "auto-download")
                        })]
                    })
                }));
            t.default = c
        },
        64533: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(63038)),
                i = a(n(51463)),
                o = a(n(84646)),
                l = n(48360),
                u = n(67294),
                s = n(65901),
                d = a(n(53187)),
                c = a(n(81218)),
                f = a(n(18345)),
                p = n(19288),
                h = a(n(46821)),
                m = a(n(96150)),
                v = a(n(74715)),
                g = n(1577),
                _ = n(26574),
                x = n(50215),
                C = a(n(45159)),
                y = n(12231),
                S = a(n(68401)),
                b = n(76110),
                j = a(n(49309)),
                E = n(80385),
                k = a(n(7665)),
                w = n(22552),
                T = n(68544),
                I = a(n(60806)),
                P = n(85893);

            function M(e) {
                var t, n = e.ephemeralDuration,
                    a = e.handleEphemeralDurationClick;
                if (!(0, y.isDisappearingModeEnabled)()) return null;
                t = n > 0 ? (0, y.isEphemeral24HDurationEnabled)() ? (0, x.getDisappearingMessageDurationString)(n) : C.default.t(447) : C.default.t(446);
                var r = (0, P.jsx)(k.default, {
                    className: S.default.chevronIcon,
                    name: "chevron-right-alt",
                    directional: !0
                });
                return (0, P.jsx)(h.default, {
                    children: (0, P.jsxs)(c.default, {
                        onClick: a,
                        side: r,
                        multiline: !0,
                        children: [(0, P.jsx)("div", {
                            className: S.default.header,
                            children: (0, P.jsx)(w.TextHeader, {
                                level: "3",
                                theme: "title",
                                children: l.fbt._("Disappearing messages", null, {
                                    hk: "384ocn"
                                })
                            })
                        }), (0, P.jsx)(w.TextParagraph, {
                            theme: "muted",
                            children: t
                        })]
                    })
                })
            }
            var O = (0, u.forwardRef)((function(e, t) {
                var n = e.participants,
                    a = void 0 === n ? [] : n,
                    l = e.onSubmit,
                    c = (0, u.useRef)(null),
                    x = (0, u.useRef)(null),
                    w = (0, u.useState)(e.subject || ""),
                    O = (0, r.default)(w, 2),
                    L = O[0],
                    A = O[1],
                    D = (0, u.useState)(e.thumb),
                    R = (0, r.default)(D, 2),
                    N = R[0],
                    F = R[1],
                    B = (0, u.useState)(e.full),
                    U = (0, r.default)(B, 2),
                    G = U[0],
                    H = U[1],
                    W = (0, u.useState)((function() {
                        var e, t, n;
                        if ((0, y.isDisappearingModeEnabled)()) {
                            var a = (0, g.getMaybeMeUser)();
                            a && (n = (0, _.getDisappearingModeSettingForUser)(a))
                        }
                        return null !== (e = null === (t = n) || void 0 === t ? void 0 : t.duration) && void 0 !== e ? e : 0
                    })),
                    V = (0, r.default)(W, 2),
                    z = V[0],
                    q = V[1];
                (0, u.useEffect)((function() {
                    var e;
                    null === (e = c.current) || void 0 === e || e.restoreFocus()
                }), []);
                var K = function() {
                        var e = (0, m.default)(L.trim());
                        l(e, N, G, z, a)
                    },
                    Y = L.trim().length > 0,
                    Q = Y ? (0, P.jsx)("div", {
                        className: S.default.nextButton,
                        children: (0, P.jsx)(E.Round, {
                            a8nText: "create-group-btn",
                            onClick: (0, i.default)(K),
                            children: (0, P.jsx)(k.default, {
                                name: "checkmark-medium"
                            })
                        })
                    }) : null;
                return (0, u.useImperativeHandle)(t, (function() {
                    return {
                        restoreFocus: function() {
                            var e;
                            return null === (e = c.current) || void 0 === e ? void 0 : e.restoreFocus()
                        },
                        getElement: function() {
                            return x.current
                        }
                    }
                })), (0, P.jsxs)(d.default, {
                    children: [(0, P.jsx)(p.DrawerHeader, {
                        title: C.default.t(676),
                        type: p.DRAWER_HEADER_TYPE.LARGE,
                        onBack: e.onBack
                    }), (0, P.jsxs)(f.default, {
                        children: [(0, P.jsxs)(h.default, {
                            children: [(0, P.jsx)("div", {
                                className: S.default.section,
                                children: (0, P.jsx)(b.PhotoPickerLoadable, {
                                    type: j.default.GROUP,
                                    attachToChat: !1,
                                    startImage: G,
                                    onImageSet: function(e, t) {
                                        F(e), H(t)
                                    }
                                })
                            }), (0, P.jsx)("div", {
                                "data-a8n": o.default.key("group-subject"),
                                className: S.default.section,
                                ref: x,
                                children: (0, P.jsx)(T.TextInput, {
                                    ref: c,
                                    value: L,
                                    maxLength: 25,
                                    showRemaining: !0,
                                    onChange: function(e) {
                                        A(e)
                                    },
                                    placeholder: C.default.t(510),
                                    onEnter: Y ? (0, i.default)(K) : function() {},
                                    supportsEmoji: !0
                                })
                            })]
                        }), (0, P.jsx)(M, {
                            ephemeralDuration: z,
                            handleEphemeralDurationClick: function() {
                                s.Cmd.openModal((0, P.jsx)(v.default, {
                                    initialDuration: z,
                                    onDurationSelected: q
                                }))
                            }
                        }), (0, P.jsx)(I.default, {
                            transitionName: "btn",
                            children: Q
                        })]
                    })]
                })
            }));
            t.default = O
        },
        93581: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(93913)),
                o = a(n(2205)),
                l = a(n(99842)),
                u = a(n(63105)),
                s = a(n(41609)),
                d = a(n(91966)),
                c = a(n(84646)),
                f = a(n(22060)),
                p = a(n(11845)),
                h = a(n(94184)),
                m = n(48360),
                v = n(67294),
                g = n(84533),
                _ = n(65901),
                x = a(n(86777)),
                C = n(20050),
                y = a(n(6080)),
                S = a(n(53187)),
                b = a(n(18345)),
                j = n(19288),
                E = n(75993),
                k = a(n(23803)),
                w = a(n(92546)),
                T = n(32012),
                I = a(n(45159)),
                P = a(n(6672)),
                M = a(n(98232)),
                O = a(n(98755)),
                L = n(80385),
                A = n(96197),
                D = n(43890),
                R = n(85651),
                N = a(n(7665)),
                F = n(92428),
                B = a(n(17746)),
                U = a(n(60806)),
                G = n(85893),
                H = (0, F.genId)("max_participant_toast"),
                W = function(e) {
                    (0, o.default)(n, e);
                    var t = (0, l.default)(n);

                    function n() {
                        var e;
                        (0, r.default)(this, n);
                        for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++) i[o] = arguments[o];
                        return (e = t.call.apply(t, [this].concat(i))).state = {
                            searchText: "",
                            participants: e.props.participants,
                            shouldFocus: !0,
                            isBusy: !1
                        }, e.flatListController = new w.default, e.setRefParticipantList = function(t) {
                            e.refParticipantList = t
                        }, e.setRefList = function(t) {
                            e.refList = t
                        }, e.handleKeyDown = function(t) {
                            if ("Backspace" === t.key && !e.state.searchText && !(0, s.default)(e.state.participants)) {
                                t.preventDefault();
                                var n = e.state.participants;
                                e.setState({
                                    participants: n.slice(0, n.length - 1),
                                    shouldFocus: !0
                                })
                            }
                        }, e.handleInput = function(t) {
                            e.setState({
                                searchText: t.target.value
                            })
                        }, e.handleReset = function() {
                            e.setState({
                                searchText: "",
                                shouldFocus: !0
                            })
                        }, e.focus = function() {
                            p.default.focus(e.refInput)
                        }, e.handleBack = function() {
                            e.props.onBack()
                        }, e.handleContinue = function() {
                            e.props.onContinue(e.state.participants)
                        }, e.handleDelete = function(t, n) {
                            var a = (0, u.default)(e.state.participants, (function(e) {
                                return !e.id.equals(n.id)
                            }));
                            e.setState({
                                participants: a,
                                shouldFocus: !a.length
                            })
                        }, e.handleContactClick = function(t, n) {
                            e.state.participants.find((function(e) {
                                return e.id.equals(n.id)
                            })) ? e._removeContact(n) : n.isBlocked() ? _.Cmd.openModal((0, G.jsx)(x.default, {
                                title: I.default.t(136),
                                onOK: function() {
                                    e._unblockAndAddContact(n), _.Cmd.closeModal()
                                },
                                onCancel: function() {
                                    return _.Cmd.closeModal()
                                },
                                okText: m.fbt._("Yes", null, {
                                    hk: "12b9aE"
                                }),
                                cancelText: m.fbt._("No", null, {
                                    hk: "4G38V6"
                                }),
                                children: m.fbt._("The contact you have selected is blocked. Would you like to unblock them and add them to the group?", null, {
                                    hk: "3i4hjJ"
                                })
                            })) : e.addContact(n)
                        }, e.handleFocusList = function(t) {
                            e.refList && (t.preventDefault(), t.stopPropagation(), f.default.shouldIndicateFocus(), e.refList && e.refList.focusFirst())
                        }, e._handleFocusParticipants = function(t) {
                            t.repeat || e.refInput && 0 !== e.refInput.selectionStart || e.refParticipantList && (t.preventDefault(), t.stopPropagation(), T.HotKeys.flashFocus = 0, e.refParticipantList && e.refParticipantList.focusLast())
                        }, e.handleSelectFirst = function(t) {
                            t.preventDefault(), t.stopPropagation();
                            var n = e.getFilteredContacts()[0];
                            n && e.handleContactClick(t, n)
                        }, e.handleFocusSearch = function() {
                            f.default.shouldIndicateFocus(), p.default.focus(e.refInput)
                        }, e.setRefInput = function(t) {
                            e.refInput = t
                        }, e._setRefSizer = function(t) {
                            e._refSizer = t
                        }, e
                    }
                    return (0, i.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            this.focus()
                        }
                    }, {
                        key: "componentDidUpdate",
                        value: function() {
                            this._adjustInput()
                        }
                    }, {
                        key: "getFilteredContacts",
                        value: function() {
                            var e = (0, d.default)(C.ContactCollection.getFilteredContacts(), this.state.participants),
                                t = this.state.searchText;
                            if (!t) return e;
                            t = I.default.accentFold(t);
                            var n = (0, M.default)(t);
                            return e.filter((function(e) {
                                return e.searchMatch(t, n)
                            }))
                        }
                    }, {
                        key: "_adjustInput",
                        value: function() {
                            if (this.refInput) {
                                var e, t = this.refInput.offsetParent.offsetWidth - 10,
                                    n = this._refSizer.offsetWidth,
                                    a = n > t ? t : n;
                                this.refInput.style.width = a + "px", e = t - this.refInput.offsetLeft - a > 0 ? t - this.refInput.offsetLeft : t, this.refInput.style.width = e + "px", this.state.shouldFocus && this.focus()
                            }
                        }
                    }, {
                        key: "addContact",
                        value: function(e) {
                            var t = this.state.participants;
                            if (t.length >= D.ServerProps.maxParticipants) {
                                var n = I.default.t(49, {
                                    max: D.ServerProps.maxParticipants
                                });
                                _.Cmd.openToast((0, G.jsx)(F.Toast, {
                                    msg: n,
                                    id: H
                                }))
                            } else this.setState({
                                participants: t.concat(e),
                                searchText: "",
                                shouldFocus: !0
                            })
                        }
                    }, {
                        key: "_removeContact",
                        value: function(e) {
                            var t = this.state.participants;
                            this.setState({
                                participants: (0, u.default)(t, (function(t) {
                                    return !e.id.equals(t.id)
                                })),
                                shouldFocus: !0
                            })
                        }
                    }, {
                        key: "_unblockAndAddContact",
                        value: function(e) {
                            var t = this;
                            this.setState({
                                isBusy: !0
                            }), (0, g.unblockContact)(e).then((function() {
                                t.props.getUnmountSignal().aborted || (t.addContact(e), t.setState({
                                    isBusy: !1
                                }))
                            })).catch((function() {
                                t.setState({
                                    isBusy: !1
                                })
                            }))
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e, t, n, a;
                            this.state.isBusy ? a = (0, G.jsx)("div", {
                                className: P.default.spinner,
                                children: (0, G.jsx)(R.Spinner, {
                                    stroke: 6,
                                    size: 24
                                })
                            }) : (null === (e = this.state.participants) || void 0 === e ? void 0 : e.length) && (a = (0, G.jsx)(L.Round, {
                                a8nText: "group-participants-btn",
                                onClick: this.handleContinue,
                                children: (0, G.jsx)(N.default, {
                                    name: "arrow-forward",
                                    directional: !0
                                })
                            }));
                            var r = (null === (t = this.state.participants) || void 0 === t ? void 0 : t.length) ? " " : I.default.t(506),
                                i = {
                                    down: this.handleFocusList,
                                    enter: this.state.searchText ? this.handleSelectFirst : (null === (n = this.state.participants) || void 0 === n ? void 0 : n.length) ? this.handleContinue : function() {},
                                    up: this._handleFocusParticipants
                                };
                            i[I.default.LR("left", "right")] = this._handleFocusParticipants;
                            var o, l = this.getFilteredContacts();
                            return o = 0 === l.length ? (0, G.jsx)(E.SearchContacts, {}) : (0, G.jsx)(y.default, {
                                ref: this.setRefList,
                                flatListController: this.flatListController,
                                contacts: l,
                                onClick: this.handleContactClick,
                                onFocusSearch: this.handleFocusSearch,
                                showPersonGroupDivisionHeader: !1
                            }), (0, G.jsxs)(S.default, {
                                children: [(0, G.jsx)(j.DrawerHeader, {
                                    title: m.fbt._("Add group participants", null, {
                                        hk: "24QOhm"
                                    }),
                                    type: j.DRAWER_HEADER_TYPE.LARGE,
                                    onBack: this.handleBack
                                }), (0, G.jsxs)(b.default, {
                                    children: [(0, G.jsx)("div", {
                                        className: P.default.search,
                                        children: (0, G.jsx)("div", {
                                            children: (0, G.jsxs)(T.HotKeys, {
                                                handlers: i,
                                                className: P.default.inputLine,
                                                children: [(0, G.jsx)("div", {
                                                    "data-list-scroll-container": !0,
                                                    children: (0, G.jsx)(O.default, {
                                                        ref: this.setRefParticipantList,
                                                        theme: "list-names",
                                                        contacts: this.state.participants,
                                                        onDelete: this.handleDelete,
                                                        onFocusSearch: this.handleFocusSearch
                                                    })
                                                }), (0, G.jsx)("input", {
                                                    "data-a8n": c.default.key("inputarea"),
                                                    className: (0, h.default)(P.default.inputarea, A.SELECTABLE_INPUT_CSS_CLASS),
                                                    ref: this.setRefInput,
                                                    placeholder: r,
                                                    onKeyDown: this.handleKeyDown,
                                                    onChange: this.handleInput,
                                                    value: this.state.searchText,
                                                    type: "text"
                                                }), (0, G.jsx)("span", {
                                                    className: P.default.inputareaSizer,
                                                    ref: this._setRefSizer,
                                                    children: this.state.searchText
                                                })]
                                            })
                                        })
                                    }), (0, G.jsx)(k.default, {
                                        className: P.default.contacts,
                                        flatListControllers: [this.flatListController],
                                        children: o
                                    }), (0, G.jsx)(U.default, {
                                        transitionName: "btn",
                                        className: P.default.drawerSection,
                                        children: a
                                    })]
                                })]
                            })
                        }
                    }]), n
                }(v.Component);
            W.defaultProps = {
                participants: []
            }, W.displayName = "NewGroupParticipantsDrawer";
            var V = (0, B.default)(W);
            t.default = V
        },
        71238: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(67294),
                i = a(n(26004)),
                o = a(n(53187)),
                l = a(n(18345)),
                u = n(19288),
                s = a(n(45159)),
                d = n(66821),
                c = n(85893),
                f = (0, r.forwardRef)((function(e, t) {
                    return (0, c.jsxs)(o.default, {
                        ref: t,
                        children: [(0, c.jsx)(u.DrawerHeader, {
                            a8n: "drawer-title-notifications",
                            title: s.default.t(686),
                            onBack: e.onClose,
                            type: u.DRAWER_HEADER_TYPE.LARGE
                        }), (0, c.jsx)(l.default, {
                            children: (0, c.jsx)(i.default, {
                                mute: d.MuteCollection.globalMute(),
                                reactionsMute: d.MuteCollection.globalReactionsMute()
                            }, "notifications")
                        })]
                    })
                }));
            t.default = f
        },
        9245: (e, t, n) => {
            "use strict";
            var a = n(6089).default,
                r = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(n(81109)),
                o = r(n(87757)),
                l = r(n(48926)),
                u = r(n(63038)),
                s = r(n(272)),
                d = n(74355),
                c = n(48360),
                f = n(67294),
                p = r(n(56720)),
                h = n(95860),
                m = n(29830),
                v = n(91404),
                g = n(65901),
                _ = n(20050),
                x = r(n(53187)),
                C = r(n(18345)),
                y = n(19288),
                S = r(n(34271)),
                b = r(n(46821)),
                j = n(1577),
                E = n(25206),
                k = r(n(45159)),
                w = n(12231),
                T = r(n(39540)),
                I = n(52796),
                P = n(10066),
                M = r(n(7665)),
                O = n(92428),
                L = n(8413),
                A = n(69283),
                D = n(85893),
                R = {
                    drawerTitle: {
                        paddingTop: "hc2u0oym",
                        paddingEnd: "f9ovudaz",
                        paddingBottom: "myel2vfb",
                        paddingStart: "gx1rr48f"
                    },
                    chevronRightIcon: {
                        color: "g4ti3y4y",
                        height: "qgpfrw6h"
                    },
                    readReceiptsCheckBoxWrapper: {
                        width: "jswlwoyz",
                        display: "p357zi0d",
                        justifyContent: "ac2vgrno"
                    }
                };

            function N(e, t) {
                var n, r, i, k, P = (0, f.useState)((function() {
                        return B((0, j.getUserPrivacySettings)())
                    })),
                    M = (0, u.default)(P, 2),
                    N = M[0],
                    H = M[1],
                    W = (0, f.useState)({
                        status: null,
                        groupadd: null,
                        last: null,
                        profile: null
                    }),
                    V = (0, u.default)(W, 2),
                    z = V[0],
                    q = V[1],
                    K = (0, s.default)(_.ContactCollection.get((0, j.getMaybeMeUser)()), "ContactCollection.get(getMaybeMeUser())"),
                    Y = (0, A.useModelValues)(K, ["disappearingModeDuration"]).disappearingModeDuration;

                function Q(e) {
                    var t = B(e.privacySettings);
                    if (null == t) throw new Error(`Incomplete privacy settings: ${Object.keys((0,j.getUserPrivacySettings)()).join(", ")}`);
                    H(t), q((0, I.disallowedRowsToLists)(e.privacyDisallowedRows))
                }(0, f.useEffect)((function() {
                    var t = new a;
                    return null == N && (0, l.default)(o.default.mark((function n() {
                            var a;
                            return o.default.wrap((function(n) {
                                for (;;) switch (n.prev = n.next) {
                                    case 0:
                                        return n.prev = 0, n.next = 3, (0, h.updatePrivacySettings)();
                                    case 3:
                                        if (a = n.sent, !t.signal.aborted) {
                                            n.next = 6;
                                            break
                                        }
                                        return n.abrupt("return");
                                    case 6:
                                        Q(a), n.next = 14;
                                        break;
                                    case 9:
                                        n.prev = 9, n.t0 = n.catch(0), __LOG__(4, void 0, new Error, !0)`privacy_settings_drawer: get privacy settings failed ${n.t0.stack}`, SEND_LOGS("privacy_settings_drawer: get privacy settings failed"), e.onClose(), g.Cmd.openToast((0, D.jsx)(O.Toast, {
                                            id: (0, O.genId)(),
                                            msg: c.fbt._("Failed to get privacy settings, please try again.", null, {
                                                hk: "2UOq9J"
                                            })
                                        }));
                                    case 14:
                                    case "end":
                                        return n.stop()
                                }
                            }), n, null, [
                                [0, 9]
                            ])
                        })))(),
                        function() {
                            return t.abort()
                        }
                }), []), (0, f.useEffect)((function() {
                    var e = new a;
                    return (0, l.default)(o.default.mark((function t() {
                            var n;
                            return o.default.wrap((function(t) {
                                for (;;) switch (t.prev = t.next) {
                                    case 0:
                                        return t.next = 2, (0, I.queryDisallowedLists)();
                                    case 2:
                                        if (n = t.sent, !e.signal.aborted) {
                                            t.next = 5;
                                            break
                                        }
                                        return t.abrupt("return");
                                    case 5:
                                        q(n);
                                    case 6:
                                    case "end":
                                        return t.stop()
                                }
                            }), t)
                        })))(),
                        function() {
                            return e.abort()
                        }
                }), []), (0, L.useListener)(g.Cmd, "account_sync_for_privacy", (function(e) {
                    Q(e)
                }));
                var X = c.fbt._("Privacy", null, {
                    hk: "WHXuP"
                });
                if (!N) return (0, D.jsx)(T.default, {
                    title: X,
                    error: !1
                });
                var Z, J, $ = (0, w.isDefaultDisappearingMessagesEnabled)(),
                    ee = N.lastSeen,
                    te = N.profilePicture,
                    ne = N.about,
                    ae = N.groupAdd,
                    re = N.readReceipts;
                return (0, D.jsxs)(x.default, {
                    ref: t,
                    theme: "striped",
                    testid: "privacy-settings-drawer",
                    children: [(0, D.jsx)(y.DrawerHeader, {
                        a8n: "drawer-title-privacy",
                        title: X,
                        onBack: e.onClose,
                        type: y.DRAWER_HEADER_TYPE.LARGE
                    }), (0, D.jsxs)(C.default, {
                        children: [(0, D.jsxs)(b.default, {
                            title: c.fbt._("Who can see my personal info", null, {
                                hk: "2dUwwx"
                            }),
                            titleXStyle: R.drawerTitle,
                            theme: "padding-no-vertical",
                            animation: !1,
                            ellipsify: !1,
                            children: [(0, D.jsx)(F, {
                                title: c.fbt._("Last seen", null, {
                                    hk: "4GuTlB"
                                }),
                                onClick: function() {
                                    e.onOpenVisibilityEditDrawer("lastSeen")
                                },
                                children: (0, D.jsx)("span", {
                                    children: U(ee, null === (n = z.last) || void 0 === n ? void 0 : n.disallowedList.length)
                                })
                            }), (0, D.jsx)(F, {
                                title: c.fbt._("Profile photo", null, {
                                    hk: "rs5RE"
                                }),
                                onClick: function() {
                                    e.onOpenVisibilityEditDrawer("profilePicture")
                                },
                                children: (0, D.jsx)("span", {
                                    children: U(te, null === (r = z.profile) || void 0 === r ? void 0 : r.disallowedList.length)
                                })
                            }), (0, D.jsx)(F, {
                                title: c.fbt._("About", null, {
                                    hk: "3PhlvU"
                                }),
                                onClick: function() {
                                    e.onOpenVisibilityEditDrawer("about")
                                },
                                children: (0, D.jsx)("span", {
                                    children: U(ne, null === (i = z.status) || void 0 === i ? void 0 : i.disallowedList.length)
                                })
                            }), (0, D.jsx)(S.default, {
                                title: c.fbt._("Read receipts", null, {
                                    hk: "4p0OAK"
                                }),
                                icon: (0, D.jsx)("div", {
                                    className: (0, p.default)(R.readReceiptsCheckBoxWrapper),
                                    children: (0, D.jsx)(v.CheckBox, {
                                        checked: re === d.ALL_NONE.all,
                                        stopPropagation: !0,
                                        onChange: function() {}
                                    })
                                }),
                                theme: "privacy",
                                isLastItem: !0,
                                onClick: function() {
                                    ! function() {
                                        G.apply(this, arguments)
                                    }(N, H, re)
                                },
                                children: (0, D.jsx)("span", {
                                    children: c.fbt._("If turned off, you won't send or receive Read receipts. Read receipts are always sent for group chats.", null, {
                                        hk: "1N51oN"
                                    })
                                })
                            })]
                        }), $ && (0, D.jsx)(b.default, {
                            theme: "padding-no-vertical",
                            title: c.fbt._("Disappearing messages", null, {
                                hk: "1u7uAT"
                            }),
                            titleXStyle: R.drawerTitle,
                            animation: !1,
                            children: (0, D.jsx)(F, {
                                title: c.fbt._("Default message timer", null, {
                                    hk: "2tVUXb"
                                }),
                                onClick: e.onOpenEphemeralityDrawer,
                                isLastItem: !0,
                                testid: "ddm-settings-item",
                                children: (0, D.jsx)("span", {
                                    "data-testid": "ddm-settings-item-value",
                                    children: (Z = Y, J = (0, E.getAllDurations)().find((function(e) {
                                        return e.value === Z
                                    })), void 0 === J && "number" == typeof Z ? (__LOG__(4, void 0, new Error, !0)`Could not find matching duration label for duration: "${Z}"`, SEND_LOGS("No matching duration label"), c.fbt._("On", null, {
                                        hk: "1HkDTU"
                                    })) : void 0 === J ? c.fbt._("Off", null, {
                                        hk: "1ueKlZ"
                                    }) : J.label)
                                })
                            })
                        }), (0, D.jsxs)(b.default, {
                            theme: $ ? "padding" : "padding-no-vertical",
                            animation: !1,
                            children: [(0, D.jsx)(F, {
                                title: c.fbt._("Groups", null, {
                                    hk: "3ajQWI"
                                }),
                                onClick: function() {
                                    e.onOpenVisibilityEditDrawer("groupAdd")
                                },
                                children: (0, D.jsx)("span", {
                                    children: U(ae, null === (k = z.groupadd) || void 0 === k ? void 0 : k.disallowedList.length)
                                })
                            }), (0, D.jsx)(F, {
                                title: c.fbt._("Blocked contacts", null, {
                                    hk: "YxQ5T"
                                }),
                                isLastItem: !0,
                                onClick: e.onOpenBlockedContacts,
                                children: (0, D.jsx)("span", {
                                    children: 0 === m.BlocklistCollection.length ? c.fbt._("None", null, {
                                        hk: "3cviAo"
                                    }) : m.BlocklistCollection.length
                                })
                            })]
                        })]
                    })]
                })
            }

            function F(e) {
                var t = e.title,
                    n = e.onClick,
                    a = e.isLastItem,
                    r = e.children,
                    i = e.testid;
                return (0, D.jsx)(S.default, {
                    title: t,
                    theme: "privacy",
                    icon: (0, D.jsx)(M.default, {
                        name: k.default.isRTL() ? "chevron-left" : "chevron-right",
                        iconXstyle: R.chevronRightIcon
                    }),
                    onClick: n,
                    isLastItem: a,
                    testid: i,
                    children: r
                })
            }

            function B(e) {
                var t = e.about,
                    n = e.groupAdd,
                    a = e.lastSeen,
                    r = e.profilePicture,
                    i = e.readReceipts;
                if (null != t && null != n && null != a && null != r && null != i) return {
                    about: t,
                    groupAdd: n,
                    lastSeen: a,
                    profilePicture: r,
                    readReceipts: i
                }
            }

            function U(e, t) {
                switch (e) {
                    case d.VISIBILITY.all:
                        return c.fbt._("Everyone", null, {
                            hk: "3oWv8q"
                        });
                    case d.VISIBILITY.contacts:
                        return c.fbt._("My contacts", null, {
                            hk: "3jgOvC"
                        });
                    case d.VISIBILITY.contact_blacklist:
                        return null == t ? "" : k.default.t(707, {
                            count: t,
                            _plural: t
                        });
                    case d.VISIBILITY.none:
                        return c.fbt._("Nobody", null, {
                            hk: "ghOKj"
                        });
                    default:
                        return ""
                }
            }

            function G() {
                return (G = (0, l.default)(o.default.mark((function e(t, n, a) {
                    var r;
                    return o.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                if (r = a === d.ALL_NONE.all ? d.ALL_NONE.none : d.ALL_NONE.all, n((0, i.default)((0, i.default)({}, t), {}, {
                                        readReceipts: r
                                    })), e.prev = 2, r !== d.ALL_NONE.none) {
                                    e.next = 8;
                                    break
                                }
                                return e.next = 6, (0, P.setPrivacyForOneCategory)({
                                    name: "readreceipts",
                                    value: "none"
                                });
                            case 6:
                                e.next = 10;
                                break;
                            case 8:
                                return e.next = 10, (0, P.setPrivacyForOneCategory)({
                                    name: "readreceipts",
                                    value: "all"
                                });
                            case 10:
                                e.next = 16;
                                break;
                            case 12:
                                e.prev = 12, e.t0 = e.catch(2), __LOG__(3, void 0, void 0, !0)`privacy_settings_drawer: set readreceipts failed ${e.t0.stack}`, SEND_LOGS("privacy_settings_drawer: set readreceipts failed"), g.Cmd.openToast((0, D.jsx)(O.Toast, {
                                    id: (0, O.genId)(),
                                    msg: c.fbt._("Failed to update Read receipts, please try again.", null, {
                                        hk: "3xUfMr"
                                    })
                                }));
                            case 16:
                            case "end":
                                return e.stop()
                        }
                    }), e, null, [
                        [2, 12]
                    ])
                })))).apply(this, arguments)
            }
            var H = (0, f.forwardRef)(N);
            t.default = H
        },
        13315: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.PrivacyVisibilityEditDrawer = void 0;
            var r = a(n(87757)),
                i = a(n(48926)),
                o = a(n(63038)),
                l = n(74355),
                u = n(48360),
                s = n(67294),
                d = a(n(56720)),
                c = a(n(22630)),
                f = n(65901),
                p = a(n(53187)),
                h = a(n(18345)),
                m = n(19288),
                v = a(n(46821)),
                g = n(1577),
                _ = n(2629),
                x = a(n(53201)),
                C = n(10066),
                y = n(92428),
                S = a(n(76080)),
                b = n(59175),
                j = n(85893),
                E = {
                    description: {
                        marginTop: "c46o30wg",
                        marginEnd: "jnwc1y2a",
                        marginBottom: "du8bjn1j",
                        marginStart: "svoq16ka",
                        fontSize: "f8jlpxt4",
                        color: "eruf1vka",
                        lineHeight: "r5qsrrlp"
                    },
                    visibilityOption: {
                        display: "f804f6gw",
                        paddingTop: "a71rq12o",
                        paddingEnd: "f9ovudaz",
                        paddingBottom: "pcbmd69e",
                        paddingStart: "gx1rr48f",
                        textAlign: "ml4r5409"
                    },
                    visibilityOptionText: {
                        fontSize: "enbbiyaj",
                        lineHeight: "r5qsrrlp",
                        display: "l7jjieqr"
                    },
                    visibilityOptionSpace: {
                        display: "l7jjieqr",
                        width: "m0s4cjtr"
                    }
                };

            function k(e, t) {
                var n = e.category,
                    a = e.onClose,
                    c = (0, s.useState)((function() {
                        var e, t, a, r, i = (0, g.getUserPrivacySettings)();
                        switch (n) {
                            case "about":
                                return null !== (e = i.about) && void 0 !== e ? e : l.VISIBILITY.all;
                            case "profilePicture":
                                return null !== (t = i.profilePicture) && void 0 !== t ? t : l.VISIBILITY.all;
                            case "lastSeen":
                                return null !== (a = i.lastSeen) && void 0 !== a ? a : l.VISIBILITY.all;
                            case "groupAdd":
                                return null !== (r = i.groupAdd) && void 0 !== r ? r : l.VISIBILITY.all
                        }
                    })),
                    S = (0, o.default)(c, 2),
                    k = S[0],
                    P = S[1];

                function M() {
                    return O.apply(this, arguments)
                }

                function O() {
                    return (O = (0, i.default)(r.default.mark((function e(t) {
                        var a;
                        return r.default.wrap((function(e) {
                            for (;;) switch (e.prev = e.next) {
                                case 0:
                                    if (t !== k) {
                                        e.next = 2;
                                        break
                                    }
                                    return e.abrupt("return");
                                case 2:
                                    if (P(t), "readreceipts" !== (a = (0, C.privacyWebNameToServerName)(n))) {
                                        e.next = 6;
                                        break
                                    }
                                    throw new Error("visibility_edit_drawer: category can not be readreceipts");
                                case 6:
                                    e.prev = 6, e.t0 = t, e.next = e.t0 === l.VISIBILITY.none ? 10 : e.t0 === l.VISIBILITY.contacts ? 15 : e.t0 === l.VISIBILITY.all ? 18 : 21;
                                    break;
                                case 10:
                                    if ("groupadd" !== a) {
                                        e.next = 12;
                                        break
                                    }
                                    throw new Error("visibility_edit_drawer: groupadd can not be none");
                                case 12:
                                    return e.next = 14, (0, C.setPrivacyForOneCategory)({
                                        name: a,
                                        value: "none"
                                    });
                                case 14:
                                    return e.abrupt("return");
                                case 15:
                                    return e.next = 17, (0, C.setPrivacyForOneCategory)({
                                        name: a,
                                        value: "contacts"
                                    });
                                case 17:
                                    return e.abrupt("return");
                                case 18:
                                    return e.next = 20, (0, C.setPrivacyForOneCategory)({
                                        name: a,
                                        value: "all"
                                    });
                                case 20:
                                    return e.abrupt("return");
                                case 21:
                                    e.next = 29;
                                    break;
                                case 23:
                                    e.prev = 23, e.t1 = e.catch(6), P(k), e.t1 instanceof b.ServerStatusCodeError && 409 === e.t1.statusCode || (__LOG__(3, void 0, void 0, !0)`visibility_edit_drawer: set visiblity option failed ${e.t1.stack}`, SEND_LOGS("visibility_edit_drawer: set visiblity option failed")), f.Cmd.openToast((0, j.jsx)(y.Toast, {
                                        id: (0, y.genId)(),
                                        msg: u.fbt._("Failed to update privacy settings. Please try again.", null, {
                                            hk: "h89q3"
                                        })
                                    }));
                                case 29:
                                case "end":
                                    return e.stop()
                            }
                        }), e, null, [
                            [6, 23]
                        ])
                    })))).apply(this, arguments)
                }
                var L = (0, j.jsx)(I, {
                        text: u.fbt._("Everyone", null, {
                            hk: "3oWv8q"
                        }),
                        selected: k === l.VISIBILITY.all,
                        onClick: function() {
                            M(l.VISIBILITY.all)
                        }
                    }),
                    A = (0, j.jsx)(I, {
                        text: u.fbt._("My contacts", null, {
                            hk: "3jgOvC"
                        }),
                        selected: k === l.VISIBILITY.contacts,
                        onClick: function() {
                            M(l.VISIBILITY.contacts)
                        }
                    }),
                    D = "groupAdd" === n || (0, _.privacyAllowContactsExceptEnabled)() ? (0, j.jsx)(I, {
                        text: u.fbt._("My contacts except...", null, {
                            hk: "2tCWPL"
                        }),
                        selected: k === l.VISIBILITY.contact_blacklist,
                        onClick: function() {
                            f.Cmd.openModal((0, j.jsx)(x.default, {
                                category: n,
                                onConfirm: function() {
                                    P(l.VISIBILITY.contact_blacklist)
                                }
                            }))
                        }
                    }) : null,
                    R = "groupAdd" === n ? null : (0, j.jsx)(I, {
                        text: u.fbt._("Nobody", null, {
                            hk: "ghOKj"
                        }),
                        selected: k === l.VISIBILITY.none,
                        onClick: function() {
                            M(l.VISIBILITY.none)
                        }
                    }),
                    N = "groupAdd" === n ? (0, j.jsx)("div", {
                        className: (0, d.default)(E.description),
                        children: u.fbt._("Admins who can't add you to a group will have the option of inviting you privately instead.", null, {
                            hk: "2dA7i1"
                        })
                    }) : null;
                return (0, j.jsxs)(p.default, {
                    ref: t,
                    children: [(0, j.jsx)(m.DrawerHeader, {
                        a8n: `drawer-title-${n}`,
                        title: w(n),
                        onBack: a,
                        type: m.DRAWER_HEADER_TYPE.LARGE
                    }), (0, j.jsx)(h.default, {
                        children: (0, j.jsxs)(v.default, {
                            theme: "padding-no-vertical",
                            animation: !1,
                            children: [(0, j.jsx)("div", {
                                className: (0, d.default)(E.description),
                                children: T(n)
                            }), L, A, D, R, N]
                        })
                    })]
                })
            }

            function w(e) {
                switch (e) {
                    case "about":
                        return u.fbt._("About", null, {
                            hk: "3PhlvU"
                        });
                    case "profilePicture":
                        return u.fbt._("Profile photo", null, {
                            hk: "rs5RE"
                        });
                    case "lastSeen":
                        return u.fbt._("Last seen", null, {
                            hk: "4GuTlB"
                        });
                    case "groupAdd":
                        return u.fbt._("Groups", null, {
                            hk: "3ajQWI"
                        })
                }
            }

            function T(e) {
                switch (e) {
                    case "about":
                        return u.fbt._("Who can see my About", null, {
                            hk: "2MFyDi"
                        });
                    case "profilePicture":
                        return u.fbt._("Who can see my Profile Photo", null, {
                            hk: "4iDmTO"
                        });
                    case "lastSeen":
                        return u.fbt._("If you don't share your Last Seen, you won't be able to see other people's Last Seen", null, {
                            hk: "24m816"
                        });
                    case "groupAdd":
                        return u.fbt._("Who can add me to groups", null, {
                            hk: "3Q0mva"
                        })
                }
            }

            function I(e) {
                var t = e.text,
                    n = e.selected,
                    a = e.onClick;
                return (0, j.jsxs)(S.default, {
                    xstyle: E.visibilityOption,
                    onClick: a,
                    children: [(0, j.jsx)(c.default, {
                        checked: n,
                        radio: !0,
                        hover: !1,
                        systemUncheckedColor: !0,
                        onChange: a
                    }), (0, j.jsx)("span", {
                        className: (0, d.default)(E.visibilityOptionSpace)
                    }), (0, j.jsx)("span", {
                        className: (0, d.default)(E.visibilityOptionText),
                        children: t
                    })]
                })
            }
            var P = (0, s.forwardRef)(k);
            t.PrivacyVisibilityEditDrawer = P
        },
        98533: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(81109)),
                i = a(n(63038)),
                o = a(n(34575)),
                l = a(n(93913)),
                u = a(n(2205)),
                s = a(n(99842)),
                d = a(n(84646)),
                c = a(n(3208)),
                f = n(48360),
                p = n(67294),
                h = (a(n(56720)), n(79614)),
                m = a(n(51599)),
                v = n(72743),
                g = n(31098),
                _ = n(65901),
                x = a(n(86777)),
                C = n(73929),
                y = a(n(42973)),
                S = a(n(53187)),
                b = a(n(18345)),
                j = n(96706),
                E = n(19288),
                k = a(n(46821)),
                w = a(n(69337)),
                T = a(n(96150)),
                I = n(27968),
                P = a(n(50177)),
                M = n(1577),
                O = n(2629),
                L = n(58771),
                A = a(n(45159)),
                D = a(n(73728)),
                R = n(31779),
                N = a(n(50507)),
                F = n(52867),
                B = a(n(32892)),
                U = n(9835),
                G = a(n(85043)),
                H = a(n(70486)),
                W = n(3298),
                V = n(4099),
                z = n(96197),
                q = n(7080),
                K = n(54504),
                Y = a(n(7665)),
                Q = n(22552),
                X = n(68544),
                Z = n(69283),
                J = a(n(93958)),
                $ = a(n(1379)),
                ee = a(n(55234)),
                te = n(85893),
                ne = function(e) {
                    (0, u.default)(n, e);
                    var t = (0, s.default)(n);

                    function n() {
                        var e;
                        (0, o.default)(this, n);
                        for (var a = arguments.length, r = new Array(a), i = 0; i < a; i++) r[i] = arguments[i];
                        return (e = t.call.apply(t, [this].concat(r))).openMerchantDetailsForm = function() {
                            var t = (0, M.getMeUser)();
                            e.push((0, te.jsx)(R.MerchantDetailsFormFlowLoadable, {
                                contactId: t,
                                onBack: e.pop
                            }))
                        }, e.openCatalogDetailsForm = function(t) {
                            (0, O.canManageCollections)() && W.QPL.markerStart(V.QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW, {
                                string: {
                                    EntryPoint: "Profile"
                                }
                            }), (0, g.createCatalogManagementFlowObject)((function(n, a) {
                                e.push((0, te.jsx)(g.CatalogManagementFlowLoadable, {
                                    catalog: a,
                                    catalogId: n,
                                    product: t,
                                    onBack: e.pop
                                }))
                            }))
                        }, e
                    }
                    return (0, l.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            this.push((0, te.jsx)(re, {
                                openMerchantDetailsForm: this.openMerchantDetailsForm,
                                openCatalogDetailsForm: this.openCatalogDetailsForm,
                                conn: this.props.conn,
                                contact: this.props.contact,
                                profilePicThumb: this.props.profilePicThumb,
                                status: this.props.status,
                                onClose: this.pop
                            }))
                        }
                    }]), n
                }(P.default);
            t.default = ne;
            var ae = {
                businessComplianceIconWrapper: {
                    paddingEnd: "htg54gjl",
                    color: "s4k44ver"
                },
                businessComplianceText: {
                    flexGrow: "ggj6brxn",
                    color: "tviruh8d"
                },
                businessComplianceRightAltIcon: {
                    color: "cs9t9or5"
                }
            };

            function re(e) {
                var t = e.onClose,
                    n = e.openCatalogDetailsForm,
                    a = e.openMerchantDetailsForm,
                    o = (0, J.default)(),
                    l = (0, p.useContext)(j.DrawerContext),
                    u = (0, $.default)(),
                    s = (0, Z.useModelValues)(e.contact, ["businessProfile", "id", "statusMute"]),
                    g = (0, Z.useModelValues)(e.profilePicThumb, ["imgFull", "id"]),
                    P = (0, Z.useModelValues)(e.status, ["status"]),
                    R = (0, Z.useModelValues)(e.conn, ["pushname"]),
                    W = (0, p.useRef)(!1),
                    V = (0, p.useRef)(!1),
                    ne = (0, p.useState)(R.pushname),
                    re = (0, i.default)(ne, 2),
                    ie = re[0],
                    oe = re[1],
                    le = (0, p.useState)(P.status),
                    ue = (0, i.default)(le, 2),
                    se = ue[0],
                    de = ue[1],
                    ce = (0, p.useState)(!1),
                    fe = (0, i.default)(ce, 2),
                    pe = fe[0],
                    he = fe[1],
                    me = (0, p.useState)(!1),
                    ve = (0, i.default)(me, 2),
                    ge = ve[0],
                    _e = ve[1],
                    xe = (0, p.useState)(null),
                    Ce = (0, i.default)(xe, 2),
                    ye = Ce[0],
                    Se = Ce[1],
                    be = s.businessProfile,
                    je = (C.Conn.isSMB ? (0, F.getProductCatalogContext)(l) : {}).session;
                if ((0, p.useEffect)((function() {
                        C.Conn.isSMB && (v.CatalogCollection.findCarouselCatalog((0, M.getMeUser)()).then((function(e) {
                            var t = Array.isArray(e) ? e[0] : e;
                            Se(t)
                        })).catch((function() {})), je.isAccidental() && _.Cmd.setDrawerContext("left", (0, F.buildProductCatalogContext)(new U.ProductCatalogSession, N.default.BIZ_PLATFORM.SMB, N.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_SETTINGS)))
                    }), []), C.Conn.isSMB && je.isAccidental()) return null;
                var Ee, ke, we, Te, Ie, Pe = function(e) {
                        return !!(e || "").trim()
                    },
                    Me = function() {
                        W.current = !0
                    },
                    Oe = function() {
                        _.Cmd.openModal((0, te.jsx)(x.default, {
                            onOK: function() {
                                return _.Cmd.closeModal()
                            },
                            okText: f.fbt._("OK", null, {
                                hk: "2KEeHb"
                            }),
                            children: A.default.t(125)
                        }))
                    },
                    Le = function() {
                        W.current = !1, de(P.status)
                    },
                    Ae = function() {
                        if (null != se) {
                            W.current = !1;
                            var e = P.status;
                            (0, T.default)(se) !== e && (_e(!0), (0, K.setMyStatus)((0, T.default)(se)).then((function() {
                                u.aborted || _e(!1)
                            })))
                        } else Le()
                    },
                    De = function(e) {
                        de(e)
                    },
                    Re = function() {
                        V.current = !0
                    },
                    Ne = function() {
                        var e, t, n = ie;
                        return (n = (n || "").trim()) ? /[\u2714\u2705\u2611]/g.test(n) && (e = f.fbt._("That emoji isn't allowed in your name", null, {
                            hk: "1JrVVd"
                        })) : e = A.default.t(118), !e || (t = e, _.Cmd.openModal((0, te.jsx)(x.default, {
                            onOK: function() {
                                return _.Cmd.closeModal()
                            },
                            okText: f.fbt._("OK", null, {
                                hk: "2KEeHb"
                            }),
                            children: t
                        })), !1)
                    },
                    Fe = function() {
                        if (V.current = !1, C.Conn.canSetMyPushname()) {
                            var e = ie;
                            (e = (0, T.default)((e || "").trim())) !== R.pushname && (he(!0), (0, q.setPushname)(e).then((function() {
                                u.aborted || he(!1)
                            })))
                        }
                    },
                    Be = function(e) {
                        oe(e)
                    },
                    Ue = function() {
                        V.current = !1, oe(R.pushname)
                    },
                    Ge = function() {
                        if ((0, O.blockCatalogCreationECommerceComplianceIndia)(s.businessProfile)) return null;
                        return (0, O.bannedShopsEnabled)() && (0, h.hasShop)(be) && (0, h.isShopBanned)(be) ? (0, te.jsx)(k.default, {
                            theme: "padding-large",
                            children: (0, te.jsxs)("div", {
                                className: G.default.content,
                                children: [(0, te.jsx)("div", {
                                    className: G.default.bannedShopInfoText,
                                    children: f.fbt._("This shop has been disabled for not complying with our Business or Commerce policies.", null, {
                                        hk: "39dpXJ"
                                    })
                                }), (0, te.jsx)(m.default, {
                                    type: "primary",
                                    onClick: function() {
                                        (0, O.bannedShopsEnabled)() && (0, h.goToCommerceManager)(be)
                                    },
                                    children: f.fbt._("Commerce Manager", null, {
                                        hk: "2ZKedl"
                                    })
                                })]
                            })
                        }) : (0, te.jsx)(B.default, {
                            businessProfile: s.businessProfile,
                            catalog: ye,
                            openCatalog: n
                        })
                    },
                    He = function() {
                        var e = W.current || ge ? se : P.status;
                        return (0, te.jsx)(X.TextInput, {
                            a8n: "col-main-profile-input",
                            value: e,
                            editable: !0,
                            pending: ge,
                            showRemaining: !0,
                            validate: Pe,
                            maxLength: 139,
                            onBeginEdit: Me,
                            onChange: De,
                            onSave: Ae,
                            onError: Oe,
                            onCancel: Le,
                            theme: "text-input",
                            fieldName: f.fbt._("About", null, {
                                hk: "2FinUX"
                            }),
                            supportsEmoji: !0,
                            lockable: !0,
                            lowProfile: !0,
                            constrainedWidth: !0
                        })
                    },
                    We = function(e) {
                        return (0, te.jsx)(L.IconSection, (0, r.default)({}, e))
                    },
                    Ve = (0, O.canSeeBizProfileV3)() && C.Conn.isSMB ? (0, te.jsx)(k.default, {
                        theme: "padding-no-margin",
                        children: (0, te.jsx)(y.default, {
                            contact: s,
                            editable: !0,
                            profilePicThumb: g,
                            hideStatusV3: !0
                        })
                    }) : (0, te.jsx)("div", {
                        className: G.default.photoPickerWrapper,
                        children: (0, te.jsx)(H.default, {
                            profilePicThumb: g
                        })
                    }),
                    ze = C.Conn.isSMB ? (0, te.jsxs)("div", {
                        children: [(0, te.jsx)(w.default, {}), (0, O.canSeeECommerceComplianceIndiaSoftEnforcement)(s.id.user) && (0, te.jsx)(k.default, {
                            title: (0, te.jsxs)(I.FlexRow, {
                                align: "center",
                                children: [(0, te.jsx)(I.FlexItem, {
                                    xstyle: ae.businessComplianceIconWrapper,
                                    children: (0, te.jsx)(Y.default, {
                                        name: "business"
                                    })
                                }), (0, te.jsx)(I.FlexItem, {
                                    xstyle: ae.businessComplianceText,
                                    children: f.fbt._("Business details", null, {
                                        hk: "m9xzp"
                                    })
                                }), (0, te.jsx)(I.FlexItem, {
                                    children: (0, te.jsx)(Y.default, {
                                        xstyle: ae.businessComplianceRightAltIcon,
                                        name: "chevron-right-alt",
                                        directional: !0
                                    })
                                })]
                            }),
                            theme: "refresh-padding-title",
                            titleOnClick: a
                        }), Ge(), (0, O.bizLinkedAccountsEnabled)() && s.businessProfile ? (0, te.jsx)(D.default, {
                            businessProfile: s.businessProfile,
                            sectionTheme: "refresh-padding-title",
                            showEditHint: !0
                        }) : null, (Te = We({
                            icon: "info",
                            content: He()
                        }), Ie = We({
                            icon: "call-phone",
                            iconClass: G.default.phoneIcon,
                            content: (0, te.jsxs)("div", {
                                children: [(0, te.jsx)(z.SelectableDiv, {
                                    className: G.default.phoneField,
                                    selectable: !0,
                                    children: (0, ee.default)((0, M.assertGetMe)())
                                }), (0, te.jsx)("div", {
                                    className: G.default.infoText,
                                    children: f.fbt._("Your phone number can be edited from the app on your mobile device.", null, {
                                        hk: "2FXNXR"
                                    })
                                })]
                            })
                        }), (0, te.jsxs)(k.default, {
                            title: f.fbt._("About and Phone Number", null, {
                                hk: "3lw6jL"
                            }),
                            theme: "refresh",
                            children: [Te, Ie]
                        }))]
                    }) : (Ee = V.current || pe ? ie : R.pushname, ke = C.Conn.isSMB ? f.fbt._("This is your business name. It will be visible to your WhatsApp customers.", null, {
                        hk: "AABda"
                    }) : A.default.t(712), we = (0, te.jsx)(k.default, {
                        a8nText: "col-main-profile",
                        title: f.fbt._("About", null, {
                            hk: "7nIJP"
                        }),
                        theme: "padding",
                        children: He()
                    }), (0, te.jsxs)(te.Fragment, {
                        children: [(0, te.jsx)(k.default, {
                            a8nText: "col-main-profile",
                            title: f.fbt._("Your name", null, {
                                hk: "VtujB"
                            }),
                            theme: "padding",
                            children: (0, te.jsx)(X.TextInput, {
                                a8n: "col-main-profile-input",
                                value: Ee,
                                editable: C.Conn.canSetMyPushname(),
                                pending: pe,
                                showRemaining: !0,
                                validate: Ne,
                                maxLength: c.default.MAX_PUSHNAME_LENGTH,
                                onBeginEdit: Re,
                                onChange: Be,
                                onSave: Fe,
                                onCancel: Ue,
                                supportsEmoji: !0,
                                lockable: !0,
                                lowProfile: !0,
                                constrainedWidth: !0
                            })
                        }), (0, te.jsx)("div", {
                            "data-a8n": d.default.key("pushname-description"),
                            className: G.default.nameWrapper,
                            children: (0, te.jsx)(Q.TextSpan, {
                                theme: "muted",
                                children: ke
                            })
                        }), we]
                    })),
                    qe = A.default.t(607);
                return (0, te.jsxs)(S.default, {
                    children: [(0, te.jsx)(E.DrawerHeader, {
                        a8n: "drawer-title-profile",
                        title: qe,
                        onBack: function() {
                            t ? t() : null == o || o.uie.requestDismiss()
                        },
                        type: E.DRAWER_HEADER_TYPE.LARGE
                    }), (0, te.jsxs)(b.default, {
                        children: [Ve, ze]
                    })]
                })
            }
        },
        85492: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                return (0, o.jsx)(r.default, {
                    primary: e.choiceText,
                    onClick: e.onChoose,
                    theme: "radio-button-row",
                    image: (0, o.jsx)(i.default, {
                        checked: e.isChosen,
                        hover: !1,
                        radio: !0,
                        onChange: e.onChoose,
                        systemUncheckedColor: !0
                    })
                })
            };
            var r = a(n(88186)),
                i = a(n(22630)),
                o = n(85893)
        },
        50656: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(48360),
                i = n(67294),
                o = (a(n(56720)), a(n(53187))),
                l = a(n(18345)),
                u = n(19288),
                s = a(n(46821)),
                d = n(49012),
                c = n(27968),
                f = n(63765),
                p = n(85651),
                h = n(76367),
                m = a(n(7665)),
                v = n(22552),
                g = n(85893),
                _ = {
                    drawerSection: {
                        paddingTop: "msavwer2",
                        paddingBottom: "slgfab0f"
                    },
                    description: {
                        paddingTop: "msavwer2",
                        paddingEnd: "bcymb0na",
                        paddingBottom: "slgfab0f",
                        paddingStart: "e8k79tju"
                    }
                };

            function x(e, t) {
                e.settings;
                var n = e.onClose;
                return (0, g.jsxs)(o.default, {
                    ref: t,
                    children: [(0, g.jsx)(u.DrawerHeader, {
                        title: r.fbt._("Request Account Info", null, {
                            hk: "2VisVV"
                        }),
                        onBack: n,
                        type: u.DRAWER_HEADER_TYPE.LARGE
                    }), (0, g.jsx)(l.default, {
                        children: (0, g.jsxs)(s.default, {
                            animation: !1,
                            xstyle: _.drawerSection,
                            children: [(0, g.jsx)(c.FlexRow, {
                                align: "center",
                                justify: "center",
                                children: (0, g.jsx)(c.FlexRow, {
                                    align: "center",
                                    justify: "center",
                                    children: (0, g.jsx)(c.FlexItem, {
                                        children: (0, g.jsx)(m.default, {
                                            name: "document"
                                        })
                                    })
                                })
                            }), (0, g.jsxs)(v.TextDiv, {
                                xstyle: _.description,
                                children: [r.fbt._("Create a report of your WhatsApp account information and settings, which you can access or port to another app. This report does not include your messages.", null, {
                                    hk: "13xpse"
                                }), " ", (0, g.jsx)(d.ExternalLink, {
                                    href: (0, h.requestAccountInfoUrl)(),
                                    children: r.fbt._("Learn More", null, {
                                        hk: "bPizH"
                                    })
                                })]
                            }), (0, g.jsx)(i.Suspense, {
                                fallback: (0, g.jsx)(c.FlexRow, {
                                    align: "center",
                                    justify: "center",
                                    children: (0, g.jsx)(c.FlexRow, {
                                        align: "center",
                                        justify: "center",
                                        children: (0, g.jsx)(c.FlexItem, {
                                            children: (0, g.jsx)(p.Spinner, {
                                                size: 50,
                                                stroke: 4
                                            })
                                        })
                                    })
                                }),
                                children: (0, g.jsx)(f.RequestAccountInfoSettingsDrawerBodyContent, {})
                            })]
                        })
                    })]
                })
            }
            var C = (0, i.forwardRef)(x);
            t.default = C
        },
        17175: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.RequestAccountInfoSettingsDrawerAvailable = function(e) {
                var t = e.gdprStatus,
                    n = t.creation,
                    a = t.documentMessage,
                    g = t.expiration,
                    _ = e.onDeleteSuccess,
                    x = (0, i.maybeNumberOrThrowIfTooLarge)(a.fileLength),
                    C = (0, h.useGdprDownload)(),
                    y = (0, r.default)(C, 2),
                    S = y[0],
                    b = y[1],
                    j = (0, p.useGdprDelete)(),
                    E = (0, r.default)(j, 2),
                    k = E[0],
                    w = E[1];
                return (0, m.jsxs)(m.Fragment, {
                    children: [(0, m.jsx)("div", {
                        className: (0, u.default)(v.settingsShare),
                        children: (0, m.jsxs)(s.default, {
                            disabled: S,
                            icon: (0, m.jsx)(c.default, {
                                name: "settings-share"
                            }),
                            onClick: function() {
                                return b(a)
                            },
                            children: [(0, m.jsx)(f.TextDiv, {
                                children: o.fbt._("Export report", null, {
                                    hk: "2v7hn5"
                                })
                            }), (0, m.jsx)(f.TextDiv, {
                                theme: "muted",
                                children: null != x ? o.fbt._("{availability_date} · {file_size}", [o.fbt._param("availability_date", l.default.unix(n).format("MMMM D, YYYY")), o.fbt._param("file_size", d.default.filesize(x))], {
                                    hk: "24AFfI"
                                }) : o.fbt._("{availability_date}", [o.fbt._param("availability_date", l.default.unix(n).format("MMMM D, YYYY"))], {
                                    hk: "1flGQw"
                                })
                            })]
                        })
                    }), (0, m.jsx)("div", {
                        className: (0, u.default)(v.delete),
                        children: (0, m.jsx)(s.default, {
                            disabled: k,
                            icon: (0, m.jsx)(c.default, {
                                name: "delete"
                            }),
                            onClick: function() {
                                w().then((function(e) {
                                    e.success && _()
                                }))
                            },
                            children: (0, m.jsx)(f.TextDiv, {
                                children: o.fbt._("Delete and request new report", null, {
                                    hk: "4g8Hdm"
                                })
                            })
                        })
                    }), (0, m.jsx)(f.TextDiv, {
                        theme: "muted",
                        xstyle: v.availability,
                        children: o.fbt._("Your report is available to download until {availability_date}", [o.fbt._param("availability_date", l.default.unix(g).format("MMMM D, YYYY"))], {
                            hk: "4prRdU"
                        })
                    })]
                })
            };
            var r = a(n(63038)),
                i = n(54116),
                o = n(48360),
                l = a(n(30381)),
                u = (n(67294), a(n(56720))),
                s = a(n(61876)),
                d = a(n(45159)),
                c = a(n(7665)),
                f = n(22552),
                p = n(12036),
                h = n(90960),
                m = n(85893),
                v = {
                    availability: {
                        marginTop: "nylzjxre",
                        marginStart: "r6x3u63k",
                        marginEnd: "lfum0007"
                    },
                    delete: {
                        borderBottom: "n8n2xqzm"
                    },
                    settingsShare: {
                        borderTop: "dl47i6rc",
                        borderBottom: "n8n2xqzm"
                    }
                }
        },
        63765: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.RequestAccountInfoSettingsDrawerBodyContent = function() {
                var e = (0, u.useGdprStatus)(),
                    t = (0, r.default)(e, 2),
                    n = t[0],
                    a = t[1];
                switch (null == n ? void 0 : n.type) {
                    case "GdprAvailableStatusResponse":
                        return (0, s.jsx)(i.RequestAccountInfoSettingsDrawerAvailable, {
                            gdprStatus: n,
                            onDeleteSuccess: a
                        });
                    case "GdprPendingStatusResponse":
                        return (0, s.jsx)(l.RequestAccountInfoSettingsDrawerPending, {
                            gdprStatus: n
                        });
                    default:
                        return (0, s.jsx)(o.RequestAccountInfoSettingsDrawerInitial, {
                            onRequestSuccess: a
                        })
                }
            };
            var r = a(n(63038)),
                i = n(17175),
                o = n(57828),
                l = n(36346),
                u = n(25678),
                s = n(85893)
        },
        57828: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.RequestAccountInfoSettingsDrawerInitial = function(e) {
                var t = e.onRequestSuccess,
                    n = (0, s.useGdprRequest)(),
                    a = (0, r.default)(n, 2),
                    f = a[0],
                    p = a[1];
                return (0, d.jsx)(l.default, {
                    className: (0, o.default)(c),
                    color: "accent",
                    disabled: f,
                    icon: (0, d.jsx)(u.default, {
                        name: "settings-document"
                    }),
                    onClick: function() {
                        p().then((function(e) {
                            e.success && t()
                        }))
                    },
                    children: i.fbt._("Request Report", null, {
                        hk: "2HyjPn"
                    })
                })
            };
            var r = a(n(63038)),
                i = n(48360),
                o = a(n(56720)),
                l = a(n(61876)),
                u = a(n(7665)),
                s = n(6015),
                d = n(85893),
                c = {
                    borderTop: "dl47i6rc",
                    borderBottom: "n8n2xqzm"
                }
        },
        36346: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.RequestAccountInfoSettingsDrawerPending = function(e) {
                var t = e.gdprStatus.timestamp,
                    n = l.Clock.daysDelta(l.Clock.globalUnixTime(), t);
                return (0, c.jsxs)(c.Fragment, {
                    children: [(0, c.jsxs)(u.default, {
                        className: (0, o.default)(f.businessHours),
                        icon: (0, c.jsx)(s.default, {
                            name: "business-hours"
                        }),
                        onClick: function() {},
                        children: [(0, c.jsx)(d.TextDiv, {
                            children: r.fbt._("Request sent", null, {
                                hk: "3HaEMW"
                            })
                        }), (0, c.jsx)(d.TextDiv, {
                            theme: "muted",
                            children: r.fbt._("Ready by {availability_date}", [r.fbt._param("availability_date", i.default.unix(t).format("MMMM D, YYYY"))], {
                                hk: "3zr2Aw"
                            })
                        })]
                    }), (0, c.jsxs)("div", {
                        className: (0, o.default)(f.footer),
                        children: [(0, c.jsx)(d.TextDiv, {
                            theme: "muted",
                            xstyle: f.availability,
                            children: r.fbt._({
                                "*": "Your report will be ready in about {number} days. You'll have a few weeks to download your report after it's available.",
                                _1: "Your report will be ready in about 1 day. You'll have a few weeks to download your report after it's available."
                            }, [r.fbt._plural(n, "number", n)], {
                                hk: "124kzp"
                            })
                        }), (0, c.jsx)(d.TextDiv, {
                            theme: "muted",
                            children: r.fbt._("Your request will be canceled if you make changes to your account such as changing your number or deleting your account.", null, {
                                hk: "2OLjoV"
                            })
                        })]
                    })]
                })
            };
            var r = n(48360),
                i = a(n(30381)),
                o = (n(67294), a(n(56720))),
                l = n(10399),
                u = a(n(61876)),
                s = a(n(7665)),
                d = n(22552),
                c = n(85893),
                f = {
                    availability: {
                        marginBottom: "or9x5nie"
                    },
                    businessHours: {
                        borderTop: "dl47i6rc",
                        borderBottom: "n8n2xqzm"
                    },
                    footer: {
                        paddingTop: "msavwer2",
                        paddingStart: "e8k79tju",
                        paddingEnd: "bcymb0na"
                    }
                }
        },
        75331: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = (0, y.default)(m.getGlobalSecurityNotifications, m.setGlobalSecurityNotifications),
                    n = (0, r.default)(t, 2),
                    a = n[0],
                    j = n[1],
                    E = i.fbt._("Get notified when your security code changes for a contact in an end-to-end encrypted chat. If you have multiple devices, this setting must be enabled on each device where you want to get notifications.", null, {
                        hk: "1ByD6u"
                    });
                (0, o.getABPropConfigValue)("adv_v2_m6") && (E = i.fbt._("Get notified when your security code changes for a contact’s phone. If you have multiple devices, this setting must be enabled on each device where you want to get notifications.", null, {
                    hk: "JvjfY"
                }));
                return (0, S.jsxs)(u.default, {
                    children: [(0, S.jsx)(d.DrawerHeader, {
                        a8n: "drawer-title-security",
                        title: i.fbt._("Security", null, {
                            hk: "2nir1E"
                        }),
                        onBack: e.onClose,
                        type: d.DRAWER_HEADER_TYPE.LARGE
                    }), (0, S.jsx)(s.default, {
                        children: (0, S.jsxs)(c.default, {
                            theme: "padding-large",
                            animation: !1,
                            children: [(0, S.jsxs)(h.FlexColumn, {
                                xstyle: b.icon,
                                align: "center",
                                justify: "center",
                                children: [(0, S.jsx)(h.FlexItem, {
                                    children: (0, S.jsx)(x.default, {
                                        name: "security-shield"
                                    })
                                }), (0, S.jsx)(h.FlexColumn, {
                                    xstyle: b.iconLock,
                                    align: "center",
                                    justify: "center",
                                    children: (0, S.jsx)(h.FlexItem, {
                                        children: (0, S.jsx)(x.default, {
                                            name: "security-lock"
                                        })
                                    })
                                })]
                            }), (0, S.jsxs)("div", {
                                className: g.default.text,
                                children: [i.fbt._("Messages and calls in end-to-end encrypted chats stay between you and the people you choose. Not even WhatsApp can read or listen to them.", null, {
                                    hk: "1MCVPM"
                                }), " ", (0, S.jsx)(f.ExternalLink, {
                                    href: (0, _.securityUrl)(),
                                    children: v.default.t(554)
                                })]
                            }), (0, S.jsxs)(h.FlexRow, {
                                xstyle: b.controls,
                                children: [(0, S.jsx)("div", {
                                    className: g.default.checkbox,
                                    children: (0, S.jsx)(l.CheckBox, {
                                        onChange: j,
                                        checked: a
                                    })
                                }), (0, S.jsxs)(h.FlexItem, {
                                    children: [(0, S.jsx)("div", {
                                        className: g.default.header,
                                        children: (0, S.jsx)(C.TextSpan, {
                                            theme: "title",
                                            children: i.fbt._("Show security notifications on this computer", null, {
                                                hk: "3QRZVR"
                                            })
                                        })
                                    }), (0, S.jsxs)(C.TextDiv, {
                                        theme: "muted",
                                        children: [E, " ", (0, S.jsx)(f.ExternalLink, {
                                            href: (0, p.getCodeChangeFaqUrl)(),
                                            children: v.default.t(554)
                                        })]
                                    })]
                                })]
                            })]
                        })
                    })]
                })
            };
            var r = a(n(63038)),
                i = n(48360),
                o = (a(n(56720)), n(59566)),
                l = n(91404),
                u = a(n(53187)),
                s = a(n(18345)),
                d = n(19288),
                c = a(n(46821)),
                f = n(49012),
                p = n(29281),
                h = n(27968),
                m = n(1577),
                v = a(n(45159)),
                g = a(n(91760)),
                _ = n(76367),
                x = a(n(7665)),
                C = n(22552),
                y = a(n(42787)),
                S = n(85893),
                b = {
                    icon: {
                        position: "g0rxnol2",
                        boxSizing: "cm280p3y",
                        width: "cnprk2g9",
                        height: "j74n1y92",
                        paddingTop: "n1yiu2zv",
                        marginTop: "tt8xd2xn",
                        marginEnd: "k1jo73ug",
                        marginBottom: "mpdn4nr2",
                        marginStart: "isfiuinm",
                        color: "t63vcusb",
                        backgroundColor: "je90h8md",
                        borderTopStartRadius: "g9p5wyxn",
                        borderTopEndRadius: "i0tg5vk9",
                        borderBottomEndRadius: "aoogvgrq",
                        borderBottomStartRadius: "o2zu3hjb"
                    },
                    iconLock: {
                        position: "lhggkp7q",
                        start: "tkdu00h0",
                        end: "ebjesfe0",
                        top: "qq0sjtgm",
                        bottom: "lrw9n60e",
                        color: "ml33x45x"
                    },
                    controls: {
                        paddingBottom: "sq87qsu4",
                        marginTop: "ignnouf6"
                    }
                }
        },
        93886: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onOK,
                    n = e.name || r.fbt._("Contact", null, {
                        hk: "xBh6i"
                    }),
                    a = u.default.t(764, {
                        name: n
                    });
                return (0, s.jsx)(o.default, {
                    onOK: function() {
                        i.Cmd.closeModal(), t()
                    },
                    okText: r.fbt._("OK", null, {
                        hk: "2KEeHb"
                    }),
                    children: (0, s.jsx)("div", {
                        children: (0, s.jsx)(l.EmojiText, {
                            text: a
                        })
                    })
                })
            };
            var r = n(48360),
                i = n(65901),
                o = a(n(86777)),
                l = n(73008),
                u = a(n(45159)),
                s = n(85893)
        },
        79348: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.SettingsCheckList = function(e) {
                return (0, s.jsx)("div", {
                    className: u.default.container,
                    children: e.children
                })
            }, t.SettingsCheckListItem = function(e) {
                return (0, s.jsxs)(d, {
                    disabled: e.disabled,
                    children: [(0, s.jsx)("div", {
                        "data-a8n": i.default.key(e.a8nText),
                        className: u.default.control,
                        children: (0, s.jsx)(l.CheckBox, {
                            id: e.id,
                            onChange: e.onChange,
                            checked: e.checked,
                            disabled: e.disabled
                        })
                    }), (0, s.jsx)("label", {
                        className: u.default.label,
                        htmlFor: e.id,
                        children: e.children
                    })]
                })
            }, t.SettingsCheckListSection = d;
            var r = a(n(59713)),
                i = a(n(84646)),
                o = a(n(94184)),
                l = n(91404),
                u = a(n(97206)),
                s = n(85893);

            function d(e) {
                return (0, s.jsx)("div", {
                    className: (0, o.default)(u.default.section, (0, r.default)({}, u.default.disabled, e.disabled)),
                    children: e.children
                })
            }
        },
        77685: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(48360),
                i = n(67294),
                o = (a(n(56720)), a(n(88186))),
                l = (n(65901), n(73929)),
                u = n(66834),
                s = a(n(53187)),
                d = a(n(18345)),
                c = a(n(61876)),
                f = n(19288),
                p = n(73008),
                h = n(1577),
                m = n(38032),
                v = n(2629),
                g = a(n(45159)),
                _ = a(n(61359)),
                x = a(n(7665)),
                C = n(69283),
                y = n(85893),
                S = {
                    icon: {
                        width: "i94gqilv",
                        height: "bmot90v7"
                    }
                };

            function b(e, t) {
                var n, a, i, b, j, E = (0, C.useModelValues)(e.settings, ["archive"]),
                    k = (0, y.jsx)(_.default, {
                        id: e.profileId
                    }),
                    w = (0, y.jsx)(u.DetailImage, {
                        id: (0, h.getMaybeMeUser)(),
                        size: 82,
                        quality: u.DETAIL_IMAGE_QUALITY.HIGH
                    }),
                    T = (0, y.jsx)(p.EmojiText, {
                        text: l.Conn.pushname,
                        ellipsify: !0,
                        titlify: !0
                    }),
                    I = (0, v.privacySettingsEnabled)();
                !m.GK.supportsFeature(m.GK.F.MD_BACKEND) && (0, v.archiveV2Supported)() && E.archive.enabled && (b = (0, y.jsx)(c.default, {
                    icon: (0, y.jsx)(x.default, {
                        name: "archived"
                    }),
                    onClick: e.onArchiveSettings,
                    children: r.fbt._("Archived chats", null, {
                        hk: "3bOfr5"
                    })
                })), m.GK.supportsFeature(m.GK.F.MD_BACKEND) && (a = (0, y.jsx)(c.default, {
                    a8nText: "li-security",
                    icon: (0, y.jsx)(x.default, {
                        name: "settings-security"
                    }),
                    onClick: e.onSecurity,
                    children: r.fbt._("Security", null, {
                        hk: "49DQ09"
                    })
                })), I && (i = (0, y.jsx)(c.default, {
                    a8nText: "li-privacy",
                    testid: "settings-drawer-item-privacy",
                    icon: (0, y.jsx)(x.default, {
                        name: "security-lock",
                        iconXstyle: S.icon
                    }),
                    onClick: e.onPrivacy,
                    children: r.fbt._("Privacy", null, {
                        hk: "3Cq6XQ"
                    })
                })), (0, v.webMediaAutoDownloadEnabled)() && (j = (0, y.jsx)(c.default, {
                    a8nText: "li-media-auto-download",
                    icon: (0, y.jsx)(x.default, {
                        name: "media-download"
                    }),
                    onClick: e.onMediaAutoDownload,
                    children: r.fbt._("Media auto-download", null, {
                        hk: "9NKKi"
                    })
                })), process.mas || process.windowsStore || (n = (0, y.jsx)(c.default, {
                    a8nText: "li-desktop",
                    icon: (0, y.jsx)(x.default, {
                        name: "settings-desktop"
                    }),
                    onClick: e.onDesktopSettings,
                    children: r.fbt._("Desktop settings", null, {
                        hk: "4vlowC"
                    })
                }));
                var P = (0, y.jsx)(c.default, {
                        a8nText: "li-keyboard-shortcuts",
                        icon: (0, y.jsx)(x.default, {
                            name: "settings-keyboard"
                        }),
                        onClick: e.onKeyboardShortcuts,
                        children: r.fbt._("Keyboard shortcuts", null, {
                            hk: "1uFFXP"
                        })
                    }),
                    M = I ? null : (0, y.jsx)(c.default, {
                        a8nText: "li-blocked",
                        icon: (0, y.jsx)(x.default, {
                            name: "settings-blocked"
                        }),
                        onClick: e.onBlocked,
                        children: g.default.t(600)
                    });
                return (0, y.jsxs)(s.default, {
                    ref: t,
                    theme: "settings",
                    testid: "settings-drawer",
                    children: [(0, y.jsx)(f.DrawerHeader, {
                        title: g.default.t(766),
                        onBack: e.onClose,
                        type: f.DRAWER_HEADER_TYPE.LARGE
                    }), (0, y.jsxs)(d.default, {
                        children: [(0, y.jsx)(o.default, {
                            onClick: e.onProfile,
                            image: w,
                            primary: T,
                            theme: "identity",
                            secondary: k
                        }), (0, y.jsx)(c.default, {
                            a8nText: "li-notifications",
                            icon: (0, y.jsx)(x.default, {
                                name: "settings-notifications"
                            }),
                            onClick: e.onNotifications,
                            children: g.default.t(605)
                        }), i, a, (0, v.web2FAEnabled)() && (0, y.jsx)(c.default, {
                            a8nText: "li-two-factor",
                            icon: (0, y.jsx)(x.default, {
                                name: "settings-pin"
                            }),
                            onClick: e.onTwoFactor,
                            children: r.fbt._("Two-Step Verification", null, {
                                hk: "1ZYq8m"
                            })
                        }), (0, y.jsx)(c.default, {
                            icon: (0, y.jsx)(x.default, {
                                name: "settings-theme"
                            }),
                            onClick: e.onThemeSettings,
                            children: r.fbt._("Theme", null, {
                                hk: "4zgi0L"
                            })
                        }), (0, y.jsx)(c.default, {
                            icon: (0, y.jsx)(x.default, {
                                name: "settings-wallpaper"
                            }),
                            onClick: e.onWallpaper,
                            children: r.fbt._("Chat wallpaper", null, {
                                hk: "2LOVd6"
                            })
                        }), b, M, j, (0, v.webGDPRRequestAccountInfoEnabled)() && (0, y.jsx)(c.default, {
                            icon: (0, y.jsx)(x.default, {
                                name: "settings-document",
                                iconXstyle: S.icon
                            }),
                            onClick: e.onRequestAccountInfo,
                            children: r.fbt._("Request Account Info", null, {
                                hk: "4fUjWZ"
                            })
                        }), n, P, (0, y.jsx)(c.default, {
                            a8nText: "li-help",
                            icon: (0, y.jsx)(x.default, {
                                name: "settings-help"
                            }),
                            onClick: e.onHelp,
                            children: g.default.t(601)
                        }), undefined, undefined, undefined, undefined, undefined, undefined]
                    })]
                })
            }
            var j = (0, i.forwardRef)(b);
            t.default = j
        },
        64982: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(63038)),
                i = n(92013),
                o = a(n(11845)),
                l = n(80965),
                u = n(40787),
                s = n(71857),
                d = n(48360),
                c = n(67294),
                f = n(29656),
                p = n(65901),
                h = a(n(54864)),
                m = a(n(53187)),
                v = a(n(18345)),
                g = n(19288),
                _ = n(75993),
                x = n(38032),
                C = n(32012),
                y = a(n(45159)),
                S = n(91823),
                b = n(83592),
                j = n(85426),
                E = a(n(39916)),
                k = n(85651),
                w = a(n(27928)),
                T = a(n(73812)),
                I = a(n(79402)),
                P = a(n(7665)),
                M = a(n(57811)),
                O = a(n(39394)),
                L = n(8413),
                A = a(n(3227)),
                D = a(n(15663)),
                R = a(n(48311)),
                N = a(n(93958)),
                F = a(n(1379)),
                B = a(n(60806)),
                U = n(85893);

            function G(e, t) {
                var n = e.starredMsgs,
                    a = e.chat,
                    G = void 0 === a ? null : a,
                    H = e.onClose,
                    W = (0, F.default)(),
                    V = (0, N.default)(),
                    z = (0, M.default)(),
                    q = (0, R.default)(),
                    K = (0, O.default)((function() {
                        return new E.default([], (function(e) {
                            return e.id.toString()
                        }))
                    })),
                    Y = (0, O.default)((function() {
                        return new E.default([], (function(e) {
                            return e.id.toString()
                        }))
                    })),
                    Q = (0, O.default)((function() {
                        return new Set
                    })),
                    X = (0, c.useRef)(0),
                    Z = (0, c.useRef)({}),
                    J = (0, c.useRef)(null),
                    $ = (0, c.useRef)(null),
                    ee = function() {
                        return j.RenderCursor.create({
                            msgCollection: n,
                            type: j.RENDER_CURSOR.STARRED_DRAWER
                        }).loadAfter(n, {
                            count: i.MSG_PRELOAD_THRESHOLD
                        })
                    },
                    te = (0, c.useState)(ee),
                    ne = (0, r.default)(te, 2),
                    ae = ne[0],
                    re = ne[1],
                    ie = function() {
                        var e = n.toArray();
                        K.current.init(e, !0), Y.current.init(e)
                    },
                    oe = (0, A.default)((function() {
                        var e = null == G ? void 0 : G.id,
                            t = n.models;
                        if (ae.getEnd(n) < t.length) re(ae.loadAfter(n));
                        else {
                            if (n.isSynced) return;
                            n.sync(e).then((function() {
                                W.aborted || ae.hasAfter(n) && re(ae.loadAfter(n))
                            })).catch((function(e) {
                                __LOG__(2)`StarredDrawer:loadEarlierMsgs failed\n${e}`
                            }))
                        }
                    })),
                    le = function(e) {
                        J.current && ((e ? e.target : document.activeElement) === J.current && (K.current.index < 0 ? K.current.setFirst(!0) : K.current.reset(!1)))
                    },
                    ue = function(e) {
                        K.current.setVal(e), Y.current.setVal(e), p.Cmd.openChatAt(e.chat, e.chat.getSearchContext(e)), p.Cmd.focusShowMsg(e.id)
                    },
                    se = function() {
                        var e = n.toArray(),
                            t = n.isSynced ? ae.getEnd(n) : Math.min(ae.getEnd(n), e.length);
                        return e = e.slice(ae.getStart(n), t), X.current = e.length, e
                    },
                    de = function(e) {
                        if (!e) return b.MSG_VISIBILITY.BELOW;
                        var t = $.current;
                        if (t) {
                            var n = t.previousSibling;
                            if (n && n instanceof HTMLElement) {
                                var a = n.clientHeight,
                                    r = t.scrollTop + a,
                                    i = r + t.clientHeight,
                                    o = e.getContainerElement();
                                return o ? o.offsetTop + o.clientHeight <= r ? b.MSG_VISIBILITY.ABOVE : o.offsetTop >= i ? b.MSG_VISIBILITY.BELOW : b.MSG_VISIBILITY.VISIBLE : b.MSG_VISIBILITY.BELOW
                            }
                        }
                    },
                    ce = function(e) {
                        var t = Z.current[e.toString()];
                        if (t) {
                            var n = t.getWrapperRef();
                            return n && "function" == typeof n.getMsgComponentRef ? n.getMsgComponentRef() : void 0
                        }
                    },
                    fe = function(e) {
                        var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                        return Q.current.has(e.toString()) && (!!t || ce(e))
                    },
                    pe = (0, D.default)((function() {
                        for (var e, t, a = se(), r = new Set, i = 0, o = X.current - 1; i < o;) {
                            var l = Math.floor((i + o) / 2),
                                u = Z.current[a[l].id.toString()];
                            de(u) === b.MSG_VISIBILITY.ABOVE ? i = l + 1 : o = l
                        }
                        for (var s = i; s < a.length; s++) {
                            var d = Z.current[a[s].id.toString()];
                            if (de(d) !== b.MSG_VISIBILITY.VISIBLE) break;
                            r.add(a[s].id.toString())
                        }
                        e = Q.current, t = r, e.forEach((function(e) {
                            if (!t.has(e)) {
                                var a = n.get(e);
                                if (null == a ? void 0 : a.isGif) {
                                    var r = ce(e);
                                    (null == r ? void 0 : r.getPlayCount()) && (null == r || r.pause())
                                }
                            }
                        })), Q.current = r
                    }), 100),
                    he = (0, D.default)((function(e) {
                        var t;
                        pe(), e.currentTarget && (t = e.currentTarget).scrollTop + l.SCROLL_FUDGE > t.scrollHeight - t.clientHeight && oe()
                    }), 100);
                (0, c.useEffect)((function() {
                    ie(), J.current && o.default.focus(J.current), !n.isSynced && n.length < i.PAGE_SIZE && q(oe), le()
                }), []), (0, c.useEffect)((function() {
                    pe()
                })), (0, L.useListener)(window, "resize", pe), (0, L.useListener)(n, ["reset", "sync"], (function() {
                    ie(), z()
                })), (0, L.useListener)(n, ["add", "remove"], (function() {
                    ie(), z()
                })), (0, L.useListener)(n, "reset", (function() {
                    Q.current = new Set, re(ee()), oe()
                }));
                var me = n.isSynced,
                    ve = n.length;
                (0, c.useEffect)((function() {
                    !me && ve < i.PAGE_SIZE && q(oe)
                }), [oe, q, me, ve]);
                var ge, _e, xe = se();
                if (_e = n.isSynced && ae.getEnd(n) >= xe.length ? null : e.starredMsgs.syncPromise ? (0, U.jsx)("div", {
                        className: w.default.more,
                        title: y.default.t(580),
                        children: (0, U.jsx)(k.Spinner, {
                            stroke: 6,
                            size: 24
                        })
                    }) : (0, U.jsx)("div", {
                        className: w.default.more,
                        children: (0, U.jsx)("div", {
                            title: y.default.t(577),
                            onClick: oe,
                            children: (0, U.jsx)(P.default, {
                                name: "refresh"
                            })
                        })
                    }), xe.length > 0) {
                    var Ce = xe.map((function(e) {
                        var t = e.type === u.MSG_TYPE.IMAGE || e.type === u.MSG_TYPE.VIDEO || e.type === u.MSG_TYPE.AUDIO;
                        return (0, U.jsx)(I.default, {
                            ref: function(t) {
                                ! function(e, t) {
                                    t ? Z.current[e.id.toString()] = t : delete Z.current[e.id.toString()]
                                }(e, t)
                            },
                            msg: e,
                            isMsgVisible: t ? fe : function() {},
                            currSelection: K.current,
                            activeSelection: Y.current,
                            onClickMsg: ue
                        }, e.id.toString())
                    }));
                    ge = (0, U.jsx)(B.default, {
                        transitionName: "slide",
                        children: Ce
                    })
                } else e.starredMsgs.isSynced ? ge = (0, U.jsx)(_.StarredMsgs, {}) : (ge = (0, U.jsx)(_.Loading, {}), _e = null);
                var ye, Se = xe.length > 0 ? (0, U.jsx)(S.MenuBarItem, {
                    a8nText: "starred-menu",
                    icon: (0, U.jsx)(P.default, {
                        name: "menu"
                    }),
                    title: y.default.t(611),
                    children: (0, U.jsx)(T.default, {
                        chat: G,
                        msgs: xe
                    })
                }) : null;
                return x.GK.supportsFeature(x.GK.F.MD_BACKEND) && (!G || G && G.endOfHistoryTransferType === f.ConversationEndOfHistoryTransferModelPropType.COMPLETE_BUT_MORE_MESSAGES_REMAIN_ON_PRIMARY || G.endOfHistoryTransferType === f.ConversationEndOfHistoryTransferModelPropType.NOT_INCLUDED_IN_HIST_SYNC) && (ye = (0, U.jsx)(h.default, {
                    theme: "md-chat-search-list",
                    children: d.fbt._("Use WhatsApp on your phone to see older starred messages.", null, {
                        hk: "1hya4S"
                    })
                })), (0, U.jsx)(m.default, {
                    theme: "gallery",
                    ref: t,
                    children: (0, U.jsxs)(C.HotKeys, {
                        className: w.default.hotKeyWraper,
                        handlers: {
                            down: function(e) {
                                e && (e.preventDefault(), e.stopPropagation());
                                var t = K.current.next();
                                K.current.index !== t && K.current.setNext(!0)
                            },
                            up: function(e) {
                                e && (e.stopPropagation(), e.preventDefault()), K.current.prev() > -1 && K.current.setPrev(!0)
                            }
                        },
                        onFocus: le,
                        "data-tab": s.TAB_ORDER.CHAT_STARRED_DRAWER,
                        onRef: function(e) {
                            J.current = e
                        },
                        children: [(0, U.jsx)(g.DrawerHeader, {
                            title: y.default.t(774),
                            onBack: function() {
                                H ? H() : null == V || V.uie.requestDismiss()
                            },
                            type: g.DRAWER_HEADER_TYPE.LARGE,
                            menu: Se
                        }), (0, U.jsxs)(v.default, {
                            onScroll: he,
                            ref: $,
                            children: [ge, _e, ye]
                        })]
                    })
                })
            }
            var H = (0, c.forwardRef)(G);
            t.default = H
        },
        73812: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(48360),
                i = n(67294),
                o = n(65901),
                l = n(98169),
                u = n(94680),
                s = a(n(7729)),
                d = n(85893);

            function c(e, t) {
                var n = e.msgs,
                    a = e.chat,
                    c = (0, i.useRef)(null);
                return (0, i.useImperativeHandle)(t, (function() {
                    return {
                        getElement: function() {
                            return c.current
                        }
                    }
                })), (0, d.jsx)(l.Dropdown, {
                    onRef: function(e) {
                        c.current = e
                    },
                    type: "dropdown_menu",
                    flipOnRTL: !0,
                    dirX: l.DirX.LEFT,
                    children: (0, d.jsx)(u.DropdownItem, {
                        a8n: "mi-unstar-all menu-item",
                        action: function() {
                            o.Cmd.openModal((0, d.jsx)(s.default, {
                                msgs: n,
                                chat: a
                            }))
                        },
                        disabled: 0 === n.length,
                        children: r.fbt._("Unstar all", null, {
                            hk: "34KaRh"
                        })
                    })
                }, "StarredDrawerHeader")
            }
            var f = (0, i.forwardRef)(c);
            t.default = f
        },
        49909: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onOpenStatus,
                    n = (0, E.default)((function() {
                        return new g.default
                    })),
                    a = function() {
                        var e = y.StatusV3Collection.getUnexpired(!0),
                            t = y.StatusV3Collection.getUnexpired(!1);
                        return {
                            unread: e,
                            read: t,
                            muted: [].concat((0, i.default)(e), (0, i.default)(t)).filter((function(e) {
                                return e.contact.statusMute
                            }))
                        }
                    },
                    o = (0, s.useMemo)(a, []),
                    l = o.unread,
                    d = o.read,
                    f = o.muted,
                    _ = (0, s.useState)((function() {
                        return l.filter((function(e) {
                            return !e.contact.statusMute
                        }))
                    })),
                    x = (0, r.default)(_, 2),
                    b = x[0],
                    j = x[1],
                    A = (0, s.useState)((function() {
                        return d.filter((function(e) {
                            return !e.contact.statusMute
                        }))
                    })),
                    D = (0, r.default)(A, 2),
                    R = D[0],
                    N = D[1],
                    F = (0, s.useState)(f),
                    B = (0, r.default)(F, 2),
                    U = B[0],
                    G = B[1],
                    H = (0, s.useState)((function() {
                        return y.StatusV3Collection.getMyStatus()
                    })),
                    W = (0, r.default)(H, 2),
                    V = W[0],
                    z = W[1],
                    q = (0, s.useState)(!1),
                    K = (0, r.default)(q, 2),
                    Y = K[0],
                    Q = K[1];
                (0, k.useListener)(y.StatusV3Collection, "add remove bulk_add sort change:msgsChanged change:hasUnread", (function() {
                    var e = a(),
                        t = e.unread,
                        n = e.read,
                        r = e.muted;
                    j(t.filter((function(e) {
                        return !e.contact.statusMute
                    }))), N(n.filter((function(e) {
                        return !e.contact.statusMute
                    }))), G(r), z(y.StatusV3Collection.getMyStatus())
                })), (0, k.useListener)(c.ContactCollection, "change:statusMute", (function() {
                    var e = a(),
                        t = e.unread,
                        n = e.read,
                        r = e.muted;
                    j(t.filter((function(e) {
                        return !e.contact.statusMute
                    }))), N(n.filter((function(e) {
                        return !e.contact.statusMute
                    }))), G(r), z(y.StatusV3Collection.getMyStatus())
                }));
                var X, Z = function() {
                        Q(!Y)
                    },
                    J = (0, s.useMemo)((function() {
                        var e = [];
                        return b.length > 0 && (e.push({
                            type: T,
                            itemKey: "section-unread",
                            height: 48
                        }), e.push.apply(e, (0, i.default)(b.map((function(e, t) {
                            return {
                                type: O,
                                itemKey: e.id.toString(),
                                height: 64,
                                status: e,
                                index: t
                            }
                        }))))), R.length > 0 && (e.push({
                            type: I,
                            itemKey: "section-read",
                            height: 48
                        }), e.push.apply(e, (0, i.default)(R.map((function(e, t) {
                            return {
                                type: O,
                                itemKey: e.id.toString(),
                                height: 64,
                                status: e,
                                index: t
                            }
                        }))))), U.length > 0 && (e.push({
                            type: P,
                            itemKey: "section-muted",
                            height: 48,
                            expanded: Y
                        }), Y && e.push.apply(e, (0, i.default)(U.map((function(e, t) {
                            return {
                                type: O,
                                itemKey: e.id.toString(),
                                height: 64,
                                status: e,
                                index: t
                            }
                        }))))), e.push({
                            type: M,
                            itemKey: "section-e2e-message"
                        }), e
                    }), [b, R, U, Y]);
                X = y.StatusV3Collection.hasSynced() && J.length > 0 ? (0, w.jsx)(m.FlatList, {
                    className: "statusList",
                    itemEnterAnimationsEnabled: !0,
                    flatListController: n.current,
                    direction: "vertical",
                    data: J,
                    renderItem: function(e) {
                        switch (e.type) {
                            case T:
                                return (0, w.jsxs)("div", {
                                    className: S.default.listSectionSep,
                                    children: [(0, w.jsx)("hr", {}), (0, w.jsx)("div", {
                                        className: S.default.listSectionText,
                                        children: (0, w.jsx)("span", {
                                            children: u.fbt._("RECENT", null, {
                                                hk: "vPbQs"
                                            })
                                        })
                                    })]
                                });
                            case I:
                                return (0, w.jsxs)("div", {
                                    className: S.default.listSectionSep,
                                    children: [(0, w.jsx)("hr", {}), (0, w.jsx)("div", {
                                        className: S.default.listSectionText,
                                        children: (0, w.jsx)("span", {
                                            children: u.fbt._("VIEWED", null, {
                                                hk: "17DrUs"
                                            })
                                        })
                                    })]
                                });
                            case P:
                                return (0, w.jsxs)("div", {
                                    className: S.default.listSectionSep,
                                    children: [(0, w.jsx)("hr", {}), (0, w.jsxs)("div", {
                                        className: S.default.listSectionText,
                                        children: [(0, w.jsx)("span", {
                                            children: u.fbt._("MUTED", null, {
                                                hk: "31XgZG"
                                            })
                                        }), (0, w.jsx)("button", {
                                            className: S.default.listSectionAction,
                                            onClick: Z,
                                            children: e.expanded ? u.fbt._("HIDE", null, {
                                                hk: "3n6J18"
                                            }) : u.fbt._("SHOW", null, {
                                                hk: "1KKhJ5"
                                            })
                                        })]
                                    })]
                                });
                            case O:
                                return (0, w.jsx)(C.default, {
                                    statusV3: e.status,
                                    onClick: function() {
                                        return t(e.status, void 0, e.index)
                                    },
                                    contact: e.status.contact
                                });
                            case M:
                                return (0, w.jsx)(p.E2eMessageStatusList, {});
                            default:
                                throw new m.UnknownDataError(e)
                        }
                    }
                }) : (0, w.jsx)(h.ListStatus, {});
                return (0, w.jsxs)("div", {
                    className: S.default.listPanel,
                    children: [(0, w.jsx)(L, {
                        statusV3: V,
                        onOpenStatus: e.onOpenStatus
                    }), (0, w.jsx)(v.default, {
                        className: S.default.listBody,
                        flatListControllers: [n.current],
                        children: X
                    })]
                })
            };
            var r = a(n(63038)),
                i = a(n(319)),
                o = a(n(272)),
                l = a(n(84646)),
                u = n(48360),
                s = n(67294),
                d = n(10399),
                c = n(20050),
                f = n(66834),
                p = n(53851),
                h = n(75993),
                m = n(73568),
                v = a(n(23803)),
                g = a(n(92546)),
                _ = n(1577),
                x = n(38032),
                C = a(n(69466)),
                y = n(46177),
                S = a(n(53079)),
                b = a(n(24533)),
                j = a(n(7665)),
                E = a(n(39394)),
                k = n(8413),
                w = n(85893),
                T = "SEC_UNREAD",
                I = "SEC_READ",
                P = "SEC_MUTED",
                M = "SEC_E2E_MESSAGE",
                O = "ROW_STATUS";

            function L(e) {
                var t, n, a, r, i = e.statusV3;
                i && (r = i.msgs);
                var s, c, p, h, m = function() {
                    var t = null == i ? void 0 : i.msgs;
                    i && (null == t ? void 0 : t.length) && e.onOpenStatus(i, t.head(), 0)
                };
                if (i && (null === (t = r) || void 0 === t ? void 0 : t.length)) {
                    n = (0, w.jsx)(b.default, {
                        statusV3: i,
                        contact: i.contact,
                        onClick: m
                    });
                    var v = (0, o.default)(r.last(), "myMsgs.last()").t;
                    a = (0, w.jsx)("span", {
                        className: S.default.secondaryHeaderText,
                        children: d.Clock.relativeDateAndTimeStr(v)
                    }), c = {
                        cursor: "pointer"
                    }, s = m
                } else n = (0, w.jsx)(f.DetailImage, {
                    id: (0, _.getMaybeMeUser)(),
                    theme: "status_v3",
                    size: 40
                }), a = (0, w.jsx)("span", {
                    "data-a8n": l.default.key("status-no-updates"),
                    className: S.default.secondaryHeaderText,
                    children: u.fbt._("No updates", null, {
                        hk: "2Fcs7d"
                    })
                });
                x.GK.supportsFeature(x.GK.F.STATUS_V3_UI_SENDING) && (p = (0, w.jsx)(j.default, {
                    name: "menu"
                }), h = (0, w.jsx)(j.default, {
                    name: "status-v3-create"
                }));
                var g = (0, w.jsx)("span", {
                    "data-a8n": l.default.key("my-status"),
                    className: S.default.primaryHeaderText,
                    children: u.fbt._("My Status", null, {
                        hk: "225G1q"
                    })
                });
                return (0, w.jsxs)("div", {
                    className: S.default.panelHeader,
                    style: c,
                    onClick: s,
                    children: [(0, w.jsx)("div", {
                        className: S.default.headerButtonsPrimary,
                        children: n
                    }), (0, w.jsxs)("div", {
                        className: S.default.headerText,
                        children: [g, a]
                    }), (0, w.jsxs)("div", {
                        className: S.default.headerButtonsSecondary,
                        children: [h, p]
                    })]
                })
            }
        },
        72692: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onOpenStatus,
                    n = e.sessionId,
                    a = e.closeStatusViewer,
                    _ = (0, l.useState)((function() {
                        return d.StatusV3Collection.getMyStatus()
                    })),
                    x = (0, i.default)(_, 2),
                    C = x[0],
                    y = x[1];
                (0, l.useEffect)((function() {
                    (0, s.setLastStatusUsage)(), null != n && d.StatusV3Collection.logMetrics({
                        type: "session",
                        sessionId: n
                    }), u.Cmd.onStatusViewerOpen()
                }), []);
                var S = (0, o.default)(f.default.v3_x, (0, r.default)({}, f.default.v3_x_mac, v.default.isRTL()));
                return (0, m.useListener)(d.StatusV3Collection, ["add", "remove"], (function() {
                    y(d.StatusV3Collection.getMyStatus())
                })), (0, m.useListener)(u.Cmd, ["dismiss_status_v3_viewer"], (function() {
                    a(!0)
                })), (0, g.jsx)("div", {
                    className: f.default.modalBackground,
                    "data-animate-status-v3-modal-background": !0,
                    children: (0, g.jsxs)("div", {
                        className: f.default.mainWrapper,
                        children: [(0, g.jsx)(c.default, {
                            onOpenStatus: t
                        }), (0, g.jsx)(p.default, {
                            status: C,
                            onOpenStatus: t
                        }), (0, g.jsx)("button", {
                            className: S,
                            onClick: function() {
                                return e.closeStatusViewer(!0)
                            },
                            children: (0, g.jsx)(h.default, {
                                name: "x-viewer"
                            })
                        })]
                    })
                })
            };
            var r = a(n(59713)),
                i = a(n(63038)),
                o = a(n(94184)),
                l = n(67294),
                u = n(65901),
                s = n(1577),
                d = n(46177),
                c = a(n(49909)),
                f = a(n(12502)),
                p = a(n(17897)),
                h = a(n(7665)),
                m = n(8413),
                v = a(n(45159)),
                g = n(85893)
        },
        17897: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, n, a = (0, y.jsx)(S, {
                    statusV3: e.status,
                    onOpenStatus: e.onOpenStatus
                });
                c.GK.supportsFeature(c.GK.F.STATUS_V3_UI_SENDING) && (t = (0, y.jsxs)("div", {
                    className: p.default.updateWrapper,
                    children: [(0, y.jsx)("div", {
                        className: p.default.updateTitle,
                        children: l.fbt._("Update your status", null, {
                            hk: "43mqpz"
                        })
                    }), (0, y.jsxs)("div", {
                        className: p.default.uploadButtons,
                        children: [(0, y.jsxs)("div", {
                            className: p.default.buttonContainer,
                            children: [(0, y.jsx)(v.default, {
                                name: "status-v3-upload",
                                className: p.default.buttonIcon
                            }), l.fbt._("Upload", null, {
                                hk: "2EkSQz"
                            })]
                        }), (0, y.jsxs)("div", {
                            className: p.default.buttonContainer,
                            children: [(0, y.jsx)(v.default, {
                                name: "status-v3-camera",
                                className: p.default.buttonIcon
                            }), l.fbt._("Camera", null, {
                                hk: "1QXPXc"
                            })]
                        })]
                    })]
                }), n = (0, y.jsx)("hr", {}));
                return (0, y.jsxs)("div", {
                    className: p.default.outStatusPanel,
                    children: [t, n, a]
                })
            };
            var r = a(n(63038)),
                i = n(15586),
                o = a(n(84646)),
                l = n(48360),
                u = n(67294),
                s = n(10399),
                d = n(66834),
                c = n(38032),
                f = (n(7623), n(29289)),
                p = a(n(487)),
                h = a(n(65)),
                m = a(n(24533)),
                v = a(n(7665)),
                g = a(n(57811)),
                _ = n(8413),
                x = a(n(1379)),
                C = n(59175),
                y = n(85893);

            function S(e) {
                var t = e.statusV3,
                    n = (0, g.default)();
                (0, u.useEffect)((function() {
                    null == t || t.loadMore(t.totalCount).catch((function(e) {
                        __LOG__(3)`error while loading all out status: ${String(e)}`
                    }))
                }), []), (0, _.useListener)(t, "change:msgsChanged", n);
                var a = e.statusV3;
                if (a && a.msgs.length > 0) {
                    var r = a.msgs.map((function(t) {
                        return (0, y.jsx)(b, {
                            msg: t,
                            status: a,
                            onOpenStatus: e.onOpenStatus
                        }, t.id.toString())
                    }));
                    return (0, y.jsxs)("div", {
                        className: p.default.viewWrapper,
                        children: [(0, y.jsx)("div", {
                            className: p.default.viewTitle,
                            children: l.fbt._("View your updates", null, {
                                hk: "1DTRQt"
                            })
                        }), (0, y.jsx)("div", {
                            className: p.default.viewUpdates,
                            children: r
                        })]
                    })
                }
                return (0, y.jsxs)("div", {
                    className: p.default.viewWrapper,
                    children: [(0, y.jsx)("div", {
                        className: p.default.placeholderIcon,
                        children: (0, y.jsx)(v.default, {
                            name: "status-v3-placeholder"
                        })
                    }), (0, y.jsx)("div", {
                        "data-a8n": o.default.key("status-placeholder"),
                        className: p.default.placeholderText,
                        children: l.fbt._("Click on a contact to view their status updates", null, {
                            hk: "d6xUd"
                        })
                    })]
                })
            }

            function b(e) {
                var t = e.msg,
                    n = e.status,
                    a = (0, x.default)(),
                    o = (0, u.useState)(null),
                    l = (0, r.default)(o, 2),
                    c = l[0],
                    v = l[1],
                    g = (0, u.useState)(null),
                    S = (0, r.default)(g, 2),
                    b = S[0],
                    j = S[1];
                (0, u.useEffect)((function() {
                    f.MsgInfoCollection.find(t.id).then((function(e) {
                        a.aborted || (j(e), v(e.read.length))
                    })).catch((0, i.filteredCatch)(C.EphemeralDrop, (function() {})))
                }), []), (0, _.useListener)(null == b ? void 0 : b.read, ["add", "remove"], (function() {
                    v(null == b ? void 0 : b.read.length)
                }));
                var E = (0, y.jsx)(d.DetailImage, {
                    id: t.sender,
                    theme: "status_v3",
                    size: 80
                });
                return (0, y.jsxs)("div", {
                    className: p.default.outDetail,
                    children: [(0, y.jsx)(m.default, {
                        statusV3: n,
                        msg: t,
                        onClick: function() {
                            return e.onOpenStatus(n, t)
                        },
                        contact: n.contact,
                        role: "button",
                        theme: "status-panel",
                        thumbnailPlaceholder: E
                    }), (0, y.jsx)("div", {
                        className: p.default.seen,
                        children: (0, y.jsx)(h.default, {
                            seenCount: c
                        })
                    }), (0, y.jsx)("div", {
                        className: p.default.timestamp,
                        children: s.Clock.relativeDateAndTimeStr(t.t)
                    })]
                })
            }
        },
        84032: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(48360),
                i = n(67294),
                o = a(n(56720)),
                l = a(n(98056)),
                u = a(n(53187)),
                s = a(n(18345)),
                d = n(19288),
                c = a(n(46821)),
                f = a(n(92546)),
                p = n(65803),
                h = a(n(4208)),
                m = a(n(39394)),
                v = n(85893),
                g = {
                    stickerContainer: {
                        display: "p357zi0d",
                        justifyContent: "ac2vgrno",
                        marginTop: "hv5pdlef",
                        marginBottom: "gdaqao4w",
                        width: "ln8gz9je"
                    },
                    controlsContainer: {
                        display: "p357zi0d",
                        justifyContent: "ac2vgrno",
                        marginBottom: "fhelu9n7"
                    },
                    controlsButton: {
                        marginStart: "nzcjdldu",
                        marginEnd: "gqi0zhd6"
                    }
                };

            function _(e, t) {
                var n = (0, m.default)((function() {
                        return new f.default
                    })),
                    a = e.sticker,
                    i = e.stickerPack,
                    _ = e.onSend,
                    x = e.onBack;
                return (0, v.jsxs)(u.default, {
                    theme: "sticker-store",
                    ref: t,
                    children: [(0, v.jsx)(d.DrawerHeader, {
                        title: r.fbt._("Sticker Details", null, {
                            hk: "44A1rH"
                        }),
                        type: d.DRAWER_HEADER_TYPE.SMALL,
                        onBack: x
                    }), (0, v.jsx)(s.default, {
                        flatListControllers: [n.current],
                        children: (0, v.jsxs)(c.default, {
                            animation: !1,
                            theme: "padding-no-margin",
                            shadow: !1,
                            children: [(0, v.jsx)("div", {
                                className: (0, o.default)(g.stickerContainer),
                                children: (0, v.jsx)(h.default, {
                                    sticker: a,
                                    theme: "stickerDetails"
                                }, a.id)
                            }), (0, v.jsx)(p.StickerDetailsStickerPackInfo, {
                                name: i.name,
                                publisher: i.publisher,
                                theme: p.Theme.StickerStore
                            }), (0, v.jsx)("div", {
                                className: (0, o.default)(g.controlsContainer),
                                children: (0, v.jsx)(l.default, {
                                    icon: "send",
                                    label: r.fbt._("Send to this chat", null, {
                                        hk: "3uG4Tr"
                                    }),
                                    a8nText: "sticker-action send-button",
                                    xstyle: g.controlsButton,
                                    theme: "new-chat-info",
                                    onClick: function() {
                                        _(a)
                                    }
                                })
                            })]
                        })
                    })]
                }, "sticker-details-modal")
            }
            var x = (0, i.forwardRef)(_);
            t.default = x
        },
        36026: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(48360),
                i = n(67294),
                o = a(n(56720)),
                l = a(n(53187)),
                u = a(n(18345)),
                s = n(19288),
                d = a(n(46821)),
                c = n(73008),
                f = a(n(92546)),
                p = a(n(45159)),
                h = n(85651),
                m = a(n(82126)),
                v = a(n(4208)),
                g = n(48902),
                _ = a(n(7665)),
                x = n(22552),
                C = a(n(37991)),
                y = a(n(39394)),
                S = a(n(48311)),
                b = n(85893),
                j = {
                    titleContainer: {
                        display: "p357zi0d",
                        alignItems: "gndfcl4n",
                        marginBottom: "or9x5nie"
                    },
                    title: {
                        flexGrow: "tvf2evcx"
                    },
                    spinner: {
                        display: "p357zi0d",
                        alignItems: "gndfcl4n",
                        justifyContent: "ac2vgrno",
                        minHeight: "h2zl7k75"
                    },
                    animatedIcon: {
                        marginStart: "oz0g9ue8",
                        color: "kw851w1p"
                    },
                    contentContainer: {
                        marginBottom: "dblt22a0",
                        color: "hp667wtd",
                        fontSize: "f8jlpxt4",
                        lineHeight: "jgi8eev7"
                    },
                    stickersContainer: {
                        display: "btb1m7bk",
                        gridTemplateColumns: "dr6m1ylk",
                        gridTemplateRows: "kenirpp9",
                        gridColumnGap: "zqptfkjs",
                        gridRowGap: "lhjw8glk",
                        justifyContent: "o4u7okr9",
                        width: "ln8gz9je",
                        height: "ppled2lx"
                    },
                    emptyContainer: {
                        display: "p357zi0d",
                        justifyContent: "ac2vgrno",
                        marginTop: "hv5pdlef",
                        marginBottom: "gdaqao4w",
                        width: "ln8gz9je"
                    },
                    emptySticker: {
                        width: "sr23wnuw",
                        height: "rjxfi64q",
                        marginBottom: "dblt22a0",
                        backgroundRepeat: "sxl192xd",
                        backgroundSize: "hbhfgwk1"
                    },
                    emptyText: {
                        textAlign: "qfejxiq4",
                        marginBottom: "fhelu9n7"
                    }
                };

            function E(e, t) {
                var n = (0, y.default)((function() {
                        return new f.default
                    })),
                    a = e.stickerPack,
                    E = e.stickerPackId,
                    k = e.onStickerClick,
                    w = e.onStickerEnter,
                    T = e.onBack,
                    I = e.onClose,
                    P = function(e, t) {
                        return (0, C.default)(g.StickerPackCollectionMd, "add remove reset", (function() {
                            return e || (t ? g.StickerPackCollectionMd.get(t) : null)
                        })) || (null == t ? null : void g.StickerPackCollectionMd.fetchStickerPack(t))
                    }(a, E),
                    M = function(e) {
                        return (0, C.default)(null == e ? void 0 : e.stickers, "add remove reset", (function() {
                            return null == e ? void 0 : e.stickers.toArray()
                        }))
                    }(P),
                    O = function(e) {
                        return (0, C.default)(g.StickerPackCollectionMd, "change:packFetchState", (function() {
                            return e ? g.StickerPackCollectionMd.packFetchState.get(e) : null
                        }))
                    }(E),
                    L = (0, S.default)();
                (0, i.useEffect)((function() {
                    L((function() {
                        null == P || P.stickers.fetch()
                    }))
                }), [null == P ? void 0 : P.stickers, L]);
                var A, D = function(e, t) {
                        P && k(e, P, t)
                    },
                    R = function(e, t) {
                        P && w(e, P, t)
                    };
                return (E && O === g.FETCH_STATE.PENDING || 0 === (null == M ? void 0 : M.length)) && (A = (0, b.jsx)(x.TextDiv, {
                    theme: "plain",
                    xstyle: j.spinner,
                    children: (0, b.jsx)(h.Spinner, {
                        size: 50,
                        stroke: 4
                    })
                })), (0, b.jsxs)(l.default, {
                    theme: "sticker-store",
                    ref: t,
                    children: [(0, b.jsx)(s.DrawerHeader, {
                        title: r.fbt._("Sticker Details", null, {
                            hk: "44A1rH"
                        }),
                        type: s.DRAWER_HEADER_TYPE.SMALL,
                        onBack: T,
                        onCancel: I
                    }), (0, b.jsx)(u.default, {
                        flatListControllers: [n.current],
                        children: (0, b.jsxs)(d.default, {
                            animation: !1,
                            theme: "padding-no-margin",
                            shadow: !1,
                            children: [P ? (0, b.jsxs)(b.Fragment, {
                                children: [(0, b.jsxs)(x.TextDiv, {
                                    theme: "title",
                                    xstyle: j.titleContainer,
                                    children: [(0, b.jsx)(c.EmojiText, {
                                        xstyle: j.title,
                                        text: P.name,
                                        ellipsify: !0,
                                        titlify: !0
                                    }), P.animated ? (0, b.jsx)(_.default, {
                                        name: "round-play",
                                        className: (0, o.default)(j.animatedIcon),
                                        width: 16,
                                        height: 16
                                    }) : null]
                                }), P.publisher && (0, b.jsx)(x.TextDiv, {
                                    theme: "plain",
                                    xstyle: j.contentContainer,
                                    children: (0, b.jsx)(c.EmojiText, {
                                        text: p.default.t(775, {
                                            name: P.publisher
                                        })
                                    })
                                }), P.description && (0, b.jsx)(x.TextDiv, {
                                    theme: "plain",
                                    xstyle: j.contentContainer,
                                    children: (0, b.jsx)(c.EmojiText, {
                                        text: P.description
                                    })
                                }), A, (0, b.jsx)("div", {
                                    className: (0, o.default)(j.stickersContainer),
                                    children: null == M ? void 0 : M.map((function(e) {
                                        return (0, b.jsx)(v.default, {
                                            sticker: e,
                                            theme: "stickerStore",
                                            onClick: D,
                                            onEnter: R,
                                            dontShowViewPack: !0
                                        }, e.id)
                                    }))
                                })]
                            }) : null, !P && E && O === g.FETCH_STATE.PENDING ? A : null, P || E && O === g.FETCH_STATE.PENDING ? null : (0, b.jsxs)(b.Fragment, {
                                children: [(0, b.jsx)("div", {
                                    className: (0, o.default)(j.emptyContainer),
                                    children: (0, b.jsx)("div", {
                                        className: (0, o.default)(j.emptySticker),
                                        style: {
                                            backgroundImage: `url(${m.default})`
                                        }
                                    })
                                }), (0, b.jsx)(x.TextDiv, {
                                    theme: "plain",
                                    xstyle: [j.contentContainer, j.emptyText],
                                    children: (0, b.jsx)(c.EmojiText, {
                                        text: r.fbt._("Unable to find sticker pack", null, {
                                            hk: "3aIIxP"
                                        })
                                    })
                                })]
                            })]
                        })
                    })]
                }, "sticker-pack-details-modal")
            }
            var k = (0, i.forwardRef)(E);
            t.default = k
        },
        64085: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(48360),
                i = n(67294),
                o = (a(n(56720)), a(n(53187))),
                l = a(n(18345)),
                u = n(19288),
                s = a(n(46821)),
                d = a(n(92546)),
                c = n(85651),
                f = n(48902),
                p = a(n(35942)),
                h = n(22552),
                m = a(n(37991)),
                v = a(n(39394)),
                g = n(85893),
                _ = {
                    spinner: {
                        display: "p357zi0d",
                        alignItems: "gndfcl4n",
                        justifyContent: "ac2vgrno",
                        minHeight: "h2zl7k75"
                    }
                };

            function x(e, t) {
                var n, a = (0, m.default)(f.StickerPackCollectionMd, "add remove reset", (function() {
                        return f.StickerPackCollectionMd.filter((function(e) {
                            return null != e.index
                        }))
                    })),
                    i = (0, v.default)((function() {
                        return new d.default
                    }));
                return 0 === a.length && (n = (0, g.jsx)(h.TextDiv, {
                    theme: "plain",
                    xstyle: _.spinner,
                    children: (0, g.jsx)(c.Spinner, {
                        size: 50,
                        stroke: 4
                    })
                })), (0, g.jsxs)(o.default, {
                    theme: "sticker-store",
                    ref: t,
                    children: [(0, g.jsx)(u.DrawerHeader, {
                        title: r.fbt._("WhatsApp Sticker Store", null, {
                            hk: "nicpq"
                        }),
                        type: u.DRAWER_HEADER_TYPE.SMALL,
                        onCancel: e.onClose
                    }), (0, g.jsx)(l.default, {
                        flatListControllers: [i.current],
                        onScroll: function(t) {
                            var n;
                            null === (n = e.onScrollOffsetChange) || void 0 === n || n.call(e, t.currentTarget.scrollTop)
                        },
                        scrollOffset: e.scrollOffset,
                        children: (0, g.jsxs)(s.default, {
                            animation: !1,
                            theme: "no-padding",
                            shadow: !1,
                            children: [n, (0, g.jsx)(p.default, {
                                stickerPacks: a,
                                onStickerPackDetails: e.onStickerPackDetails
                            })]
                        })
                    })]
                }, "sticker-store-modal")
            }
            var C = (0, i.forwardRef)(x);
            t.default = C
        },
        59742: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function() {
                var e = (0, o.useContext)(c.ThemeContext),
                    t = (0, o.useState)(e.systemThemeMode ? "system" : e.theme),
                    n = (0, r.default)(t, 2),
                    a = n[0],
                    p = n[1],
                    h = function(e) {
                        var t = e.target.value;
                        "light" !== t && "dark" !== t && "system" !== t || p(t)
                    };
                return (0, f.jsxs)(u.default, {
                    title: i.fbt._("Choose theme", null, {
                        hk: "3cnXtb"
                    }),
                    onOK: function() {
                        "system" === a ? (e.setSystemThemeMode(!0), e.setTheme(d.default.getCurrentTheme())) : (e.setSystemThemeMode(!1), e.setTheme(a)), l.Cmd.closeModal()
                    },
                    onCancel: function() {
                        l.Cmd.closeModal()
                    },
                    children: [(0, f.jsx)("form", {
                        children: (0, f.jsxs)("ol", {
                            children: [(0, f.jsx)("li", {
                                children: (0, f.jsxs)("label", {
                                    className: s.default.label,
                                    children: [(0, f.jsx)("input", {
                                        type: "radio",
                                        name: "theme",
                                        value: "light",
                                        className: s.default.input,
                                        checked: "light" === a,
                                        onChange: h
                                    }), i.fbt._("Light", null, {
                                        hk: "2EcNH1"
                                    })]
                                })
                            }, "light"), (0, f.jsx)("li", {
                                children: (0, f.jsxs)("label", {
                                    className: s.default.label,
                                    children: [(0, f.jsx)("input", {
                                        type: "radio",
                                        name: "theme",
                                        value: "dark",
                                        className: s.default.input,
                                        checked: "dark" === a,
                                        onChange: h
                                    }), i.fbt._("Dark", null, {
                                        hk: "2GGBbH"
                                    })]
                                })
                            }, "dark"), (0, f.jsx)("li", {
                                children: (0, f.jsxs)("label", {
                                    className: s.default.label,
                                    children: [(0, f.jsx)("input", {
                                        type: "radio",
                                        name: "theme",
                                        value: "system",
                                        className: s.default.input,
                                        checked: "system" === a,
                                        onChange: h
                                    }), i.fbt._("System default", null, {
                                        hk: "2lMytc"
                                    })]
                                })
                            }, "system")]
                        })
                    }), null]
                })
            };
            var r = a(n(63038)),
                i = n(48360),
                o = n(67294),
                l = n(65901),
                u = a(n(86777)),
                s = a(n(22578)),
                d = a(n(67026)),
                c = n(63443),
                f = n(85893)
        },
        67171: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(63038)),
                i = n(48360),
                o = n(67294),
                l = (a(n(56720)), a(n(53187))),
                u = a(n(18345)),
                s = a(n(61876)),
                d = n(19288),
                c = a(n(46821)),
                f = n(27968),
                p = a(n(45159)),
                h = n(85651),
                m = a(n(7665)),
                v = n(22552),
                g = n(72676),
                _ = n(85893),
                x = {
                    drawerSection: {
                        paddingTop: "msavwer2"
                    },
                    description: {
                        paddingTop: "msavwer2",
                        paddingEnd: "bcymb0na",
                        paddingBottom: "slgfab0f",
                        paddingStart: "e8k79tju"
                    }
                };

            function C(e, t) {
                var n, a, u, s = (0, o.useState)(null),
                    d = (0, r.default)(s, 2),
                    c = d[0],
                    C = d[1];
                return (0, o.useEffect)((function() {
                    (0, g.getTwoFactor)().then((function(e) {
                        return C(e)
                    }))
                }), []), null == c ? (0, _.jsx)(l.default, {
                    ref: t,
                    children: (0, _.jsx)(S, {
                        onClose: e.onClose,
                        children: (0, _.jsx)(f.FlexRow, {
                            align: "center",
                            justify: "center",
                            children: (0, _.jsx)(f.FlexRow, {
                                align: "center",
                                justify: "center",
                                children: (0, _.jsx)(f.FlexItem, {
                                    children: (0, _.jsx)(h.Spinner, {
                                        size: 50,
                                        stroke: 4
                                    })
                                })
                            })
                        })
                    })
                }) : (!0 === c ? (n = i.fbt._("Two-step verification is enabled. You'll need to enter your PIN when registering your phone number with WhatsApp again.", null, {
                    hk: "2YGRKd"
                }), a = (0, _.jsxs)(_.Fragment, {
                    children: [(0, _.jsx)(y, {
                        onClick: function() {
                            e.onClose
                        },
                        icon: (0, _.jsx)(m.default, {
                            name: "round-x-inv",
                            height: 24
                        }),
                        children: i.fbt._("Disable", null, {
                            hk: "EYWqM"
                        })
                    }), (0, _.jsx)(y, {
                        onClick: e.onOpenUpdatePinDrawer,
                        icon: (0, _.jsx)(m.default, {
                            name: "settings-pin"
                        }),
                        children: i.fbt._("Change PIN", null, {
                            hk: "2GykKY"
                        })
                    }), (0, _.jsx)(y, {
                        onClick: e.onOpenUpdateEmailDrawer,
                        icon: (0, _.jsx)(m.default, {
                            name: "business-email"
                        }),
                        children: i.fbt._("Change email address", null, {
                            hk: "2h6SZW"
                        })
                    })]
                }), u = p.default.isRTL() ? "settings_2fa_done_rtl" : "settings_2fa_done") : (n = i.fbt._("For added security, enable two-step verification, which will require a PIN when registering your phone number with WhatsApp again.", null, {
                    hk: "Rxhoe"
                }), a = (0, _.jsx)(y, {
                    onClick: e.onOpenRegistrationDrawer,
                    children: i.fbt._("Enable", null, {
                        hk: "2RMR6d"
                    })
                }), u = "settings_2fa"), (0, _.jsx)(l.default, {
                    ref: t,
                    children: (0, _.jsxs)(S, {
                        onClose: e.onClose,
                        children: [(0, _.jsx)(f.FlexRow, {
                            align: "center",
                            justify: "center",
                            children: (0, _.jsx)(f.FlexItem, {
                                children: (0, _.jsx)(m.default, {
                                    name: u
                                })
                            })
                        }), (0, _.jsx)(v.TextDiv, {
                            xstyle: x.description,
                            children: n
                        }), a]
                    })
                }))
            }

            function y(e) {
                var t = e.children,
                    n = e.onClick,
                    a = (e.isLastItem, e.icon);
                return (0, _.jsx)(s.default, {
                    icon: a,
                    onClick: n,
                    children: t
                })
            }

            function S(e) {
                var t = e.children,
                    n = e.onClose;
                return (0, _.jsxs)(_.Fragment, {
                    children: [(0, _.jsx)(d.DrawerHeader, {
                        title: i.fbt._("Two-Step Verification", null, {
                            hk: "40ydX7"
                        }),
                        onBack: n,
                        type: d.DRAWER_HEADER_TYPE.LARGE
                    }), (0, _.jsx)(u.default, {
                        children: (0, _.jsx)(c.default, {
                            animation: !1,
                            ellipsify: !1,
                            xstyle: x.drawerSection,
                            children: t
                        })
                    })]
                })
            }
            var b = (0, o.forwardRef)(C);
            t.default = b
        },
        71525: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.email,
                    n = e.onEmailChange,
                    a = e.emailConfirmation,
                    c = e.onEmailConfirmationChange,
                    f = (0, o.useState)(!1),
                    p = (0, r.default)(f, 2),
                    h = p[0],
                    m = p[1],
                    v = (0, o.useState)(!1),
                    g = (0, r.default)(v, 2),
                    _ = g[0],
                    x = g[1];
                return (0, o.useEffect)((function() {
                    t === a && x(!1)
                }), [t, a]), (0, o.useEffect)((function() {
                    (0, s.validateEmail)(t) && m(!1)
                }), [t]), (0, d.jsxs)(d.Fragment, {
                    children: [(0, d.jsx)(l.default, {
                        title: i.fbt._("Add an email address to your account which will be used to reset your PIN if you forget it and safeguard your account.", null, {
                            hk: "3yrC6H"
                        }),
                        children: (0, d.jsx)(u.TextInput, {
                            onChange: n,
                            value: t,
                            placeholder: i.fbt._("Email", null, {
                                hk: "38jUce"
                            }),
                            onBlur: function() {
                                (0, s.validateEmail)(t) || m(!0)
                            },
                            error: h ? i.fbt._("Incorrect email address format", null, {
                                hk: "1l4toK"
                            }) : null
                        })
                    }), (0, d.jsx)(l.default, {
                        title: i.fbt._("Confirm your email address", null, {
                            hk: "4imYJ5"
                        }),
                        children: (0, d.jsx)(u.TextInput, {
                            onChange: c,
                            value: a,
                            placeholder: i.fbt._("Email", null, {
                                hk: "38jUce"
                            }),
                            onBlur: function() {
                                t !== a && x(!0)
                            },
                            error: _ ? i.fbt._("Email addresses don't match. Try again.", null, {
                                hk: "llUUu"
                            }) : null
                        })
                    })]
                })
            };
            var r = a(n(63038)),
                i = n(48360),
                o = n(67294),
                l = a(n(34271)),
                u = n(68544),
                s = n(97843),
                d = n(85893)
        },
        27357: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.PIN_LENGTH = void 0, t.TwoFactorPinItem = function(e) {
                var t = 6 === e.pinConfirmation.length && e.pin !== e.pinConfirmation,
                    n = function(e) {
                        return !Number.isFinite(parseInt(e.key, 10)) && !u.includes(e.key)
                    };
                return (0, l.jsxs)(l.Fragment, {
                    children: [(0, l.jsx)(i.default, {
                        title: r.fbt._("Enter a six-digit PIN which you'll be asked for when you register your phone number with WhatsApp", null, {
                            hk: "1gMkDs"
                        }),
                        children: (0, l.jsx)(o.TextInput, {
                            onChange: e.setPin,
                            value: e.pin,
                            placeholder: r.fbt._("******", null, {
                                hk: "2lenlV"
                            }),
                            hideFloatingLabel: !0,
                            maxLength: 6,
                            managed: !0,
                            managedError: !0,
                            onKeyDown: n
                        })
                    }), (0, l.jsx)(i.default, {
                        title: r.fbt._("Confirm your PIN", null, {
                            hk: "1uwcc6"
                        }),
                        children: (0, l.jsx)(o.TextInput, {
                            onChange: e.setPinConfirmation,
                            value: e.pinConfirmation,
                            placeholder: r.fbt._("******", null, {
                                hk: "2lenlV"
                            }),
                            hideFloatingLabel: !0,
                            maxLength: 6,
                            managed: !0,
                            managedError: !0,
                            error: t ? r.fbt._("PINs don't match. Try again.", null, {
                                hk: "2luQHZ"
                            }) : null,
                            onKeyDown: n
                        })
                    })]
                })
            };
            var r = n(48360),
                i = a(n(34271)),
                o = n(68544),
                l = n(85893);
            t.PIN_LENGTH = 6;
            var u = ["Backspace", "Tab"]
        },
        96533: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = (0, o.useState)(""),
                    n = (0, r.default)(t, 2),
                    a = n[0],
                    _ = n[1],
                    x = (0, o.useState)(""),
                    C = (0, r.default)(x, 2),
                    y = C[0],
                    S = C[1],
                    b = (0, o.useState)(""),
                    j = (0, r.default)(b, 2),
                    E = j[0],
                    k = j[1],
                    w = (0, o.useState)(""),
                    T = (0, r.default)(w, 2),
                    I = T[0],
                    P = T[1];
                return (0, v.jsxs)(s.default, {
                    children: [(0, v.jsx)(c.DrawerHeader, {
                        a8n: "drawer-title-2fa",
                        title: i.fbt._("Two-Step Verification", null, {
                            hk: "1Yoy3O"
                        }),
                        onBack: e.onClose,
                        type: c.DRAWER_HEADER_TYPE.LARGE
                    }), (0, v.jsx)(d.default, {
                        children: (0, v.jsxs)("form", {
                            children: [(0, v.jsxs)(f.default, {
                                theme: "padding",
                                children: [(0, v.jsx)(h.TwoFactorPinItem, {
                                    pin: a,
                                    setPin: _,
                                    pinConfirmation: y,
                                    setPinConfirmation: S
                                }), (0, v.jsx)(p.default, {
                                    email: E,
                                    onEmailChange: k,
                                    emailConfirmation: I,
                                    onEmailConfirmationChange: P
                                })]
                            }), (0, v.jsx)(m.default, {
                                transitionName: "btn",
                                className: (0, l.default)(g),
                                children: (0, v.jsx)(u.default, {
                                    onClick: function() {},
                                    type: "primary",
                                    children: i.fbt._("Register", null, {
                                        hk: "8hdUv"
                                    })
                                })
                            })]
                        })
                    })]
                })
            };
            var r = a(n(63038)),
                i = n(48360),
                o = n(67294),
                l = a(n(56720)),
                u = a(n(51599)),
                s = a(n(53187)),
                d = a(n(18345)),
                c = n(19288),
                f = a(n(46821)),
                p = a(n(71525)),
                h = n(27357),
                m = a(n(60806)),
                v = n(85893),
                g = {
                    zIndex: "b9fczbqn",
                    display: "p357zi0d",
                    justifyContent: "j1p1mz06",
                    paddingBottom: "hjz8m82x",
                    marginTop: "ignnouf6",
                    textAlign: "qfejxiq4"
                }
        },
        40934: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = (0, o.useState)(""),
                    n = (0, r.default)(t, 2),
                    a = n[0],
                    g = n[1],
                    _ = (0, o.useState)(""),
                    x = (0, r.default)(_, 2),
                    C = x[0],
                    y = x[1];
                return (0, m.jsxs)(s.default, {
                    children: [(0, m.jsx)(c.DrawerHeader, {
                        title: i.fbt._("Two-Step Verification", null, {
                            hk: "294kJZ"
                        }),
                        onBack: e.onClose,
                        type: c.DRAWER_HEADER_TYPE.LARGE
                    }), (0, m.jsx)(d.default, {
                        children: (0, m.jsxs)("form", {
                            children: [(0, m.jsx)(f.default, {
                                theme: "padding",
                                children: (0, m.jsx)(p.default, {
                                    email: a,
                                    onEmailChange: g,
                                    emailConfirmation: C,
                                    onEmailConfirmationChange: y
                                })
                            }), (0, m.jsx)(h.default, {
                                transitionName: "btn",
                                className: (0, l.default)(v),
                                children: (0, m.jsx)(u.default, {
                                    onClick: function() {},
                                    type: "primary",
                                    children: i.fbt._("Update Email", null, {
                                        hk: "hBmCV"
                                    })
                                })
                            })]
                        })
                    })]
                })
            };
            var r = a(n(63038)),
                i = n(48360),
                o = n(67294),
                l = a(n(56720)),
                u = a(n(51599)),
                s = a(n(53187)),
                d = a(n(18345)),
                c = n(19288),
                f = a(n(46821)),
                p = a(n(71525)),
                h = a(n(60806)),
                m = n(85893),
                v = {
                    display: "p357zi0d",
                    justifyContent: "j1p1mz06",
                    paddingBottom: "hjz8m82x",
                    marginTop: "ignnouf6",
                    textAlign: "qfejxiq4"
                }
        },
        32657: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = (0, o.useState)(""),
                    n = (0, r.default)(t, 2),
                    a = n[0],
                    g = n[1],
                    _ = (0, o.useState)(""),
                    x = (0, r.default)(_, 2),
                    C = x[0],
                    y = x[1],
                    S = a.length === p.PIN_LENGTH && a === C;
                return (0, m.jsxs)(s.default, {
                    children: [(0, m.jsx)(c.DrawerHeader, {
                        title: i.fbt._("Two-Step Verification", null, {
                            hk: "40ydX7"
                        }),
                        onBack: e.onClose,
                        type: c.DRAWER_HEADER_TYPE.LARGE
                    }), (0, m.jsx)(d.default, {
                        children: (0, m.jsxs)("form", {
                            children: [(0, m.jsx)(f.default, {
                                theme: "padding",
                                children: (0, m.jsx)(p.TwoFactorPinItem, {
                                    pin: a,
                                    setPin: g,
                                    pinConfirmation: C,
                                    setPinConfirmation: y
                                })
                            }), (0, m.jsx)(h.default, {
                                transitionName: "btn",
                                className: (0, l.default)(v),
                                children: (0, m.jsx)(u.default, {
                                    onClick: function() {},
                                    disabled: !S,
                                    type: "primary",
                                    children: i.fbt._("Save", null, {
                                        hk: "n9x6Q"
                                    })
                                })
                            })]
                        })
                    })]
                })
            };
            var r = a(n(63038)),
                i = n(48360),
                o = n(67294),
                l = a(n(56720)),
                u = a(n(51599)),
                s = a(n(53187)),
                d = a(n(18345)),
                c = n(19288),
                f = a(n(46821)),
                p = n(27357),
                h = a(n(60806)),
                m = n(85893),
                v = {
                    display: "p357zi0d",
                    justifyContent: "j1p1mz06",
                    paddingBottom: "hjz8m82x",
                    marginTop: "ignnouf6",
                    textAlign: "qfejxiq4"
                }
        },
        7729: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.chat,
                    n = e.msgs;
                return (0, s.jsx)(o.default, {
                    onOK: function() {
                        t && t.pendingAction++, r.ChatCollection.unstarAllMessages(n, t).finally((function() {
                            t && t.pendingAction--
                        })), i.Cmd.closeModal()
                    },
                    okText: u.default.t(794),
                    onCancel: d,
                    children: (0, s.jsx)("div", {
                        children: (0, s.jsx)(l.EmojiText, {
                            text: u.default.t(795)
                        })
                    })
                })
            };
            var r = n(4481),
                i = n(65901),
                o = a(n(86777)),
                l = n(73008),
                u = a(n(45159)),
                s = n(85893),
                d = function() {
                    i.Cmd.closeModal()
                }
        },
        92717: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, n = e.contactList,
                    a = e.onSend,
                    m = e.onBack,
                    x = e.chat;
                switch (x.kind) {
                    case r.CHAT_KIND.CHAT:
                        t = d.default.t(351, {
                            chat: x.title(),
                            count: d.default.n(n.length),
                            _plural: n.length
                        });
                        break;
                    case r.CHAT_KIND.GROUP:
                        t = d.default.t(352, {
                            chat: x.title(),
                            count: d.default.n(n.length),
                            _plural: n.length
                        });
                        break;
                    case r.CHAT_KIND.BROADCAST:
                        t = d.default.t(350, {
                            chat: x.title(),
                            count: d.default.n(n.length),
                            _plural: n.length
                        })
                }
                var C = t ? (0, g.jsx)(u.EmojiText, {
                    text: t,
                    direction: "auto",
                    titlify: !0,
                    ellipsify: !0
                }) : null;
                return (0, g.jsx)(c.Modal, {
                    type: c.ModalTheme.Box,
                    children: (0, g.jsxs)(i.default, {
                        children: [(0, g.jsx)(l.DrawerHeader, {
                            type: l.DRAWER_HEADER_TYPE.POPUP,
                            onBack: m,
                            children: C
                        }), (0, g.jsx)(o.default, {
                            children: (0, g.jsx)(s.HotKeys, {
                                children: (0, g.jsx)("div", {
                                    className: h.default.body,
                                    children: n.map((function(e, t) {
                                        return (0, g.jsx)(_, {
                                            contact: (0, v.vcardFromContactModel)(e)
                                        }, t.toString())
                                    }))
                                })
                            })
                        }), (0, g.jsx)("div", {
                            className: h.default.btnContainer,
                            children: (0, g.jsx)("div", {
                                className: h.default.btnPosition,
                                children: (0, g.jsx)(f.Round, {
                                    large: !0,
                                    onClick: a,
                                    children: (0, g.jsx)(p.default, {
                                        name: "send",
                                        directional: !0
                                    })
                                })
                            })
                        })]
                    })
                })
            };
            var r = n(29656),
                i = a(n(53187)),
                o = a(n(18345)),
                l = n(19288),
                u = n(73008),
                s = n(32012),
                d = a(n(45159)),
                c = n(73454),
                f = n(80385),
                p = a(n(7665)),
                h = a(n(32252)),
                m = a(n(63311)),
                v = n(4973),
                g = n(85893);

            function _(e) {
                var t = e.contact,
                    n = (0, v.parseVcard)(t.vcard);
                return n ? (0, g.jsx)("div", {
                    className: h.default.vcardWrapper,
                    children: (0, g.jsx)(m.default, {
                        parsedVcard: n,
                        thumbnail: (0, v.vcardThumbnail)(n)
                    })
                }) : null
            }
        },
        9242: (e, t, n) => {
            "use strict";
            var a = n(21314).default,
                r = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onClose,
                    n = (0, z.default)(),
                    r = (0, q.default)(),
                    l = (0, W.useModelValues)(e.contact, ["verificationBinary", "verificationString", "formattedUser", "formattedShortName", "id"]),
                    u = (0, f.useRef)(null),
                    h = (0, f.useRef)(null),
                    g = (0, f.useRef)(null),
                    _ = (0, f.useState)(!0),
                    k = (0, i.default)(_, 2),
                    T = k[0],
                    D = k[1],
                    R = (0, f.useState)(!1),
                    F = (0, i.default)(R, 2),
                    B = F[0],
                    G = F[1],
                    H = (0, f.useState)(!1),
                    Q = (0, i.default)(H, 2),
                    Z = Q[0],
                    J = Q[1],
                    $ = (0, f.useState)(!1),
                    ee = (0, i.default)($, 2),
                    te = ee[0],
                    ne = ee[1],
                    ae = (0, f.useState)(!1),
                    ie = (0, i.default)(ae, 2),
                    _e = ie[0],
                    xe = ie[1],
                    Ce = (0, f.useState)(null),
                    ye = (0, i.default)(Ce, 2),
                    Se = ye[0],
                    be = ye[1],
                    je = (0, f.useState)(null),
                    Ee = (0, i.default)(je, 2),
                    ke = Ee[0],
                    we = Ee[1],
                    Te = (0, f.useState)(!1),
                    Ie = (0, i.default)(Te, 2),
                    Pe = Ie[0],
                    Me = Ie[1],
                    Oe = (0, f.useState)(null),
                    Le = (0, i.default)(Oe, 2),
                    Ae = Le[0],
                    De = Le[1],
                    Re = (0, f.useState)(null),
                    Ne = (0, i.default)(Re, 2),
                    Fe = Ne[0],
                    Be = Ne[1],
                    Ue = (0, f.useState)(null),
                    Ge = (0, i.default)(Ue, 2),
                    He = Ge[0],
                    We = Ge[1],
                    Ve = function() {
                        (0, K.getIdentityVerificationDataJob)(l.id).then((function(e) {
                            r.aborted || (e ? (ge(Ae, e.binary) && !e.string !== Fe || (null != Ae && v.Cmd.openModal((0, X.jsx)(S.E2EChangeModal, {
                                contact: l
                            })), De(e.binary), Be(e.string)), Xe()) : (Ze(), v.Cmd.openModal((0, X.jsx)(N.default, {
                                name: l.formattedUser,
                                onOK: function() {
                                    t ? t() : null == n || n.uie.requestDismiss()
                                }
                            }))))
                        }))
                    },
                    ze = (0, V.useTimeout)((function() {
                        xe(!1)
                    }), 5e3),
                    qe = (0, i.default)(ze, 1)[0],
                    Ke = function(e) {
                        D(!0), G(!1), J(!1), xe(!0), be(e), qe()
                    },
                    Ye = (0, V.useTimeout)(Ve, 1e3),
                    Qe = (0, i.default)(Ye, 2),
                    Xe = Qe[0],
                    Ze = Qe[1],
                    Je = (0, V.useTimeout)((function() {
                        G(!1)
                    }), 3e3),
                    $e = (0, i.default)(Je, 1)[0],
                    et = (0, V.useTimeout)((function() {
                        J(!1)
                    }), 3e3),
                    tt = (0, i.default)(et, 1)[0],
                    nt = (0, V.useTimeout)((function() {
                        te && !_e && Ke(d.fbt._("Please try increasing the brightness or reducing light reflection.", null, {
                            hk: "2uEW7v"
                        }))
                    }), 7e3),
                    at = (0, i.default)(nt, 1)[0];
                var rt = function() {
                        ne(!1), xe(!1), we(null), u.current = null
                    },
                    it = function(e) {
                        var t = function(e) {
                            var t, n = l.formattedShortName;
                            switch (e) {
                                case pe:
                                    t = L.default.t(1018, {
                                        contact: n
                                    });
                                    break;
                                case he:
                                case me:
                                    t = L.default.t(1017, {
                                        contact: n
                                    });
                                    break;
                                case ve:
                                default:
                                    t = d.fbt._("The image does not contain a valid identity verification QR code.", null, {
                                        hk: "4q3XzO"
                                    })
                            }
                            return t
                        }(e);
                        Ke(t)
                    },
                    ot = function(e, t) {
                        (function(e) {
                            return new a((function(t, n) {
                                c.default.callback = function(e, a) {
                                    if (a) n(a);
                                    else if (e.length < 1) n(new Error("QR decoder did not return decoded binary"));
                                    else {
                                        var r = new Uint8Array(e[0]);
                                        t(r)
                                    }
                                }, c.default.decode(e)
                            }))
                        })(e).then((function(e) {
                            return (0, s.decodeProtobuf)(w.CombinedFingerprintSpec, e)
                        })).then((function(e) {
                            var n = function(e) {
                                var t, n, a, r, i, o, u, d, c, f, p, h;
                                if (!e || 0 === !e.version || !e.localFingerprint || !e.remoteFingerprint) return ve;
                                var m = new ArrayBuffer(0);
                                m = P.GK.supportsFeature(P.GK.F.MD_BACKEND) ? Ae : l.verificationBinary;
                                var v = (0, s.decodeProtobuf)(w.CombinedFingerprintSpec, m);
                                if (ge(null === (t = e.localFingerprint) || void 0 === t ? void 0 : t.identifier, null === (n = v.localFingerprint) || void 0 === n ? void 0 : n.identifier) && ge(null === (a = e.remoteFingerprint) || void 0 === a ? void 0 : a.identifier, null === (r = v.remoteFingerprint) || void 0 === r ? void 0 : r.identifier)) return ce;
                                var g = ge(null === (i = e.remoteFingerprint) || void 0 === i ? void 0 : i.identifier, null === (o = v.localFingerprint) || void 0 === o ? void 0 : o.identifier),
                                    _ = ge(null === (u = e.localFingerprint) || void 0 === u ? void 0 : u.identifier, null === (d = v.remoteFingerprint) || void 0 === d ? void 0 : d.identifier);
                                if (!g && !_) return me;
                                if (!g) return pe;
                                if (!_) return he;
                                var x = ge(null === (c = e.remoteFingerprint) || void 0 === c ? void 0 : c.publicKey, null === (f = v.localFingerprint) || void 0 === f ? void 0 : f.publicKey),
                                    C = ge(null === (p = e.localFingerprint) || void 0 === p ? void 0 : p.publicKey, null === (h = v.remoteFingerprint) || void 0 === h ? void 0 : h.publicKey);
                                return x && C ? ce : fe
                            }(e);
                            n ? t && He === ve || (We(n), He === fe ? (rt(), D(!1), G(!1), J(!0), xe(!1), tt()) : it(n)) : (rt(), D(!1), G(!0), J(!1), xe(!1), $e())
                        })).catch((function() {
                            t || (We(ve), it(ve))
                        })).finally((function() {
                            window.URL.revokeObjectURL(e)
                        }))
                    },
                    lt = function(e) {
                        e.stopPropagation();
                        var t = e.target.files || e.dataTransfer.files;
                        if (t && t[0]) {
                            var n = t[0],
                                a = URL.createObjectURL(n);
                            ot(a, !1);
                            var r = h.current;
                            r && r.reset()
                        }
                    };
                (0, f.useEffect)((function() {
                    P.GK.supportsFeature(P.GK.F.MD_BACKEND) || (0, O.queryIdentity)(l)
                }), [l]), (0, f.useEffect)((function() {
                    return P.GK.supportsFeature(P.GK.F.MD_BACKEND) ? Ve() : (0, O.queryIdentity)(l),
                        function() {
                            var e;
                            null === (e = u.current) || void 0 === e || e.call(u)
                        }
                }), []);
                var ut = null,
                    st = null,
                    dt = null,
                    ct = null,
                    ft = null,
                    pt = null,
                    ht = new ArrayBuffer(0),
                    mt = "";
                P.GK.supportsFeature(P.GK.F.MD_BACKEND) ? (ht = Ae, mt = Fe, pt = (0, p.getABPropConfigValue)("adv_v2_m6") ? L.default.t(943, {
                    contactName: l.formattedShortName
                }) : L.default.t(942, {
                    contactName: l.formattedShortName
                })) : (ht = l.verificationBinary, mt = l.verificationString, pt = d.fbt._("Scan the code on your contact's phone, or ask them to scan your code, to verify your messages and calls to them are end-to-end encrypted. You can also compare the number above to verify. This is optional.", null, {
                    hk: "1Vypk2"
                }));
                ht && (I.default && (ut = (0, X.jsx)("div", {
                    className: Y.default.section,
                    children: (0, X.jsx)(m.default, {
                        type: "primary",
                        onClick: te ? rt : function() {
                            var e = A.start("camera"),
                                t = e.asyncStream,
                                n = e.disposeStream;
                            u.current = n, t.then((function(e) {
                                return function(e) {
                                    D(!0), G(!1), J(!1), ne(!0), we(e), at()
                                }(e)
                            })).catch((0, o.filteredCatch)(b.GUM.NotAllowedError, (function() {
                                v.Cmd.openModal((0, X.jsx)(M.GuidePopup, {
                                    messaging: M.Messaging.CAMERA_FAIL,
                                    type: M.TYPE.GUIDE_UNBLOCK
                                }))
                            }))).catch((0, o.filteredCatch)(b.GUM.GUMError, (function() {
                                v.Cmd.openModal((0, X.jsx)(M.GuidePopup, {
                                    messaging: M.Messaging.CAMERA_MISSING,
                                    type: M.TYPE.GUIDE_NONE
                                }))
                            })))
                        },
                        children: te ? d.fbt._("Turn Off Camera", null, {
                            hk: "3OyAHl"
                        }) : d.fbt._("Scan Code", null, {
                            hk: "170pLA"
                        })
                    })
                })), st = (0, X.jsxs)("div", {
                    className: Y.default.section,
                    children: [(0, X.jsx)(m.default, {
                        type: "primary",
                        onClick: function() {
                            var e = g.current;
                            null == e || e.click()
                        },
                        children: d.fbt._("Upload Code", null, {
                            hk: "2aJIAo"
                        })
                    }), (0, X.jsx)("p", {
                        className: Y.default.dragAndDropExplanation,
                        children: Pe ? d.fbt._("Release to verify…", null, {
                            hk: "2K08kb"
                        }) : null
                    })]
                }), dt = (0, X.jsx)("form", {
                    ref: h,
                    children: (0, X.jsx)("input", {
                        ref: g,
                        accept: "image/*",
                        type: "file",
                        style: {
                            display: "none"
                        },
                        onChange: lt,
                        onClick: function(e) {
                            return e.stopPropagation()
                        }
                    })
                }));
                te && ke && (ct = (0, X.jsx)(de, {
                    stream: ke,
                    disposeStream: u.current,
                    onCapture: function(e) {
                        ot(e, !0)
                    },
                    onClose: rt
                }));
                _e && (ft = (0, X.jsx)(se, {
                    children: Se
                }));
                return (0, X.jsxs)(x.default, {
                    onDrop: function(e) {
                        l.verificationBinary && l.verificationString && lt(e)
                    },
                    onDragChange: function(e) {
                        Me(e)
                    },
                    children: [(0, X.jsxs)(y.DrawerHeader, {
                        type: y.DRAWER_HEADER_TYPE.SMALL,
                        rtlFixIfOnDarwin: !0,
                        onBack: function() {
                            t ? t() : null == n || n.uie.requestDismiss()
                        },
                        children: [(0, X.jsx)(U.TextDiv, {
                            theme: "title",
                            children: d.fbt._("Verify Security Code", null, {
                                hk: "1vTVgt"
                            })
                        }), (0, X.jsxs)(U.TextDiv, {
                            theme: "small",
                            children: [L.default.t(1020), ", ", l.formattedUser]
                        })]
                    }), ct, ft, (0, X.jsx)(C.default, {
                        children: (0, X.jsxs)("div", {
                            className: Y.default.form,
                            children: [(0, X.jsxs)("div", {
                                className: Y.default.photo,
                                children: [(0, X.jsx)(re, {
                                    binary: ht,
                                    contact: l,
                                    visible: T
                                }), (0, X.jsx)(le, {
                                    visible: B
                                }), (0, X.jsx)(ue, {
                                    visible: Z
                                })]
                            }), (0, X.jsx)("div", {
                                className: Y.default.section,
                                children: (0, X.jsx)("div", {
                                    className: Y.default.code,
                                    children: (0, X.jsx)(oe, {
                                        string: mt
                                    })
                                })
                            }), (0, X.jsx)("div", {
                                className: Y.default.section,
                                children: (0, X.jsxs)("p", {
                                    className: Y.default.explanation,
                                    children: [(0, X.jsxs)("span", {
                                        children: [pt, " "]
                                    }), (0, X.jsx)(j.ExternalLink, {
                                        href: (0, E.getE2EFaqUrl)(),
                                        children: L.default.t(554)
                                    })]
                                })
                            }), ut, st, dt]
                        })
                    })]
                })
            };
            var i = r(n(63038)),
                o = n(15586),
                l = n(80965),
                u = r(n(94184)),
                s = n(26845),
                d = n(48360),
                c = r(n(31339)),
                f = n(67294),
                p = n(59566),
                h = n(2210),
                m = r(n(51599)),
                v = n(65901),
                g = n(20050),
                _ = r(n(32784)),
                x = r(n(53187)),
                C = r(n(18345)),
                y = n(19288),
                S = n(37261),
                b = J(n(18286)),
                j = n(49012),
                E = n(29281),
                k = n(76151),
                w = n(953),
                T = n(1577),
                I = r(n(16556)),
                P = n(38032),
                M = n(7244),
                O = n(94939),
                L = r(n(45159)),
                A = J(n(94200)),
                D = r(n(37360)),
                R = n(96197),
                N = r(n(93886)),
                F = n(85651),
                B = r(n(7665)),
                U = n(22552),
                G = r(n(12149)),
                H = n(8413),
                W = n(69283),
                V = n(59388),
                z = r(n(93958)),
                q = r(n(1379)),
                K = n(77225),
                Y = r(n(99240)),
                Q = r(n(61566)),
                X = n(85893);

            function Z(e) {
                if ("function" != typeof WeakMap) return null;
                var t = new WeakMap,
                    n = new WeakMap;
                return (Z = function(e) {
                    return e ? n : t
                })(e)
            }

            function J(e, t) {
                if (!t && e && e.__esModule) return e;
                if (null === e || "object" != typeof e && "function" != typeof e) return {
                    default: e
                };
                var n = Z(t);
                if (n && n.has(e)) return n.get(e);
                var a = {},
                    r = Object.defineProperty && Object.getOwnPropertyDescriptor;
                for (var i in e)
                    if ("default" !== i && Object.prototype.hasOwnProperty.call(e, i)) {
                        var o = r ? Object.getOwnPropertyDescriptor(e, i) : null;
                        o && (o.get || o.set) ? Object.defineProperty(a, i, o) : a[i] = e[i]
                    } return a.default = e, n && n.set(e, a), a
            }
            var $ = function(e, t) {
                    return !!e && !!t && ge(e.publicKey, t.publicKey) && ge(e.identifier, t.identifier)
                },
                ee = function(e, t) {
                    if (!e && !t) return !0;
                    var n = (0, s.decodeProtobuf)(w.CombinedFingerprintSpec, e),
                        a = (0, s.decodeProtobuf)(w.CombinedFingerprintSpec, t);
                    if (!n && !a) return !0;
                    if (!(null != n.version || null != a.version || n.localFingerprint || a.localFingerprint || n.remoteFingerprint || a.remoteFingerprint)) return !0;
                    if (n.version !== a.version) return !1;
                    var r = $(n.localFingerprint, a.localFingerprint),
                        i = $(n.remoteFingerprint, a.remoteFingerprint);
                    return r && i
                };

            function te(e) {
                var t = e.binary,
                    n = void 0 === t ? null : t,
                    a = e.visible,
                    r = (0, f.useRef)(null),
                    o = (0, f.useRef)(null),
                    u = (0, f.useState)(!1),
                    s = (0, i.default)(u, 2),
                    c = s[0],
                    p = s[1],
                    m = (0, f.useState)(null),
                    v = (0, i.default)(m, 2),
                    x = v[0],
                    C = v[1],
                    y = (0, f.useState)(null),
                    S = (0, i.default)(y, 2),
                    b = S[0],
                    j = S[1];
                (0, f.useEffect)((function() {
                    if (n) {
                        var e = r.current;
                        if (!e || !n) return C(null), void j(null);
                        if (ee(x, n)) return;
                        for (o.current && (o.current = null); e.firstChild;) e.removeChild(e.firstChild);
                        o.current = new D.default(e, {
                            text: n,
                            width: l.QR_EDGE / 2,
                            height: l.QR_EDGE / 2,
                            correctLevel: D.default.CorrectLevel.L
                        }), C(n);
                        var t = e.getElementsByTagName("canvas")[0];
                        if (!t) return void j(null);
                        ! function(e) {
                            var t = document.createElement("canvas");
                            t.width = e.width + 10, t.height = e.height + 10;
                            var n = t.getContext("2d");
                            n.fillStyle = "white", n.fillRect(0, 0, t.width, t.height), n.drawImage(e, 5, 5), t.toBlob((function(e) {
                                return j(e)
                            }), "image/png")
                        }(t)
                    }
                }), [n, x]);
                var E = null;
                if (a) {
                    var w = null;
                    if (c && b) {
                        var I = e.contact.formattedUser || "",
                            P = g.ContactCollection.assertGet((0, T.getMaybeMeUser)()).formattedUser;
                        w = (0, X.jsx)(_.default, {
                            file: b,
                            download: "Verification Code between " + P + " and " + I,
                            extension: k.AllowedFileExtensions.PNG,
                            children: (0, X.jsx)(h.AvatarOverlay, {
                                text: d.fbt._("Download code", null, {
                                    hk: "uiMxK"
                                })
                            })
                        })
                    }
                    E = (0, X.jsxs)("div", {
                        onMouseOver: function() {
                            c || p(!0)
                        },
                        onMouseEnter: function() {
                            c || p(!0)
                        },
                        onMouseLeave: function() {
                            c && p(!1)
                        },
                        children: [w, (0, X.jsx)("div", {
                            className: Y.default.circle,
                            ref: r
                        })]
                    })
                }
                return E
            }
            var ne = (0, f.memo)(te, (function(e, t) {
                return ee(t.binary, e.binary) && t.visible === e.visible
            }));

            function ae(e) {
                var t = null;
                return e.visible && (t = (0, X.jsx)("div", {
                    className: Y.default.circle,
                    children: (0, X.jsx)("div", {
                        className: Y.default.spinner,
                        children: (0, X.jsx)(F.Spinner, {
                            size: 52,
                            stroke: 4
                        })
                    })
                })), t
            }

            function re(e) {
                var t = e.binary,
                    n = e.contact,
                    a = null;
                return e.visible && (a = (0, X.jsxs)("div", {
                    className: (0, u.default)(Y.default.container, Y.default.circleContainer),
                    children: [(0, X.jsx)(ne, {
                        visible: !!t,
                        binary: t,
                        contact: n
                    }), (0, X.jsx)(ae, {
                        visible: !t
                    })]
                })), a
            }

            function ie(e) {
                if (!e.string) return (0, X.jsx)("div", {
                    children: L.default.t(579)
                });
                var t = e.string;
                if (60 !== t.length) return __LOG__(3)`verificationString:render props.string should be ${60} characters long instead of ${t.length}.`, (0, X.jsx)("div", {
                    children: d.fbt._("Couldn't display security code. You can verify using the QR code instead.", null, {
                        hk: "3yMFFL"
                    })
                });
                for (var n = [], a = 0; a < 3; a++) {
                    for (var r = [], i = 0; i < 4; i++) {
                        for (var o = [], l = 0; l < 5; l++) {
                            var u = t.charAt(5 * a * 4 + 5 * i + l);
                            o.push((0, X.jsx)("span", {
                                className: Y.default.digit,
                                children: u
                            }, l))
                        }
                        r.push((0, X.jsx)("span", {
                            className: Y.default.block,
                            children: o
                        }, i))
                    }
                    n.push((0, X.jsx)(R.SelectableDiv, {
                        className: Y.default.row,
                        selectable: !0,
                        children: r
                    }, a))
                }
                return (0, X.jsx)(R.SelectableDiv, {
                    selectable: !0,
                    children: n
                })
            }
            var oe = (0, f.memo)((0, f.forwardRef)(ie), (function(e, t) {
                return t.string === e.string
            }));

            function le(e) {
                var t = null;
                return e.visible && (t = (0, X.jsx)("div", {
                    className: (0, u.default)(Y.default.container, Y.default.checkmarkContainer),
                    children: (0, X.jsx)("div", {
                        className: Y.default.checkmark,
                        children: "✓ "
                    })
                })), t
            }

            function ue(e) {
                var t = null;
                return e.visible && (t = (0, X.jsx)("div", {
                    className: (0, u.default)(Y.default.container, Y.default.errorContainer),
                    children: (0, X.jsx)("div", {
                        className: Y.default.error,
                        children: "!"
                    })
                })), t
            }

            function se(e) {
                var t = e.children;
                return (0, X.jsx)("div", {
                    className: Y.default.errorBanner,
                    children: t
                })
            }

            function de(e) {
                var t = e.stream,
                    n = e.onCapture,
                    a = e.disposeStream,
                    r = (0, f.useRef)(null),
                    o = (0, f.useRef)(!1),
                    l = (0, f.useRef)(null),
                    u = (0, f.useRef)(null),
                    s = (0, G.default)((function() {
                        var e, t = null === (e = l.current) || void 0 === e ? void 0 : e.underlyingVideo();
                        if (t) {
                            var a = document.createElement("canvas");
                            a.width = t.videoWidth / 2, a.height = t.videoHeight / 2, a.getContext("2d").drawImage(t, a.width / 2, a.height / 2, a.width, a.height, 0, 0, a.width, a.height), a.toBlob((function(e) {
                                var t = window.URL.createObjectURL(e);
                                __LOG__(2)`objectURL: ${t}`, n(t)
                            }), "image/jpeg", 1)
                        }
                    }), 200),
                    d = (0, i.default)(s, 1)[0];
                (0, f.useEffect)((function() {
                    return (0, A.isSrcObjectInVideoElement)() || (r.current = window.URL.createObjectURL(t)),
                        function() {
                            t && (null == a || a(), r.current && window.URL.revokeObjectURL(r.current))
                        }
                }), []);
                var c = function() {
                    var e, t = null === (e = l.current) || void 0 === e ? void 0 : e.underlyingVideo(),
                        n = u.current;
                    if (t && n) {
                        var a = t.offsetHeight,
                            r = t.offsetWidth,
                            i = r / 3,
                            o = i;
                        n.style.width = i + "px", n.style.height = o + "px", n.style.margin = (a - o) / 2 + "px " + (r - i) / 2 + "px"
                    }
                };
                (0, H.useListener)(window, "resize", c);
                var p, h = null;
                e.stream && (h = (0, X.jsxs)("div", {
                    className: Y.default.webcam,
                    children: [(0, X.jsx)("div", {
                        className: Y.default.webcamVideo,
                        children: (0, X.jsx)(Q.default, {
                            autoPlay: !0,
                            ref: l,
                            onPlay: function() {
                                !0 !== o.current && (c(), d())
                            },
                            src: null !== (p = r.current) && void 0 !== p ? p : void 0,
                            srcObject: r.current ? void 0 : e.stream,
                            width: "100%"
                        })
                    }), (0, X.jsx)("div", {
                        className: Y.default.overlay,
                        ref: u
                    }), (0, X.jsx)("button", {
                        onClick: e.onClose,
                        className: Y.default.btnClose,
                        children: (0, X.jsx)(B.default, {
                            name: "x-alt"
                        })
                    })]
                }));
                return h
            }
            var ce = 0,
                fe = 1,
                pe = 2,
                he = 3,
                me = 4,
                ve = 5;

            function ge(e, t) {
                if (!e || !t) return !1;
                var n = new Uint8Array(e),
                    a = new Uint8Array(t),
                    r = n.length;
                if (r !== a.length) return !1;
                for (var i = 0; i < r; i++)
                    if (n[i] !== a[i]) return !1;
                return !0
            }
        },
        30869: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = (0, s.useContext)(x.ThemeContext);
                return (0, s.useEffect)((function() {
                    return g.ServerProps.wallpapersV2 && d.default.trigger("wallpaper_drawer_open"),
                        function() {
                            d.default.trigger("wallpaper_color_preview"), g.ServerProps.wallpapersV2 && d.default.trigger("wallpaper_drawer_close")
                        }
                }), []), (0, j.jsxs)(p.default, {
                    children: [(0, j.jsx)(m.DrawerHeader, {
                        title: v.default.t(849),
                        onBack: e.onClose,
                        type: m.DRAWER_HEADER_TYPE.LARGE
                    }), (0, j.jsx)(h.default, {
                        children: (0, j.jsx)(k, {
                            colors: (0, S.getWallpaperColors)(t.theme),
                            chatPreference: d.default.get("defaultPreference")
                        })
                    })]
                })
            };
            var r = a(n(59713)),
                i = a(n(63038)),
                o = a(n(84646)),
                l = a(n(94184)),
                u = n(48360),
                s = n(67294),
                d = a(n(88549)),
                c = n(91404),
                f = n(65901),
                p = a(n(53187)),
                h = a(n(18345)),
                m = n(19288),
                v = a(n(45159)),
                g = n(43890),
                _ = n(22552),
                x = n(63443),
                C = n(92428),
                y = n(69283),
                S = n(23232),
                b = a(n(17171)),
                j = n(85893);

            function E(e) {
                var t, n = e.colorHex,
                    a = e.isDefault,
                    u = (0, s.useState)(!1),
                    c = (0, i.default)(u, 2),
                    p = c[0],
                    h = c[1],
                    m = function() {
                        return a ? S.DEFAULT_CHAT_WALLPAPER : n
                    },
                    g = e.isDefault ? (0, j.jsx)("span", {
                        className: b.default.wallpaperDefaultTitle,
                        "data-a8n": o.default.key("wallpaper-default-title"),
                        children: v.default.t(373)
                    }) : null,
                    _ = (0, l.default)(b.default.wallpaperColorCanvas, (t = {}, (0, r.default)(t, b.default.canvasHover, p), (0, r.default)(t, b.default.canvasActive, e.isSelected), (0, r.default)(t, b.default.canvasDefault, e.isDefault), t));
                return (0, j.jsx)("span", {
                    className: _,
                    style: {
                        backgroundColor: e.colorHex
                    },
                    onMouseOver: function() {
                        p || (h(!0), d.default.trigger("wallpaper_color_preview", m()))
                    },
                    onMouseEnter: function() {
                        p || (h(!0), d.default.trigger("wallpaper_color_preview", m()))
                    },
                    onMouseLeave: function() {
                        p && (h(!1), d.default.trigger("wallpaper_color_preview"))
                    },
                    onClick: function() {
                        var e = m(),
                            t = d.default.get("defaultPreference");
                        t && e !== t.wallpaperColor && (t.set("wallpaperColor", e), f.Cmd.openToast((0, j.jsx)(C.Toast, {
                            msg: v.default.t(848),
                            id: (0, C.genId)()
                        })))
                    },
                    title: e.isDefault ? v.default.t(373) : null,
                    children: g
                })
            }

            function k(e) {
                var t, n = e.colors,
                    a = (0, y.useOptionalModelValues)(e.chatPreference, ["wallpaperColor", "showDoodle"]),
                    r = null == a ? void 0 : a.wallpaperColor,
                    i = null == a ? void 0 : a.showDoodle,
                    o = n.map((function(e) {
                        return (0, j.jsx)(E, {
                            colorHex: e,
                            isSelected: r === e,
                            isDefault: !1
                        }, e)
                    })),
                    l = (0, j.jsx)(E, {
                        isSelected: r === S.DEFAULT_CHAT_WALLPAPER,
                        isDefault: !0
                    }, S.DEFAULT_CHAT_WALLPAPER);
                o.unshift(l);
                for (var s = 0; s < 2; s++) o.push((0, j.jsx)("div", {
                    className: b.default.wallpaperColorEmpty
                }, "emptyEl" + s));
                return g.ServerProps.wallpapersV2 && (t = (0, j.jsxs)("div", {
                    className: b.default.wallpaperApplyDoodle,
                    children: [(0, j.jsx)(c.CheckBox, {
                        onChange: function() {
                            if (a) {
                                var e = !a.showDoodle;
                                a.set("showDoodle", e), f.Cmd.openToast((0, j.jsx)(C.Toast, {
                                    msg: e ? u.fbt._("Chat wallpaper doodles added", null, {
                                        hk: "4wtFSD"
                                    }) : u.fbt._("Chat wallpaper doodles removed", null, {
                                        hk: "3cppZY"
                                    }),
                                    id: (0, C.genId)()
                                }))
                            }
                        },
                        checked: !!i
                    }), (0, j.jsx)(_.TextSpan, {
                        className: b.default.checkboxLabel,
                        theme: "small",
                        children: u.fbt._("Add WhatsApp Doodles", null, {
                            hk: "4rcSeh"
                        })
                    })]
                })), (0, j.jsxs)(j.Fragment, {
                    children: [t, (0, j.jsx)("div", {
                        className: b.default.wallpaperColorGrid,
                        children: o
                    })]
                })
            }
        },
        69466: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = (0, c.useModelValues)(e.statusV3, ["id", "t", "hasUnread", "unreadCount", "totalCount", "contact"]),
                    n = (0, c.useModelValues)(e.contact, ["formattedName", "statusMute", "isPSA"]),
                    a = (0, i.default)((0, r.default)({}, u.default.dimmed, n.statusMute)),
                    p = l.Clock.relativeDateAndTimeStr(t.t),
                    h = n.formattedName;
                n.isPSA && (h = (0, f.jsxs)("span", {
                    className: u.default.verified,
                    children: [n.formattedName, (0, f.jsx)("div", {
                        className: u.default.icon,
                        children: (0, f.jsx)(d.default, {
                            name: "psa-verified"
                        })
                    })]
                }));
                return (0, f.jsx)(o.default, {
                    className: a,
                    customImage: !0,
                    theme: "status-list",
                    image: (0, f.jsx)(s.default, {
                        statusV3: t,
                        contact: n,
                        onClick: e.onClick
                    }),
                    primary: h,
                    secondary: p,
                    onClick: e.onClick,
                    contextEnabled: function() {
                        return !1
                    }
                }, t.id.toString())
            };
            var r = a(n(59713)),
                i = a(n(94184)),
                o = a(n(27237)),
                l = n(10399),
                u = a(n(48412)),
                s = a(n(24533)),
                d = a(n(7665)),
                c = n(69283),
                f = n(85893)
        },
        24533: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, n = e.theme,
                    a = e.thumbnailPlaceholder,
                    r = e.msg,
                    i = (0, f.useModelValues)(e.statusV3, ["lastStatus"]),
                    u = (0, f.useModelValues)(e.contact, ["statusMute"]),
                    d = null != r ? r : i.lastStatus,
                    m = h(n);
                t = null != a ? a : d ? (0, p.jsx)(l.DetailImage, {
                    id: d.sender,
                    theme: "status_v3",
                    size: 40
                }) : null;
                return (0, p.jsxs)("div", {
                    className: (0, o.default)(c.default.container, m),
                    role: e.role || "",
                    onContextMenu: null,
                    onClickCapture: function(t) {
                        var n;
                        null === (n = e.onClick) || void 0 === n || n.call(e), t.stopPropagation(), t.preventDefault()
                    },
                    children: [u.statusMute || "status-panel" === n ? null : (0, p.jsx)(s.StatusV3ImageRing, {
                        statusV3: i
                    }), (0, p.jsx)(v, {
                        msg: d,
                        theme: n,
                        thumbnailPlaceholder: t
                    })]
                })
            };
            var r = n(40787),
                i = a(n(67082)),
                o = a(n(94184)),
                l = n(66834),
                u = a(n(43348)),
                s = (n(68220), n(84245)),
                d = n(15097),
                c = a(n(20353)),
                f = n(69283),
                p = n(85893);

            function h(e) {
                return "status-panel" === e ? c.default.thumbSizeLarge : c.default.thumbSizeSmall
            }

            function m(e) {
                var t = e.msg,
                    n = e.theme;
                return (0, p.jsx)("div", {
                    className: (0, o.default)(c.default.statusImage, h(n)),
                    style: {
                        backgroundColor: t.statusV3TextBg
                    },
                    children: (0, p.jsx)("div", {
                        className: (0, o.default)(c.default.textThumb, h(n)),
                        children: (0, p.jsx)(d.StatusV3Text, {
                            msg: t,
                            theme: null != n ? n : "status-thumbnail"
                        })
                    })
                })
            }

            function v(e) {
                var t = e.msg,
                    n = e.theme,
                    a = e.thumbnailPlaceholder,
                    l = h(n),
                    s = c.default.statusImage;
                return t ? i.default.isPSA(t.sender) ? (0, p.jsx)("div", {
                    className: (0, o.default)(c.default.thumbContainer, l, c.default.statusImageFallbackBackground),
                    children: a
                }) : t.type === r.MSG_TYPE.CHAT ? (0, p.jsx)(m, {
                    msg: t,
                    theme: n
                }) : (0, p.jsx)(u.default, {
                    containerClassName: (0, o.default)(c.default.thumbContainer, l, c.default.statusImageFallbackBackground),
                    childClassName: (0, o.default)(s, l),
                    msg: t,
                    thumbnailPlaceholder: a
                }) : (0, p.jsx)("div", {
                    className: (0, o.default)(s, l, c.default.statusImageFallbackBackground)
                })
            }
        },
        26774: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.StickerIcon = function(e) {
                var t = e.url,
                    n = e.xstyle,
                    a = (0, u.default)({
                        root: null,
                        rootMargin: "0px",
                        threshold: 0
                    }),
                    f = (0, r.default)(a, 2),
                    p = f[0],
                    h = f[1].isIntersecting,
                    m = (0, i.useRef)(h);
                return m.current = m.current || h, (0, s.jsx)("div", {
                    ref: p,
                    className: (0, o.default)(d, n),
                    children: m.current && (0, s.jsx)(l.ImgWithFallback, {
                        fallbackSVG: "sticker",
                        wrapOptions: {
                            centerWrapperChild: !0,
                            wrapperClassName: ""
                        },
                        className: (0, o.default)(c),
                        size: "NONE",
                        roundContainer: !1,
                        imgProps: {
                            src: t,
                            draggable: !1
                        },
                        theme: l.Theme.Transparent
                    })
                })
            };
            var r = a(n(63038)),
                i = n(67294),
                o = a(n(56720)),
                l = n(42917),
                u = a(n(99629)),
                s = n(85893),
                d = {
                    boxSizing: "cm280p3y",
                    height: "graaj7av",
                    width: "jgly3g7g",
                    minHeight: "lignnmtc",
                    minWidth: "j3e9rhaw",
                    position: "g0rxnol2"
                },
                c = {
                    width: "ln8gz9je",
                    height: "ppled2lx"
                }
        },
        35942: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.stickerPacks,
                    n = e.onStickerPackDetails,
                    a = (0, c.default)((function() {
                        return new l.default
                    })),
                    p = (0, r.useMemo)((function() {
                        return t.map((function(e) {
                            return {
                                itemKey: e.id,
                                stickerPack: e
                            }
                        }))
                    }), [t]);
                return (0, f.jsx)(o.default, {
                    flatListControllers: [a.current],
                    children: (0, f.jsx)(i.FlatList, {
                        flatListController: a.current,
                        direction: "vertical",
                        forceConsistentRenderCount: !1,
                        data: p,
                        renderItem: function(e) {
                            return (0, f.jsx)(d.default, {
                                data: e,
                                onClick: n
                            })
                        },
                        defaultItemHeight: s.STICKER_LIST_ITEM_HEIGHT,
                        keyOrder: u.KeyOrder.INVERSE
                    })
                })
            };
            var r = n(67294),
                i = n(73568),
                o = a(n(23803)),
                l = a(n(92546)),
                u = n(69725),
                s = n(64585),
                d = a(n(92894)),
                c = a(n(39394)),
                f = n(85893)
        },
        92894: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                for (var t = e.data.stickerPack, n = (0, c.jsxs)("div", {
                        className: (0, i.default)(f.title),
                        children: [(0, c.jsx)(u.EmojiText, {
                            text: t.name,
                            ellipsify: !0,
                            titlify: !0
                        }), t.animated ? (0, c.jsx)(d.default, {
                            name: "round-play",
                            className: (0, i.default)(f.animatedIcon),
                            width: 16,
                            height: 16
                        }) : null]
                    }), a = [], p = Math.min(6, t.previewImageIds.length), h = 0; h < p; h++) {
                    var m = t.previewImageIds[h];
                    a.push((0, c.jsxs)(r.Fragment, {
                        children: [(0, c.jsx)(o.default, {
                            breakpoint: 94 * (h + 1) - 22,
                            inverseToContainer: !0,
                            maxWidth: "100%",
                            minWidth: 0
                        }), (0, c.jsx)(s.StickerIcon, {
                            url: `https://static.whatsapp.net/sticker?cat=sticker_preview_png&id=${m}`,
                            xstyle: f.stickerIcon
                        })]
                    }, m))
                }
                var v = (0, c.jsxs)(c.Fragment, {
                    children: [(0, c.jsx)(u.EmojiText, {
                        text: t.publisher,
                        ellipsify: !0
                    }), (0, c.jsx)("div", {
                        className: (0, i.default)(f.stickerIconsContainer),
                        children: a
                    })]
                });
                return (0, c.jsx)(l.default, {
                    a8n: "sticker-pack-list-item",
                    theme: "sticker-pack",
                    primary: n,
                    secondary: v,
                    onClick: function() {
                        e.onClick(t)
                    },
                    className: (0, i.default)(f.stickerPack),
                    contextEnabled: function() {
                        return !1
                    }
                }, t.id)
            };
            var r = n(67294),
                i = a(n(56720)),
                o = a(n(53473)),
                l = a(n(27237)),
                u = n(73008),
                s = n(26774),
                d = a(n(7665)),
                c = n(85893),
                f = {
                    stickerPack: {
                        paddingStart: "lyvj5e2u",
                        color: "h15s16sg"
                    },
                    title: {
                        display: "p357zi0d",
                        alignItems: "gndfcl4n"
                    },
                    animatedIcon: {
                        marginStart: "oz0g9ue8",
                        color: "kw851w1p"
                    },
                    stickerIconsContainer: {
                        display: "p357zi0d",
                        flexDirection: "sap93d0t",
                        flexWrap: "dnb887gk",
                        marginTop: "dj1c3cmq"
                    },
                    stickerIcon: {
                        marginEnd: "gwq3iy2m"
                    }
                }
        },
        23526: (e, t, n) => {
            "use strict";
            var a = n(21314).default,
                r = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.getCachedOrdersInfoFromChat = function(e) {
                return a.resolve(f(e))
            }, t.getMergedContactAndOrderInfoMap = function(e, t) {
                return (0, o.default)((0, o.default)({}, e), t.reduce((function(e, t) {
                    return e[t.orderInfo.referenceId] = t, e
                }), {}))
            }, t.getMergedOrderStatusInfoMap = function(e, t) {
                return (0, o.default)((0, o.default)({}, e), t.reduce((function(e, t) {
                    return e[t.refId] = t, e
                }), {}))
            }, t.getNotCachedOrdersInfoFromChat = function(e) {
                return new a((function(t) {
                    var n = setInterval((function() {
                            e.loadEarlierMsgs(e.msgs)
                        }), 200),
                        a = e.msgs.onMsgLoadStateChange((function() {
                            e.msgs.msgLoadState.noEarlierMsgs && (t(f(e)), a(), clearInterval(n))
                        }))
                }))
            }, t.getOrderDisplayDate = void 0, t.getOrdersInfoFromMsgs = p;
            var i = r(n(63038)),
                o = r(n(81109)),
                l = n(40787),
                u = n(10399),
                s = (n(82380), r(n(11773))),
                d = n(99614),
                c = n(45311);

            function f(e) {
                var t = e.contact;
                return p(e.msgs.toArray(), t)
            }

            function p(e, t) {
                return e.reduce((function(e, n) {
                    var a, r = (null === (a = n.interactivePayload) || void 0 === a ? void 0 : a.buttons) || [{}],
                        o = (0, i.default)(r, 1)[0],
                        l = o.name,
                        u = o.buttonParamsJson;
                    if (n.nativeFlowName === s.default.ORDER_DETAILS) {
                        var f = n.t,
                            p = (0, d.paramsJsonToOrderInfo)(l, u);
                        p && e.contactsAndOrdersInfo.push({
                            contact: t,
                            orderInfo: p,
                            timestamp: f,
                            interactiveMsg: h(n)
                        })
                    } else if (n.nativeFlowName === s.default.ORDER_STATUS) {
                        var m = (0, c.paramsJsonToOrderStatusInfo)(l, u);
                        m && e.ordersStatusInfo.push(m)
                    }
                    return e
                }), {
                    contactsAndOrdersInfo: [],
                    ordersStatusInfo: []
                })
            }

            function h(e) {
                var t = e.safe();
                return t.type === l.MSG_TYPE.INTERACTIVE ? t : null
            }
            t.getOrderDisplayDate = function(e, t, n) {
                var a = u.Clock.relativeDateStr(e[t[n]].timestamp).toString();
                return a === (n > 0 ? u.Clock.relativeDateStr(e[t[n - 1]].timestamp).toString() : "") ? "" : a
            }
        },
        18489: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.OrderStatusLabels = void 0;
            var r, i = a(n(59713)),
                o = n(48360),
                l = n(45311),
                u = (r = {}, (0, i.default)(r, String(l.OrderStatus.Pending), o.fbt._("Pending", null, {
                    hk: "4GysRv"
                })), (0, i.default)(r, String(l.OrderStatus.Processing), o.fbt._("Processing", null, {
                    hk: "42EV23"
                })), (0, i.default)(r, String(l.OrderStatus.PartiallyShipped), o.fbt._("Partially shipped", null, {
                    hk: "2GgHwQ"
                })), (0, i.default)(r, String(l.OrderStatus.Shipped), o.fbt._("Shipped", null, {
                    hk: "30IDPY"
                })), (0, i.default)(r, String(l.OrderStatus.Complete), o.fbt._("Completed", null, {
                    hk: "1e4PVy"
                })), (0, i.default)(r, String(l.OrderStatus.Canceled), o.fbt._("Cancel", null, {
                    hk: "2TY0Hb"
                })), r);
            t.OrderStatusLabels = u
        },
        79459: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.getAction = function(e) {
                var t = e.key,
                    n = e.ctrlKey,
                    a = e.metaKey,
                    r = e.altKey,
                    i = e.shiftKey;
                if ("Control" === t || "Meta" === t || "Alt" === t || "Shift" === t) return;
                return n && a || n && r ? u[function(e, t) {
                    if (t && ("Tab" === e || "Enter" === e || "Backspace" === e || " " === e)) return `Shift+${e}`;
                    return e
                }(t, i)] : void 0
            }, t.getAdditionalShortcuts = function() {
                var e = {};
                return Array.from(i.default.members()).forEach((function(t) {
                    var n = o(t);
                    n.length <= 1 || n.slice(1).forEach((function(n) {
                        var a = n.key,
                            r = n.nativeKey,
                            i = n.nativeModifier,
                            o = r || a;
                        o && (e[s(o, i)] = t)
                    }))
                })), e
            }, t.getKey = function(e) {
                var t = o(e);
                if (!t.length) return;
                var n = t[0],
                    a = n.key,
                    r = n.nativeKey,
                    i = n.nativeModifier,
                    l = r || a;
                return l ? s(l, i) : void 0
            }, t.getShortcutKey = function(e) {
                var t = o(e);
                if (t.length) {
                    var n = t[0],
                        a = n.key,
                        r = n.nativeKey;
                    n.webKey;
                    return r || a
                }
                return
            };
            var r = a(n(11700)),
                i = a(n(49305));

            function o(e) {
                switch (e) {
                    case i.default.CONTACT_US:
                        return [{
                            key: "H"
                        }];
                    case i.default.DELETE_OR_EXIT_CHAT:
                        return [{
                            key: "Backspace",
                            nativeKey: "D"
                        }];
                    case i.default.GO_TO_NEXT_CHAT:
                        return [{
                            key: "Tab",
                            nativeModifier: "Ctrl"
                        }, {
                            key: "}"
                        }];
                    case i.default.GO_TO_PREV_CHAT:
                        return [{
                            key: "Shift+Tab",
                            nativeModifier: "Ctrl"
                        }, {
                            key: "{"
                        }];
                    case i.default.LOGOUT:
                        return [];
                    case i.default.OPEN_NEW_CHAT:
                        return [{
                            key: "n"
                        }];
                    case i.default.OPEN_NEW_GROUP:
                        return [{
                            key: "N"
                        }];
                    case i.default.OPEN_PROFILE:
                        return [{
                            key: "p"
                        }];
                    case i.default.OPEN_SETTINGS:
                        return [{
                            key: ","
                        }];
                    case i.default.SEARCH:
                        return [{
                            webKey: "/",
                            nativeKey: "f"
                        }];
                    case i.default.SEARCH_IN_CHAT:
                        return [{
                            key: "F"
                        }];
                    case i.default.TOGGLE_ARCHIVE:
                        return [{
                            key: "E"
                        }];
                    case i.default.TOGGLE_MUTE:
                        return [{
                            key: "M"
                        }];
                    case i.default.TOGGLE_PIN:
                        return [{
                            key: "P"
                        }];
                    case i.default.TOGGLE_UNREAD:
                        return [{
                            key: "U"
                        }];
                    case i.default.ZOOM_IN:
                        return [{
                            key: "+"
                        }, {
                            key: "="
                        }];
                    case i.default.ZOOM_OUT:
                        return [{
                            key: "-"
                        }];
                    case i.default.ZOOM_RESET:
                        return [{
                            key: "0"
                        }];
                    case i.default.INCREASE_PTT_SPEED:
                        return [{
                            key: ">"
                        }];
                    case i.default.DECREASE_PTT_SPEED:
                        return [{
                            key: "<"
                        }];
                    case i.default.OPEN_EMOJI_PANEL:
                        return [{
                            key: "e"
                        }];
                    case i.default.OPEN_GIF_PANEL:
                        return [{
                            key: "g"
                        }];
                    case i.default.OPEN_STICKER_PANEL:
                        return [{
                            key: "s"
                        }];
                    case i.default.TOGGLE_STICKER_MAKER:
                        return [{
                            key: "S"
                        }];
                    default:
                        return []
                }
            }
            var l, u = (l = {}, Array.from(i.default.members()).forEach((function(e) {
                o(e).forEach((function(t) {
                    var n = t.key,
                        a = t.webKey || n;
                    a && (l[a] = e)
                }))
            })), l);

            function s(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "CmdOrCtrl",
                    n = "+" !== e ? e : "Plus",
                    a = 1 === n.length && n.match(/[a-z]/i);
                if (!a) return `${t}+${(0,r.default)(n)}`;
                var i = n.match(/[a-z]/);
                return i ? `${t}+${(0,r.default)(n)}` : `Shift+${t}+${n}`
            }
        },
        98110: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.TOS_BASE_URL = void 0, t.getTosUrl = function() {
                return `${i}?lg=${r.default.getLocale()}`
            };
            var r = a(n(45159)),
                i = "https://www.whatsapp.com/legal/";
            t.TOS_BASE_URL = i
        },
        97843: (e, t, n) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.validateURL = t.validateEmail = t.EMAIL_REGEX = void 0;
            var a = n(29034),
                r = new RegExp(/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/);
            t.EMAIL_REGEX = r;
            t.validateEmail = function(e) {
                return !e || r.test(e)
            };
            t.validateURL = function(e) {
                return !e || a.URL_REGEX.test(e)
            }
        },
        68971: (e, t, n) => {
            e.exports = n.p + "img/animated-doodle_600127bdb5f7627ede5cd4ef320f55b0.png"
        },
        82126: (e, t, n) => {
            e.exports = n.p + "img/sticker-pack-empty_9f0c66fc3aec33b2f78f0ae1721e053b.png"
        },
        6846: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                editMain: "_3xeOe",
                dayMain: "elIXU",
                timeWrapper: "_3u7Nx",
                hoursAnd: "VtTvE",
                hoursMain: "_1t1ZU",
                dayCheckbox: "_1_yf5",
                dayInfo: "_2ycHc",
                dayInfoText: "_2RSsg"
            }
        },
        88712: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                editMain: "_1GBQ2",
                list: "_2ORz2",
                rowMain: "_1DFmp",
                rowCheckbox: "_2pPkR",
                rowLabel: "_1NGCs",
                disabled: "YVobU",
                loadingSpinner: "_2-B6b",
                searchBackground: "_1Fb5R"
            }
        },
        17: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                verifiedNameIcon: "_3PMWi",
                noPaddingTop: "_23GE5"
            }
        },
        38968: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                loadingSpinner: "_27f4X"
            }
        },
        28759: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                info: "_1bDv-",
                footer: "_2a_BY",
                emptyCartContainer: "_2hNBn",
                emptyCardHeader: "_3SGPw",
                emptyCardText: "_1_kdr",
                btnSend: "apgxN",
                cartMessage: "_25cOj"
            }
        },
        86766: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                price: "_2TWGj",
                actions: "_3qMz1",
                deleteIcon: "X73p1",
                cartListItem: "_22OLH"
            }
        },
        36825: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                descriptionText: "_3cn-t",
                loadingSpinner: "_39T3a"
            }
        },
        45231: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                nameContainer: "_2ZSfJ",
                nameIcon: "_2c2YS",
                nameEdit: "_3z09E",
                listContainer: "_3qa_s",
                footer: "_mlI_",
                saveButton: "_1Ah-d",
                operation: "hCFEO",
                spinner: "_2GKPh",
                isSending: "_29OTP",
                container: "_20LKm",
                loadingSpinner: "_1oYzh"
            }
        },
        30806: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                productWrapper: "rJvJe",
                drawerHeader: "_1FOnF",
                drawerHeaderButtonContainer: "_31Lzw",
                deleteButtonContainer: "_3ACRw",
                isSending: "PH_zP",
                spinner: "_2uvSh",
                hiddenLabel: "_1iq2E",
                hiddenDescr: "_2CpMK",
                hiddenContainer: "_3CZ_C"
            }
        },
        12162: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                addItemPlaceholder: "_1qJg-",
                placeholderIcon: "_36m_1",
                placeholderContainer: "_1G1TN",
                divider: "Ba9cd",
                isLoading: "_1GbNE",
                spinner: "_2K6GK"
            }
        },
        37870: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                drawerHeader: "_3jATq",
                productName: "_1v6Jb",
                buttonSeparator: "_2DYm7",
                drawerHeaderButtonContainer: "_1TIjK",
                productWrapper: "_2jzzC",
                businessInfoTitle: "_3Lz6H"
            }
        },
        95959: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                root: "_10NM0",
                appealText: "_1K_U7",
                icon: "_3eVMu",
                text: "Qqtdl"
            }
        },
        62275: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                collectionIcon: "_2tGWa",
                iconContainer: "_1iPYw"
            }
        },
        41171: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                loadingSpinner: "o3c-l"
            }
        },
        63077: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                panel: "_1TOgh",
                tileContainer: "_1vfS7",
                imageTile: "_2a_Q7",
                imageThumb: "Cbc-m",
                deleteIcon: "_2WYev",
                btnAddContainer: "_1ar7j",
                btnAddText: "RAMrK",
                errorMessage: "_3E49Y"
            }
        },
        60197: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                list: "_2V4Ys",
                noSections: "_82KlQ"
            }
        },
        76624: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                title: "_2bLEK"
            }
        },
        47500: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                disabled: "_1W_mm",
                title: "_2jAho"
            }
        },
        72430: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                title: "_3Q5hz"
            }
        },
        52904: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                title: "_13MJe",
                text: "hM3sj",
                icon: "_1p9YY"
            }
        },
        23167: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "_2RE0a",
                border: "_3t6bN",
                square: "_36Gk7",
                avatar: "_1b8fw",
                count: "_1gLP4",
                two: "_1EzI5",
                first: "JOgRb",
                second: "_3Q0g1",
                three: "_33l2L",
                third: "_1MivT",
                four: "_18BoY",
                fourth: "_1P7KC"
            }
        },
        15922: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                imageGallery: "_3uMAp",
                imageGalleryList: "_1WX5F",
                imageGalleryItem: "MkTEt",
                imageGalleryItemSpacer: "_2ppZW",
                imageGalleryItemImage: "_6CxGV",
                imageGalleryItemOverlay: "_7mUkD",
                selected: "_1KnO5",
                imageGalleryFooter: "PYlBE",
                focusAnimation: "_30mp5",
                focusAnimationKeyframes: "_3i50e"
            }
        },
        1906: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                key: "_3XnBm"
            }
        },
        73016: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "_3cOtp",
                body: "_1YLvc"
            }
        },
        31113: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "_1w1m1",
                disabled: "_3Sg2g",
                count: "ItnCt",
                large: "_3OTTU"
            }
        },
        11300: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                versionInfo: "AwT3E"
            }
        },
        74692: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                positioner: "_388vZ",
                container: "ewANj",
                resizableInput: "_1L8rJ",
                emojiButton: "_3tKNQ",
                buttonIconWrapper: "_1F5dF",
                inputContainer: "_3DCJ3",
                hiddenText: "_269u7",
                hiddenTextLine: "_3F7_-",
                emojiPlaceholder: "_39TQD"
            }
        },
        22778: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "_2nStn",
                inputContainer: "_1VmmK",
                videoCaption: "_2M4pc",
                buttonContainer: "_26J91",
                clearBtn: "_3EUIt",
                inputEmoji: "I1HlI",
                charCounter: "_3HWI2",
                suggestionsPositioner: "_3-qS1",
                suggestionsContainer: "_1Uy4i",
                secondaryButtonContainer: "_3g507"
            }
        },
        81212: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                thumb: "_2AkjL",
                active: "_31gut",
                bodyWrapper: "_1iECW",
                body: "_1hZLd",
                bodyIcon: "_299B_",
                btnDelete: "_1By33"
            }
        },
        28224: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "_34aQy",
                header: "qAj2u",
                headerRight: "_3PqRX",
                canvasContainer: "_1PFn9",
                cropRotateContainer: "_3zRbB",
                closeButton: "_1gvdP",
                closeButtonPlaceholder: "_1Ao72",
                canvas: "_153i9",
                footer: "_1nPzf",
                bottomToolbar: "_1nNuD",
                captionInputContainer: "_1iQr1",
                captionInputHidden: "_6dYhh"
            }
        },
        33241: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "_1Mcu-",
                previewOnly: "_2NB7f",
                dropOverlay: "_1PdGl",
                dropOverlayOutline: "_2HexZ",
                spinner: "pzFG8",
                footer: "_1HI4Y",
                addMediaButton: "_1xotB",
                addMediaButtonDisabled: "WAMhx",
                filmstripContainer: "_1vAZI",
                thumbs: "_7Tfhi",
                sendButton: "_33pCO",
                captureFooter: "_1z1Aw"
            }
        },
        95664: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "_3gx1m",
                cropperContainer: "_2mSFk"
            }
        },
        86325: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                body: "_25wph",
                previewContainer: "OW_mU",
                previewIcon: "_4FGL4",
                header: "_1Xi6x",
                metadata: "_3QpE7"
            }
        },
        50983: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "jcXC6"
            }
        },
        83178: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "_2SXhH",
                footer: "UJ-0N"
            }
        },
        11653: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "_2wtUo",
                selected: "_3z23o",
                disabled: "wZyqj",
                icon: "ZZ0GN",
                rotate: "_2X1cd",
                body: "_2O4Bw",
                caret: "_104hn"
            }
        },
        88254: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "_3eK79",
                colorChipsContainer: "_1E-L7"
            }
        },
        38289: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                colorButton: "_2J8i-",
                primaryColorChip: "fteqj",
                primaryColorChipMedium: "_1Rjww",
                secondaryColorChip: "_1H9V5",
                active: "_3Jsf_",
                hover: "_1jiBu",
                selected: "_1lanH",
                colorChipWithBorder: "_2WYx6"
            }
        },
        85088: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "_1uNZ6",
                input: "_1bDiJ"
            }
        },
        28526: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                canvas: "_3ZCwl",
                cursor: "_1YJQa"
            }
        },
        53591: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "fZGUF"
            }
        },
        25708: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "_1LRKO",
                rotateLeftButton: "_3dKFO"
            }
        },
        43685: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "QUfeO",
                fontLabel: "_3OMGG",
                icon: "_3SJCV"
            }
        },
        38128: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                item: "_1j1xr",
                selected: "_2DKLD",
                sansSerif: "_106wS",
                serif: "_1yqqW",
                noricanRegular: "bzq8z",
                bryndanWrite: "_3Pj9c",
                oswaldHeavy: "ah3iR",
                alignmentContainer: "_2lKFu",
                alignmentIcon: "mi3vs",
                alignmentIconSelected: "_1KlZW"
            }
        },
        13813: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                cirle: "_10ZsU",
                circleFilled: "_1ZATr",
                unchecked: "_1B4g5",
                checked: "_3s-4-"
            }
        },
        92753: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "_1_bv-",
                thicknessButton: "_3bAiP",
                thicknessChip: "_3iRrK",
                selected: "_32C9L"
            }
        },
        81402: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "JKr_m",
                media: "_3R3yC"
            }
        },
        78119: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "_3fFxj",
                media: "_3lqv9",
                document: "hH6sl",
                text: "eAWMI",
                icon: "fDWKK"
            }
        },
        39133: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "_1ULgK",
                media: "_2gN82",
                img: "OunMM",
                audio: "_3ZDt1",
                videoContainer: "_33jN5",
                spinner: "_1-L7X",
                video: "_2Vd8_",
                staticPreview: "sWhPU"
            }
        },
        8338: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "_2nVq-",
                preview: "_1K_xd",
                caption: "_3xLDc",
                img: "_2zsdh",
                imgBorder: "_2Cuay"
            }
        },
        54832: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                inputContainer: "_hcHx",
                label: "_2Nd6M",
                input: "_3qFYS"
            }
        },
        44616: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "_3XAt1",
                wallpaperColorCanvas: "_2IV17",
                wallpaperColorEmpty: "ZxOfr",
                canvasActive: "_3ts_T",
                canvasHover: "_1zeZ4"
            }
        },
        39132: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                addLabelBtContainer: "_2RW7t"
            }
        },
        27053: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                actionBtns: "_1NODy",
                newLabelBtn: "_3_CYW",
                plus: "_3vPCO"
            }
        },
        9837: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                list: "_2i0C9",
                hint: "_3sZ4R",
                button: "AoASc"
            }
        },
        14306: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "_3zKdl",
                body: "Sy3TC",
                captionInput: "_32AUO",
                footer: "_11gZr",
                retakeBtn: "rKFEM",
                retakeIcon: "_2rZzC",
                caption: "_1sxcB",
                videoContainer: "_2xIhM",
                video: "_2jZjN",
                btn: "_2kkeT",
                videoInactive: "_2eCp4",
                btnSend: "_1103Z",
                image: "_288ya",
                snapshot: "_3sE1m"
            }
        },
        23024: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                defaultGroupIcon: "_3uDrP"
            }
        },
        13600: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                newGroupButton: "EptxG",
                defaultGroupIcon: "bSJ6w"
            }
        },
        52697: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                icon: "_2WtuC",
                body: "_3TCJd",
                spinner: "_1PKms",
                ack: "YYcY9",
                statusBlue: "_13UwK"
            }
        },
        61043: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                section: "Yc7EA",
                container: "_3Q-IP",
                control: "_2-cwr",
                label: "_22inq"
            }
        },
        17731: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                dropOverlay: "PHaD9",
                dropOverlayOutline: "WsbTY"
            }
        },
        37783: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                btnSend: "_1WEiG",
                attributionLink: "_4yicW",
                mediaBody: "_1YZ48",
                attribution: "_1nd00",
                footer: "iajo1",
                containerBackground: "_3rPvK",
                retake: "_3r-Fa",
                retakeIcon: "_3SS26",
                mediaElementBase: "_3ULIF",
                mediaElement: "_38bBM _3ULIF"
            }
        },
        88805: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                mediaViewerImg: "_2rSfC",
                cropOverlay: "pKKiG"
            }
        },
        27: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                scaler: "_3QxRj",
                scalerButton: "P6r3N"
            }
        },
        19517: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                wrapper: "fvxZ_",
                icon: "_3kxe5",
                text: "sfUBV"
            }
        },
        99223: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                linkContainer: "_3eSYR",
                descContainer: "_1r8tU",
                icon: "_3qnQ8"
            }
        },
        58529: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                confirmationText: "_2rM2V"
            }
        },
        42188: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                title: "_3X4ur",
                titleIcon: "_3v5-C",
                ack: "_3hJA9",
                statusBlue: "_31P1q",
                forwardCount: "_36jfD",
                spinner: "_3pJTm",
                list: "_34Zzk",
                footer: "W5HdQ"
            }
        },
        19685: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                commentInput: "_2_o99",
                search: "_1Plju",
                groupInfo: "_2wLei",
                onSendInvite: "_2-WpU"
            }
        },
        7078: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                animation: "o43XS",
                "play-ltr": "_1-zyO",
                playLtr: "_1-zyO",
                "play-rtl": "_27Hce",
                playRtl: "_27Hce",
                versionInfo: "_1hWGI"
            }
        },
        38899: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "Ph7CX",
                list: "_3_bJS",
                section: "_3FmxE",
                action: "_1rse8",
                shortcut: "_1Cbf3"
            }
        },
        43588: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "_2BtE_",
                textContainer: "_2Tvyf",
                spinner: "HYKvS"
            }
        },
        25075: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "_2136P",
                list: "C1Dd9",
                header: "K1c_P",
                item: "_16f8P",
                right: "DMk3i",
                left: "_1mO8w",
                close: "_38Gu8",
                name: "_2z4ea",
                time: "_4VLPt"
            }
        },
        55878: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                wrapper: "_9Gs_R",
                offline: "_3rEcJ",
                circle: "_2Xn1u",
                text: "_1nFpn",
                notification: "p9CjV",
                ended: "_2OrJW",
                lastUpdated: "_3VPfk"
            }
        },
        81964: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                wrapper: "_26J0I",
                inactive: "_2ZG5x",
                offline: "Pc7bU",
                circle: "_1487t",
                text: "_2WNWn",
                backToCenter: "_3LWZ9",
                visible: "_2Ozk7"
            }
        },
        82165: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "_2BPRJ",
                map: "_312iE",
                authFailed: "xgGDH",
                loading: "L5P7F"
            }
        },
        24725: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "_3rs7K",
                selected: "_10G_J",
                glow: "h5TUN",
                stale: "_3WyhQ",
                expired: "_1HO_K",
                pin: "_2JeQm"
            }
        },
        4910: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                list: "D0Q5P",
                stopSharingButton: "_8wYL"
            }
        },
        60136: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                popup: "_1O7kH",
                container: "_1qWAL",
                twoLines: "_2dn9y",
                name: "_2UN5N",
                status: "_1fM0V",
                menuButton: "_2UenO",
                triangle: "_1NoUg"
            }
        },
        68401: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                nextButton: "_1Opmc",
                section: "_1p7Ee",
                header: "_1AdYi",
                chevronIcon: "_3Xfdv"
            }
        },
        6672: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                spinner: "_27bPO",
                search: "_3zFPA",
                inputarea: "_1x9wV",
                inputLine: "etp_f",
                contacts: "_2DdHI",
                drawerSection: "_37Xh5",
                inputareaSizer: "_2-opG"
            }
        },
        85043: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                photoPickerWrapper: "_1Mc0y",
                scale: "_55HVY",
                nameWrapper: "_2LTDQ",
                "well-animation": "_1EgwP",
                wellAnimation: "_1EgwP",
                phoneIcon: "_9P72S",
                phoneField: "_1zywm",
                infoText: "_3FDYs",
                bannedShopInfoText: "_1EFZ5",
                content: "_3XR9y"
            }
        },
        91760: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                text: "_2QEzO",
                checkbox: "_3xbR9",
                header: "_1_8IZ"
            }
        },
        97206: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "_1J075",
                section: "_2BZQN",
                control: "_1iSYt",
                label: "_3AXj8",
                disabled: "_1Aj3d"
            }
        },
        27928: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                more: "_394Lu",
                hotKeyWraper: "_3lwKF"
            }
        },
        32252: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                body: "nWPOn",
                vcardWrapper: "j80SY",
                btnContainer: "_386ov",
                btnPosition: "_3o41r"
            }
        },
        99240: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                form: "_1_psp",
                section: "S4s9L",
                "well-animation2": "_3PdLd",
                wellAnimation2: "_3PdLd",
                circle: "_1C64q",
                spinner: "_3Ea-7",
                container: "xvgoq",
                show: "_2FUyH",
                circleContainer: "_28mPV",
                checkmarkContainer: "_1TMgk",
                errorContainer: "_1ScAm",
                checkmark: "qlZ5I",
                error: "_3Fr6b",
                errorBanner: "_3PYWJ",
                code: "xYqL-",
                row: "hsOn4",
                block: "_3WPv2",
                digit: "_3Muc-",
                explanation: "_37tSc",
                dragAndDropExplanation: "Lbmtf",
                photo: "_1Ua6g",
                "drawer-scale": "_2OqK6",
                drawerScale: "_2OqK6",
                webcam: "_17NcY",
                webcamVideo: "PKLd7",
                btnClose: "_35Nbq",
                overlay: "_3APck"
            }
        },
        17171: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                wallpaperApplyDoodle: "_1aWJq",
                checkboxLabel: "XvSmy",
                wallpaperColorGrid: "KzJy3",
                wallpaperColorCanvas: "Iwkc0",
                wallpaperDefaultTitle: "_2jzUd",
                wallpaperColorEmpty: "_1qqLM",
                canvasHover: "_3Mp8z",
                canvasActive: "_2MCR7",
                canvasDefault: "GRVkn"
            }
        },
        48412: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                dimmed: "khEuM",
                verified: "_3e7DF",
                icon: "_3OVY5"
            }
        },
        20353: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                textThumb: "qgEhU",
                thumbSizeSmall: "_14N8a",
                thumbSizeLarge: "_2dKet",
                statusImage: "_37ckN",
                statusImageFallbackBackground: "_14MS9",
                container: "_3xFA4",
                thumbContainer: "_1cDhn"
            }
        }
    }
]);